pluginFn['/js/plugins/v2/ui3.js'] = function(lucid, window) {
	var t=t||{};t.scope={};t.findInternal=function(b,c,a){b instanceof String&&(b=String(b));for(var d=b.length,e=0;e<d;e++){var f=b[e];if(c.call(a,f,e,b))return{i:e,v:f}}return{i:-1,v:void 0}};t.ASSUME_ES5=!1;t.ASSUME_NO_NATIVE_MAP=!1;t.ASSUME_NO_NATIVE_SET=!1;t.defineProperty=t.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,a){b!=Array.prototype&&b!=Object.prototype&&(b[c]=a.value)};
t.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};t.global=t.getGlobal(this);t.polyfill=function(b,c){if(c){var a=t.global;b=b.split(".");for(var d=0;d<b.length-1;d++){var e=b[d];e in a||(a[e]={});a=a[e]}b=b[b.length-1];d=a[b];c=c(d);c!=d&&null!=c&&t.defineProperty(a,b,{configurable:!0,writable:!0,value:c})}};t.polyfill("Array.prototype.find",function(b){return b?b:function(b,a){return t.findInternal(this,b,a).v}},"es6","es3");var v={currentContext:"none",gridBlocks:{}};function ba(b,c,a){return 1<(lucid.plugin.getProperty(null,"Version")||0)?a(b):c(b)}function z(b,c,a){return{Action:"line",x:b.x+b.w*c,y:b.y+b.h*a}}function A(b,c,a){return{Action:"move",x:b.x+b.w*c,y:b.y+b.h*a}}function B(){return{Action:"close"}}function C(b){return[A(b,0,0),z(b,1,0),z(b,1,1),z(b,0,1),B()]}
function da(b,c,a,d,e,f){lucid.plugin.addBlockTextArea(b,{id:c,value:lucid.text.restyle(a,e),getBoundingBox:function(a){if(f&&f())return null;var b=d&&d(a);return void 0!==b?b:a}})}function ea(b,c){c=c||void 0===c;for(var a=[{Action:"move",x:b[0][0],y:b[0][1]}],d=1;d<b.length;d++)a.push({Action:"line",x:b[d][0],y:b[d][1]});c&&a.push({Action:"close"});return a}
lucid.plugin.onDocumentLoaded(function(){function b(a,b,c,d){var e={};lucid.array.forEach(a,function(a){a=lucid.plugin.getProperty(a,b);null!=a&&(e[a]?e[a]++:e[a]=1)});var f=0,g=c;lucid.object.forEach(e,function(a,b){a>f&&(g=b,f=a)});switch(d){case "boolean":g="false"==g?!1:!0;break;case "number":g=Number(g)}return g}function c(a,b){for(var c=lucid.plugin.getProperty(b[0],a),d=1;d<b.length;d++)if(c!=lucid.plugin.getProperty(b[d],a))return null;return c}function a(a,b){for(var c=lucid.plugin.getProperty(b[0],
a),d=1;d<b.length;d++){var e=lucid.plugin.getProperty(b[d],a);e<c&&(c=e)}return c}function d(a,b,c,d){n&&a.spacer();n=!0;d=d||6;var e=6-d;c&&a.addGrid({width:6,content:{classes:"crop ralign",text:c}});a.openGrid({prefix:c?0:6,width:d,suffix:e});b=a.addInput(b);a.close();return b}function e(a,c,d,e,f){n&&a.spacer();n=!0;a.addGrid({width:6,content:{text:e+":",classes:"crop ralign"}});a.openGrid({width:6});e=a.addInput({type:"checkbox",checked:b(c,d,!1,"boolean"),onChange:function(a){f&&f(a);l(c,d,a)}});
a.close();return e}function f(a,b,c,e,f){d(a,{type:"colorwell",value:f,onChange:function(a,d){d||l(b,c,a)}},e)}function g(a,b,c,e,f,g,h){d(a,{type:"select",options:lucid.array.realMap(f,function(a){return{label:a,value:a,selected:a==g}}),onChange:function(a){h?lucid.array.forEach(b,function(b){h(b,a)}):l(b,c,a);lucid.array.forEach(this.options,function(b){b.selected=b.value==a})}},e)}function h(a,b,c,e,f,g,h,k,m){return d(a,{type:"spinner",min:f,max:g,value:h,defaultVal:k,loop:!1,onChange:function(a){m?
lucid.array.forEach(b,function(b){m(b,a)}):l(b,c,a)}},e,3)}function l(a,b,c){lucid.array.forEach(a,function(a){lucid.plugin.setPropertyIfChanged(a,b,c)})}function k(a,b){var c=[];lucid.array.forEach(a,function(a){b(a)&&c.push(a.id)});return c}function m(d,e){function g(a,b){h&&h.setMax(a);b||lucid.array.forEach(e.ids,function(b){if("Options"==e.prop){var c={UI3CheckBoxBlock:"v",UI3RadioBlock:"v",UI3HorizontalCheckBoxBlock:"h",UI3HorizontalRadioBlock:"h"},d=lucid.plugin.getBlockClassName(b);if(c[d]){var f=
lucid.plugin.getProperty(b,e.prop);if(f!=a){var g=lucid.plugin.getProperty(b,"BoundingBox");"v"==c[d]?g.h=g.h/f*a:g.w=g.w/f*a;lucid.plugin.setProperty(b,"BoundingBox",g)}}}lucid.plugin.setPropertyIfChanged(b,e.prop,a)})}e.pairs=e.pairs||[];r&&!e.nospace&&d.spacer();r=!0;if("spinner"==e.type){if(d.addGrid({width:6,content:{text:e.name+":",classes:"crop ralign"}}),d.openGrid({width:3,suffix:3}),d.addInput({type:"spinner",min:e.min||1,max:e.max||100,step:1,value:c(e.prop,e.ids),defaultVal:" ",onChange:g}),
d.close(),0<e.pairs.length){d.spacer();d.addGrid({width:6,content:{text:"Selected:",classes:"crop ralign"}});d.openGrid({width:3,suffix:3});var h=d.addInput({type:"spinner",min:0,max:c(e.prop,e.ids)||a(e.prop,e.pairs),step:1,value:c("Selected",e.pairs),defaultVal:" ",onChange:function(a){lucid.array.forEach(e.pairs,function(b){lucid.plugin.setPropertyIfChanged(b,"Selected",a)})},displayFunction:function(a){return 0==a||""==a||"None"==a?"None":a}});d.close()}}else"buttonset"==e.type?(d.addGrid({width:6,
content:{text:e.name+":",classes:"crop ralign"}}),d.openGrid({width:6}),d.addInput({type:"buttonset",buttons:lucid.array.realMap(e.buttons,function(a){return{icon:a.icon,value:a.prop,selected:function(){return c(a.prop,e.ids)},action:function(){var b=c(a.prop,e.ids)?0:1;lucid.array.forEach(e.ids,function(c){lucid.plugin.setPropertyIfChanged(c,a.prop,b)})}}})}),d.close()):"button"==e.type?(d.openGrid({width:6,prefix:3,suffix:3}),d.addButton({onClick:function(){e.onClick(e.id)},label:e.text}),d.close()):
"colorwell"==e.type&&f(d,e.ids,e.prop,e.name,b(e.ids,e.prop,e.defaultColor))}var p=lucid.template.builder(),q=p.add({classes:"ui3_inputs"}),r=!1,n=!1,u=!1;lucid.plugin.addCustomPanel("Context Panel",null,[{content:p}],null,{isContextPanel:!0,checkShow:function(a){a=lucid.array.filter(a,function(a){return a.isBlock});if(!lucid.array.every(a,function(a){return 0==a.className.search("UI3")}))return!1;var d=!1;r=!1;var f=lucid.template.builder(),n={Tabs:{ids:[],name:"Tabs",type:"spinner",prop:"Tabs",
pairs:[]},Links:{ids:[],name:"Links",prop:"Links",type:"spinner"},Panels:{ids:[],name:"Panels",prop:"Panels",type:"spinner",pairs:[]},Buttons:{ids:[],name:"Buttons",prop:"Buttons",type:"spinner",pairs:[]},Options:{ids:[],name:"Options",prop:"Options",type:"spinner",pairs:[]},Cols:{ids:[],name:"Columns",prop:"Cols",type:"spinner"},Rows:{ids:[],name:"Rows",prop:"Rows",type:"spinner"},SideLength:{ids:[],name:"Input Size",prop:"SideLength",type:"spinner"},SelectedColor:{ids:[],name:"Selected Color",prop:"SelectedColor",
type:"colorwell",defaultColor:"#000"},Scrollbars:{ids:[],name:"Scrollbars",prop:"vScroll",type:"buttonset",buttons:[{prop:"vScroll",icon:"vscrollbar"},{prop:"hScroll",icon:"hscrollbar"}]}},x={UI3TableBlock:{onClick:fa,text:"Edit Markup",type:"button"},UI3ContextMenuBlock:{onClick:ha,text:"Edit Markup",type:"button"},UI3TreePaneBlock:{onClick:ia,text:"Edit Markup",type:"button"}},w=k(a,function(a){return"UI3SideBarBlock"==a.className});if(w.length){e(f,w,"ViewMode","Toggle View");var y=b(w,"MenuItems",
4,"number");h(f,w,"MenuItems","Menu Items",1,100,y,1);d=!0}w=k(a,function(a){return"UI3GridBlock"==a.className});if(w.length){m(f,{type:"spinner",name:"Columns",ids:w,min:2,max:24,prop:"GridColumns"});m(f,{type:"spinner",name:"Gutter",ids:w,min:2,max:50,prop:"GridGutterSize"});e(f,w,"HideGrid","Hide Grid");var E=function(a,b){b=parseInt(b);if(!isNaN(b)){var c=lucid.plugin.getProperty(a,"BoundingBox");c.w=b;lucid.plugin.setPropertyIfChanged(a,"BoundingBox",c)}};y=c("GridWidth",w);g(f,w,"GridWidth",
"Width",ja.concat(["Custom"]),y,function(a,b){E(a,b);lucid.plugin.setPropertyIfChanged(a,"GridWidth",b)});"Custom"==c("GridWidth",w)&&(y=(y=c("BoundingBox",w))&&y.w||null,l(w,"GridWidthText",y),h(f,w,"GridWidthText",null,1,1E4,y,960,function(a,b){E(a,b);lucid.plugin.setPropertyIfChanged(a,"GridWidthText",b)}));d=!0}lucid.array.forEach(a,function(a){lucid.object.forEach(n,function(b){null!=lucid.plugin.getProperty(a.id,b.prop)&&(b.ids.push(a.id),b.pairs&&"number"==typeof lucid.plugin.getProperty(a.id,
"Selected")&&b.pairs.push(a.id))})});lucid.object.forEach(n,function(a){0<a.ids.length&&(m(f,a),d=!0)});1==a.length&&x[a[0].className]&&!lucid.useragent.is_touch()&&(x=x[a[0].className],x.id=a[0].id,m(f,x),d=!0);u=d&&0<a.filter(function(a){return"UI3HorizontalRadioBlock"==a.className||"UI3HorizontalCheckBoxBlock"==a.className}).length?!0:!1;(function(){setTimeout(function(){p.getElement(q).setContent(f);f.refreshInputs()},10)})();return d},positionFunction:function(a){return u?{x:a.x+a.w/2,y:a.y+
a.h}:!1},refreshProperties:["GridWidth"]})});var ja=["480 px","768 px","960 px","980 px","1200 px"];
function ka(b,c,a,d,e,f,g){var h=a.split("/");h=h[h.length-1];h=h.split(".")[0].replace(/-/g,"_");b="UI3Image_"+b.split(" ")[0].toLowerCase()+"_"+h;h=["ui","interface"].concat(lucid.string.trim(c.replace(/as|with|iphone/gi,"").replace(/\W/g," ").replace(/\s+/g," ")).split(" "));lucid.plugin.initBlockClass({className:b,name:c,searchKeywords:h,defaultSize:{w:e,h:f},minHeight:20,maxHeight:20,snapSpacing:4,onInit:function(){},getRenderData:function(b,c){var h=b.BoundingBox,l=e/f,k=h.w/h.h;l>k?(l=h.w/
l,l={x:h.x,y:h.y+(h.h-l)/2,w:h.w,h:l}):l<k?(l*=h.h,l={x:h.x+(h.w-l)/2,y:h.y,w:l,h:h.h}):l=lucid.object.copy(h);return"sample"==c?[{FillColor:{url:d,pos:{x:2,y:2,w:23,h:23}},Actions:lucid.math.Box.toRenderActions({x:2,y:2,w:23,h:23})}]:g?g(b,a,l,e,f,h):[{FillColor:{url:a,pos:l},Actions:lucid.math.Box.toRenderActions(l)}]}})}function G(b,c){for(var a=0;a<c.length;a++)b.push(c[a])}
function H(b,c,a,d){return[{StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y+.4*b.h},{Action:"line",x:b.x+.4*b.w,y:b.y+b.h},{Action:"line",x:b.x+b.w,y:b.y}]}]}function oa(b,c,a,d){return[{StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y+.5*b.h},{Action:"line",x:b.x+b.w,y:b.y+.5*b.h},{Action:"move",x:b.x+.5*b.w,y:b.y},{Action:"line",x:b.x+.5*b.w,y:b.y+b.h}]}]}
function pa(b,c,a,d){return[{StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y+.5*b.h},{Action:"line",x:b.x+b.w,y:b.y+.5*b.h}]}]}
function J(b,c,a,d,e,f){var g=[{FillColor:c,StrokeColor:a,LineWidth:d,Actions:[{Action:"move",x:b.x+b.w,y:b.y+.5*b.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(b.x,b.y,b.w,b.h,0,2*Math.PI)},{Action:"close"}]}];if(e){var h=.5*(1-Math.SQRT1_2)*b.w,l=.5*(1-Math.SQRT1_2)*b.h;b={x:b.x+h,y:b.y+l,w:b.w-2*h,h:b.h-2*l};f&&(b.x+=f.l*b.w,b.y+=f.t*b.h,b.w-=(f.l+f.r)*b.w,b.h-=(f.t+f.b)*b.h);G(g,e(b,c,a,d))}return g}function qa(b,c,a,d,e,f){return J(b,a,a,d,e,f)}
function L(b,c,a,d,e,f){var g=[{FillColor:c,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:C(b)}];e&&(b={x:b.x+0,y:b.y+0,w:b.w-0,h:b.h-0},f&&(b.x+=f.l*b.w,b.y+=f.t*b.h,b.w-=(f.l+f.r)*b.w,b.h-=(f.t+f.b)*b.h),G(g,e(b,c,a,d)));return g}function M(b,c,a,d,e,f){var g=[];e&&(b={x:b.x+0,y:b.y+0,w:b.w-0,h:b.h-0},f&&(b.x+=f.l*b.w,b.y+=f.t*b.h,b.w-=(f.l+f.r)*b.w,b.h-=(f.t+f.b)*b.h),G(g,e(b,c,a,d)));return g}
function N(b,c,a,d){return[{FillColor:c,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+.5*b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]}]}function O(b,c,a,d){return[{FillColor:c,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x+b.w,y:b.y},{Action:"line",x:b.x,y:b.y+.5*b.h},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"close"}]}]}
function ra(b,c,a,d){return[{FillColor:c,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[A(b,0,0),z(b,1,0),z(b,.5,1),B()]}]}function sa(b,c,a,d){return[{FillColor:c,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[A(b,0,1),z(b,1,1),z(b,.5,0),B()]}]}
function ta(b,c,a,d){return[{FillColor:c,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+.4*b.w,y:b.y},{Action:"line",x:b.x+.5*b.w,y:b.y+.15*b.h},{Action:"line",x:b.x+b.w,y:b.y+.15*b.h},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]}]}
function ua(b,c,a,d){return[{FillColor:c,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x+.1*b.w,y:b.y},{Action:"line",x:b.x+.5*b.w,y:b.y},{Action:"line",x:b.x+.6*b.w,y:b.y+.15*b.h},{Action:"line",x:b.x+b.w,y:b.y+.15*b.h},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x+.1*b.w,y:b.y+b.h},{Action:"close"}]},{FillColor:c,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y+.4*b.h},{Action:"line",x:b.x+.8*b.w,y:b.y+.4*b.h},{Action:"line",x:b.x+b.w,
y:b.y+b.h},{Action:"line",x:b.x+.1*b.w,y:b.y+b.h},{Action:"close"}]}]}
function va(b,c,a,d){return[{FillColor:c,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+.8*b.w,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+.2*b.h},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]},{FillColor:c,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x+.8*b.w,y:b.y},{Action:"line",x:b.x+.8*b.w,y:b.y+.2*b.h},{Action:"line",x:b.x+b.w,y:b.y+.2*b.h},{Action:"move",x:b.x+.2*b.w,y:b.y+.4*b.h},{Action:"line",
x:b.x+.7*b.w,y:b.y+.4*b.h},{Action:"move",x:b.x+.2*b.w,y:b.y+.7*b.h},{Action:"line",x:b.x+.8*b.w,y:b.y+.7*b.h}]}]}function wa(b,c,a,d){var e=[];G(e,N({x:b.x,y:b.y,w:.5*b.w,h:b.h},c,a,d));G(e,N({x:b.x+.5*b.w,y:b.y,w:.5*b.w,h:b.h},c,a,d));return e}function xa(b,c,a,d){var e=[];G(e,O({x:b.x,y:b.y,w:.5*b.w,h:b.h},c,a,d));G(e,O({x:b.x+.5*b.w,y:b.y,w:.5*b.w,h:b.h},c,a,d));return e}
function ya(b,c,a,d){var e={x:b.x+.05*b.w,y:b.y+.35*b.h,w:.2*b.w,h:.3*b.h},f={x:b.x+.35*b.w,y:b.y+.75*b.h,w:.3*b.w,h:.2*b.h},g={x:b.x+.75*b.w,y:b.y+.35*b.h,w:.2*b.w,h:.3*b.h},h={x:b.x+.25*b.w,y:b.y+.25*b.h,w:.5*b.w,h:.5*b.h};b=[].concat(sa({x:b.x+.35*b.w,y:b.y+.05*b.h,w:.3*b.w,h:.2*b.h},c,a,d),O(e,c,a,d),ra(f,c,a,d),N(g,c,a,d));b.push({FillColor:c,NoRounding:!0,Actions:[A(h,.45,0),z(h,.55,0),z(h,.55,.45),z(h,1,.45),z(h,1,.55),z(h,.55,.55),z(h,.55,1),z(h,.45,1),z(h,.45,.55),z(h,0,.55),z(h,0,.45),z(h,
.45,.45),B()]});return b}function P(b,c,a){var d=(b.h>b.w?b.w:b.h)-4*c,e=(b.h-2*d-4*c)/2;return{x:b.x+2*c,y:b.y+d+4*c+a*(b.h-2*d-8*c-e),w:d,h:e}}
function Q(b,c,a,d,e){var f=(b.h>b.w?b.w:b.h)-4*d;e=P(b,d,e||0);return[{FillColor:c,StrokeColor:a,LineWidth:d,Actions:C(b)},{StrokeColor:a,LineWidth:d,Actions:[{Action:"move",x:b.x+2*d,y:b.y+2*d},{Action:"line",x:b.x+f+2*d,y:b.y+2*d},{Action:"line",x:b.x+f+2*d,y:b.y+f+2*d},{Action:"line",x:b.x+2*d,y:b.y+f+2*d},{Action:"close"}]},{FillColor:a,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x+.2*f+2*d,y:b.y+.7*f+2*d},{Action:"line",x:b.x+.8*f+2*d,y:b.y+.7*f+2*d},{Action:"line",x:b.x+
.5*f+2*d,y:b.y+.3*f+2*d},{Action:"close"}]},{StrokeColor:a,LineWidth:d,Actions:[{Action:"move",x:e.x,y:e.y},{Action:"line",x:e.x+e.w,y:e.y},{Action:"line",x:e.x+e.w,y:e.y+e.h},{Action:"line",x:e.x,y:e.y+e.h},{Action:"close"}]},{StrokeColor:a,LineWidth:d,Actions:[{Action:"move",x:b.x+4*d,y:e.y+e.h/2-2*d},{Action:"line",x:b.x+f,y:e.y+e.h/2-2*d},{Action:"move",x:b.x+4*d,y:e.y+e.h/2},{Action:"line",x:b.x+f,y:e.y+e.h/2},{Action:"move",x:b.x+4*d,y:e.y+e.h/2+2*d},{Action:"line",x:b.x+f,y:e.y+e.h/2+2*d}]},
{StrokeColor:a,LineWidth:d,Actions:[{Action:"move",x:b.x+2*d,y:b.y+b.h-2*d},{Action:"line",x:b.x+f+2*d,y:b.y+b.h-2*d},{Action:"line",x:b.x+f+2*d,y:b.y+b.h-f-2*d},{Action:"line",x:b.x+2*d,y:b.y+b.h-f-2*d},{Action:"close"}]},{FillColor:a,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x+.2*f+2*d,y:b.y+b.h-.7*f-2*d},{Action:"line",x:b.x+.8*f+2*d,y:b.y+b.h-.7*f-2*d},{Action:"line",x:b.x+.5*f+2*d,y:b.y+b.h-.3*f-2*d},{Action:"close"}]}]}
function R(b,c,a){var d=(b.h>b.w?b.w:b.h)-4*c,e=(b.w-2*d-4*c)/2;return{x:b.x+d+4*c+a*(b.w-2*d-8*c-e),y:b.y+2*c,w:e,h:d}}
function S(b,c,a,d,e){var f=(b.w>b.h?b.h:b.w)-4*d;e=R(b,d,e||0);return[{FillColor:c,StrokeColor:a,LineWidth:d,Actions:[{Action:"move",y:b.y,x:b.x},{Action:"line",y:b.y+b.h,x:b.x},{Action:"line",y:b.y+b.h,x:b.x+b.w},{Action:"line",y:b.y,x:b.x+b.w},{Action:"close"}]},{StrokeColor:a,LineWidth:d,Actions:[{Action:"move",y:b.y+2*d,x:b.x+2*d},{Action:"line",y:b.y+f+2*d,x:b.x+2*d},{Action:"line",y:b.y+f+2*d,x:b.x+f+2*d},{Action:"line",y:b.y+2*d,x:b.x+f+2*d},{Action:"close"}]},{FillColor:a,StrokeColor:a,LineWidth:d,
NoRounding:!0,Actions:[{Action:"move",y:b.y+.2*f+2*d,x:b.x+.7*f+2*d},{Action:"line",y:b.y+.8*f+2*d,x:b.x+.7*f+2*d},{Action:"line",y:b.y+.5*f+2*d,x:b.x+.3*f+2*d},{Action:"close"}]},{StrokeColor:a,LineWidth:d,Actions:[{Action:"move",x:e.x,y:e.y},{Action:"line",x:e.x+e.w,y:e.y},{Action:"line",x:e.x+e.w,y:e.y+e.h},{Action:"line",x:e.x,y:e.y+e.h},{Action:"close"}]},{StrokeColor:a,LineWidth:d,Actions:[{Action:"move",y:b.y+4*d,x:e.x+e.w/2-2*d},{Action:"line",y:b.y+f,x:e.x+e.w/2-2*d},{Action:"move",y:b.y+
4*d,x:e.x+e.w/2},{Action:"line",y:b.y+f,x:e.x+e.w/2},{Action:"move",y:b.y+4*d,x:e.x+e.w/2+2*d},{Action:"line",y:b.y+f,x:e.x+e.w/2+2*d}]},{StrokeColor:a,LineWidth:d,Actions:[{Action:"move",y:b.y+2*d,x:b.x+b.w-2*d},{Action:"line",y:b.y+f+2*d,x:b.x+b.w-2*d},{Action:"line",y:b.y+f+2*d,x:b.x+b.w-f-2*d},{Action:"line",y:b.y+2*d,x:b.x+b.w-f-2*d},{Action:"close"}]},{FillColor:a,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",y:b.y+.2*f+2*d,x:b.x+b.w-.7*f-2*d},{Action:"line",y:b.y+.8*f+2*d,
x:b.x+b.w-.7*f-2*d},{Action:"line",y:b.y+.5*f+2*d,x:b.x+b.w-.3*f-2*d},{Action:"close"}]}]}lucid.plugin.initBlockClass({className:"UI3HotspotBlock",name:"Hot Spot",searchKeywords:["ui","interface","hotspot"],defaultSize:{w:120,h:80},unthemed:!0,hotspot:!0,snapSpacing:4,defaultProperties:function(){return{FillColor:"#00ff9966"}},getRenderData:function(b){return[{FillColor:b.FillColor,Actions:C(b.BoundingBox)}]}});
lucid.plugin.initBlockClass({className:"UI3AreaBlock",name:"Area",searchKeywords:"ui interface area span div container".split(" "),defaultSize:{w:480,h:360},container:!0,defaultProperties:function(){return{Magnetize:!1}},snapSpacing:4,getRenderData:function(b){return[{FillColor:b.Fill?b.FillColor:null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:C(b.BoundingBox)}]}});v.browserVars={barHeight:60,scrollbarWidth:32};
lucid.plugin.initBlockClass({className:"UI3BrowserBlock",name:"Browser Window",searchKeywords:["ui","interface","webview","browser","container"],defaultSize:{w:720,h:540},container:!0,defaultProperties:function(){return{Magnetize:!1}},disabledPropertyControls:["FlipX","FlipY"],snapSpacing:4,onInit:function(b){lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.addBlockTextArea(b,{id:"Title",value:"Title",getBoundingBox:function(b){return{x:b.x+20,
y:b.y,w:b.w-40,h:.4*v.browserVars.barHeight}}});lucid.plugin.addBlockTextArea(b,{id:"URL",value:"http://lucidchart.com",getBoundingBox:function(b){var a=v.browserVars.barHeight,c=.2*a,e=a-3*c;return{x:b.x+8.5*c+4*e,y:b.y+2*c,w:b.w-10.5*c-4*e,h:a-3*c}},align:"left"})},getRenderData:function(b,c){var a=b.BoundingBox,d=v.browserVars.barHeight,e=v.browserVars.scrollbarWidth,f=b.vScroll,g=b.hScroll,h=b.FillColor,l=b.LineColor;b=b.LineWidth;var k=6;"sample"==c&&(k=1,d=.25*a.h);var m=.2*d;c=d-3*m;var p=
[{FillColor:h,StrokeColor:l,LineWidth:b,Actions:C(a)},{FillColor:lucid.color.darken(h,.25),StrokeColor:l,LineWidth:b,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+d},{Action:"line",x:a.x,y:a.y+d},{Action:"close"}]},{FillColor:h,StrokeColor:l,LineWidth:b,Actions:[{Action:"move",x:a.x+8*m+4*c,y:a.y+2*m},{Action:"line",x:a.x+a.w-m,y:a.y+2*m},{Action:"line",x:a.x+a.w-m,y:a.y+d-m},{Action:"line",x:a.x+8*m+4*c,y:a.y+d-m},{Action:"close"}]}],q=a.x+m,
r=a.y+2*m;G(p,[{StrokeColor:l,LineWidth:k,NoRounding:!0,Actions:[{Action:"move",x:q+.5*c,y:r},{Action:"line",x:q,y:r+.5*c},{Action:"line",x:q+.5*c,y:r+c},{Action:"move",x:q,y:r+.5*c},{Action:"line",x:q+c,y:r+.5*c}]}]);q=a.x+3*m+c;r=a.y+2*m;G(p,[{StrokeColor:l,LineWidth:k,NoRounding:!0,Actions:[{Action:"move",x:q+.5*c,y:r},{Action:"line",x:q+c,y:r+.5*c},{Action:"line",x:q+.5*c,y:r+c},{Action:"move",x:q,y:r+.5*c},{Action:"line",x:q+c,y:r+.5*c}]}]);q=a.x+5*m+2*c;r=a.y+2*m;k=[{StrokeColor:l,LineWidth:k,
NoRounding:!0,Actions:[{Action:"move",x:q+c,y:r+.5*c},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(q,r,c,c,-.1*Math.PI,-1.8*Math.PI)}]},{FillColor:l,StrokeColor:l,LineWidth:.25*k,NoRounding:!0,Actions:[{Action:"move",x:q+1.13*c,y:r},{Action:"line",x:q+1.13*c,y:r+.5*c},{Action:"line",x:q+.63*c,y:r+.5*c},{Action:"close"}]}];G(p,k);k=a.x+7*m+3*c;m=a.y+2*m;G(p,[{FillColor:l,StrokeColor:l,LineWidth:1,NoRounding:!0,Actions:[{Action:"move",x:k,y:m+.5*c},{Action:"line",x:k+.5*c,y:m},{Action:"line",
x:k+c,y:m+.5*c},{Action:"line",x:k+.9*c,y:m+.5*c},{Action:"line",x:k+.9*c,y:m+c},{Action:"line",x:k+.65*c,y:m+c},{Action:"line",x:k+.65*c,y:m+.5*c},{Action:"line",x:k+.35*c,y:m+.5*c},{Action:"line",x:k+.35*c,y:m+c},{Action:"line",x:k+.1*c,y:m+c},{Action:"line",x:k+.1*c,y:m+.5*c},{Action:"close"}]}]);1==f&&G(p,Q({x:a.x+a.w-e,y:a.y+d,w:e,h:a.h-d-(1==g?e:0)},h,l,b));1==g&&G(p,S({x:a.x,y:a.y+a.h-e,w:a.w-(1==f?e:0),h:e},h,l,b));return p}});
lucid.plugin.initBlockClass({className:"UI3WindowBlock",name:"Window",searchKeywords:["ui","interface","window","container"],defaultSize:{w:480,h:360},container:!0,defaultProperties:function(){return{Magnetize:!1}},snapSpacing:4,onInit:function(b){lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.addBlockTextArea(b,{id:"Title",value:"Window Title",getBoundingBox:function(b){return{x:b.x+20,y:b.y,w:b.w-40,h:40}}})},getRenderData:function(b,c){var a=
b.BoundingBox,d=40,e=b.vScroll,f=b.hScroll,g=b.LineWidth;"sample"==c&&(g=1,d=a.h/4);c=[{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:C(a)},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+d},{Action:"line",x:a.x,y:a.y+d},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:g,Actions:[{Action:"move",x:a.x+a.w-d+2*g,y:a.y+2*g},{Action:"line",x:a.x+a.w-2*g,y:a.y+2*g},{Action:"line",
x:a.x+a.w-2*g,y:a.y+d-2*g},{Action:"line",x:a.x+a.w-d+2*g,y:a.y+d-2*g},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:g,NoRounding:!0,Actions:[{Action:"move",x:a.x+a.w-.8*d+2*g,y:a.y+.2*d+2*g},{Action:"line",x:a.x+a.w-.2*d-2*g,y:a.y+.8*d-2*g},{Action:"move",x:a.x+a.w-.2*d-2*g,y:a.y+.2*d+2*g},{Action:"line",x:a.x+a.w-.8*d+2*g,y:a.y+.8*d-2*g}]},{StrokeColor:b.LineColor,LineWidth:g,Actions:[{Action:"move",x:a.x+a.w-2*d+4*g,y:a.y+2*g},{Action:"line",x:a.x+a.w-d,y:a.y+2*g},{Action:"line",x:a.x+
a.w-d,y:a.y+d-2*g},{Action:"line",x:a.x+a.w-2*d+4*g,y:a.y+d-2*g},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:g,NoRounding:!0,Actions:[{Action:"move",x:a.x+a.w-1.8*d+4*g,y:a.y+.2*d+2*g},{Action:"line",x:a.x+a.w-1.2*d,y:a.y+.2*d+2*g},{Action:"line",x:a.x+a.w-1.2*d,y:a.y+.8*d-2*g},{Action:"line",x:a.x+a.w-1.8*d+4*g,y:a.y+.8*d-2*g},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:g,Actions:[{Action:"move",x:a.x+a.w-3*d+6*g,y:a.y+2*g},{Action:"line",x:a.x+a.w-2*d+2*g,y:a.y+2*g},{Action:"line",
x:a.x+a.w-2*d+2*g,y:a.y+d-2*g},{Action:"line",x:a.x+a.w-3*d+6*g,y:a.y+d-2*g},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:g,Actions:[{Action:"move",x:a.x+a.w-2.2*d+2*g,y:a.y+.8*d-2*g},{Action:"line",x:a.x+a.w-2.8*d+6*g,y:a.y+.8*d-2*g}]}];if(1==e){var h=Q({x:a.x+a.w-32,y:a.y+d,w:32,h:a.h-d-(1==f?32:0)},b.FillColor,b.LineColor,g);for(d=0;d<h.length;d++)c.push(h[d])}if(1==f)for(b=S({x:a.x,y:a.y+a.h-32,w:a.w-(1==e?32:0),h:32},b.FillColor,b.LineColor,g),d=0;d<b.length;d++)c.push(b[d]);return c}});
v.dialogVars={barHeight:40,scrollbarWidth:32};
lucid.plugin.initBlockClass({className:"UI3DialogBlock",name:"Dialog Box",searchKeywords:["ui","interface","window","dialog","modal"],defaultSize:{w:320,h:240},partialContainer:{getContainerArea:function(b){b=lucid.plugin.getProperty(b,"BoundingBox");var c=v.dialogVars.barHeight;return{x:b.x,y:b.y+c,w:b.w,h:b.h-c}}},defaultProperties:function(){return{Magnetize:!1}},snapSpacing:4,onCreate:function(){},onInit:function(b){lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,
"hScroll",0);lucid.plugin.addBlockTextArea(b,{id:"Title",value:"Dialog Title",getBoundingBox:function(b){return{x:b.x+20,y:b.y,w:b.w-60,h:v.dialogVars.barHeight}}});lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(b){var a=v.dialogVars.barHeight;return{x:b.x+10,y:b.y+.1*b.h+a,w:b.w-20,h:.8*b.h-a}}})},getRenderData:function(b,c){var a=b.BoundingBox,d=v.dialogVars.barHeight,e=v.dialogVars.scrollbarWidth,f=b.vScroll,g=b.hScroll,h=b.LineWidth;"sample"==c&&(h=1,d=a.h/4);c=[{FillColor:b.FillColor,
StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:C(a)},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+a.w,y:a.y+d},{Action:"line",x:a.x,y:a.y+d}]},{StrokeColor:b.LineColor,LineWidth:h,Actions:[{Action:"move",x:a.x+a.w-d+2*h,y:a.y+2*h},{Action:"line",x:a.x+a.w-2*h,y:a.y+2*h},{Action:"line",x:a.x+a.w-2*h,y:a.y+d-2*h},{Action:"line",x:a.x+a.w-d+2*h,y:a.y+d-2*h},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:h,Actions:[{Action:"move",x:a.x+
a.w-.8*d+2*h,y:a.y+.2*d+2*h},{Action:"line",x:a.x+a.w-.2*d-2*h,y:a.y+.8*d-2*h},{Action:"move",x:a.x+a.w-.2*d-2*h,y:a.y+.2*d+2*h},{Action:"line",x:a.x+a.w-.8*d+2*h,y:a.y+.8*d-2*h}]}];if(1==f){var l=Q({x:a.x+a.w-e,y:a.y+d,w:e,h:a.h-d-(1==g?e:0)},b.FillColor,b.LineColor,h);for(d=0;d<l.length;d++)c.push(l[d])}if(1==g)for(b=S({x:a.x,y:a.y+a.h-e,w:a.w-(1==f?e:0),h:e},b.FillColor,b.LineColor,h),d=0;d<b.length;d++)c.push(b[d]);return c}});
lucid.plugin.initBlockClass({className:"UI3ElementBlock",name:"Element",searchKeywords:"ui interface element span div block".split(" "),defaultSize:{w:320,h:240},partialContainer:{getContainerArea:function(b){return lucid.plugin.getProperty(b,"BoundingBox")}},defaultProperties:function(){return{Magnetize:!1}},snapSpacing:4,onCreate:function(){},onInit:function(b){lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",
getBoundingBox:function(b){return{x:b.x+10,y:b.y+.1*b.h,w:b.w-20,h:.8*b.h}}})},getRenderData:function(b){var c=b.BoundingBox,a=b.vScroll,d=b.hScroll,e=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:C(c)}];if(1==a)for(var f=Q({x:c.x+c.w-32,y:c.y,w:32,h:c.h-(1==d?32:0)},b.FillColor,b.LineColor,b.LineWidth),g=0;g<f.length;g++)e.push(f[g]);if(1==d)for(b=S({x:c.x,y:c.y+c.h-32,w:c.w-(1==a?32:0),h:32},b.FillColor,b.LineColor,b.LineWidth),g=0;g<b.length;g++)e.push(b[g]);return e}});
lucid.plugin.initBlockClass({className:"UI3ImageBlock",name:"Image",searchKeywords:["ui","interface","image","photo","graphic"],defaultSize:{w:320,h:240},snapSpacing:4,onCreate:function(){},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(b){return{x:b.x+.1*b.w,y:b.y+.5*b.h,w:.8*b.w,h:.4*b.h}}})},getRenderData:function(b){var c=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:C(c)},{StrokeColor:b.LineColor,
LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+c.h},{Action:"move",x:c.x+c.w,y:c.y},{Action:"line",x:c.x,y:c.y+c.h}]}]}});
lucid.plugin.initBlockClass({className:"UI3VideoBlock",name:"Video",searchKeywords:["ui","interface","video","movie","animation"],defaultSize:{w:320,h:240},snapSpacing:4,onCreate:function(){},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(b){return{x:b.x+.1*b.w,y:b.y+.65*b.h,w:.8*b.w,h:.3*b.h}}})},getRenderData:function(b){var c=b.BoundingBox,a=lucid.color.darken(b.FillColor,.33),d=b.FillColor,e=b.LineColor;b=b.LineWidth;var f=.025*c.h;f=[{FillColor:d,
StrokeColor:e,LineWidth:b,NoRounding:!0,Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+.8*c.h},{Action:"line",x:c.x,y:c.y+.8*c.h},{Action:"close"}]},{FillColor:a,StrokeColor:e,LineWidth:b,NoRounding:!0,Actions:[{Action:"move",x:c.x,y:c.y+.8*c.h},{Action:"line",x:c.x+c.w,y:c.y+.8*c.h},{Action:"line",x:c.x+c.w,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+c.h},{Action:"close"}]},{FillColor:e,NoRounding:!0,Actions:[{Action:"move",x:c.x+.2*c.h+f,y:c.y+.9*c.h-
f},{Action:"line",x:c.x+c.w-.2*c.h-f,y:c.y+.9*c.h-f},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(c.x+c.w-.2*c.h-2*f,c.y+.9*c.h-f,2*f,2*f,-.5*Math.PI,.5*Math.PI)},{Action:"line",x:c.x+.2*c.h+f,y:c.y+.9*c.h+f},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(c.x+.2*c.h,c.y+.9*c.h-f,2*f,2*f,.5*Math.PI,1.5*Math.PI)},{Action:"close"}]}];G(f,N({x:c.x+.5*c.w-.133*c.h,y:c.y+.25*c.h,w:.266*c.h,h:.3*c.h},a,e,b));G(f,N({x:c.x+.05*c.h,y:c.y+.85*c.h,w:.1*c.h,h:.1*c.h},e,null,null));G(f,
O({x:c.x+c.w-.15*c.h,y:c.y+.85*c.h,w:.1*c.h,h:.1*c.h},e,null,null));G(f,L({x:c.x+c.w-.15*c.h,y:c.y+.875*c.h,w:.05*c.h,h:.05*c.h},e,null,null));G(f,J({x:c.x+.3*c.w,y:c.y+.85*c.h,w:.1*c.h,h:.1*c.h},d,e,b));return f}});
lucid.plugin.initBlockClass({className:"UI3AudioBlock",name:"Audio",searchKeywords:["ui","audio"],defaultSize:{w:320,h:48},snapSpacing:4,onCreate:function(){},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(b){return{x:b.x+.1*b.w,y:b.y+.65*b.h,w:.8*b.w,h:.3*b.h}}})},getRenderData:function(b){var c=b.BoundingBox,a=lucid.color.darken(b.FillColor,.33),d=b.FillColor,e=b.LineColor;b=b.LineWidth;var f=.125*c.h;a=[{FillColor:a,StrokeColor:e,LineWidth:b,NoRounding:!0,
Actions:C(c)},{FillColor:e,NoRounding:!0,Actions:[{Action:"move",x:c.x+.9*c.h+f,y:c.y+.5*c.h-f},{Action:"line",x:c.x+c.w-.9*c.h-f,y:c.y+.5*c.h-f},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(c.x+c.w-.9*c.h-2*f,c.y+.5*c.h-f,2*f,2*f,-.5*Math.PI,.5*Math.PI)},{Action:"line",x:c.x+.9*c.h+f,y:c.y+.5*c.h+f},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(c.x+.9*c.h,c.y+.5*c.h-f,2*f,2*f,.5*Math.PI,1.5*Math.PI)},{Action:"close"}]}];G(a,N({x:c.x+.25*c.h,y:c.y+.25*c.h,w:.5*c.h,h:.5*
c.h},e,null,null));G(a,O({x:c.x+c.w-.75*c.h,y:c.y+.25*c.h,w:.5*c.h,h:.5*c.h},e,null,null));G(a,L({x:c.x+c.w-.75*c.h,y:c.y+.375*c.h,w:.25*c.h,h:.25*c.h},e,null,null));G(a,J({x:c.x+.3*c.w,y:c.y+.25*c.h,w:.5*c.h,h:.5*c.h},d,e,b));return a}});
lucid.plugin.initBlockClass({className:"UI3MapBlock",name:"Map",searchKeywords:["ui","interface","map","street","road"],defaultSize:{w:320,h:240},snapSpacing:4,onCreate:function(){},onInit:function(b){lucid.plugin.setProperty("TextAlign","right");lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(b){return{x:b.x+.4*b.w,y:b.y+.65*b.h,w:.55*b.w,h:.3*b.h}}})},getRenderData:function(b,c){var a=b.BoundingBox,d=8,e=2;"sample"==c&&(d=b.LineWidth,e=1);c=1.5*(a.h<a.w?a.h:a.w);var f=
a.x+.3*a.w,g=a.y+.4*a.h;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:C(a)},{StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+.2*a.w,y:a.y+a.h},{Action:"line",x:a.x+.4*a.w,y:a.y},{Action:"move",x:a.x,y:a.y+.6*a.h},{Action:"line",x:a.x+a.w,y:a.y+.1*a.h},{Action:"move",x:a.x,y:a.y+.8*a.h},{Action:"line",x:a.x+.2*a.w,y:a.y+.8*a.h},{Action:"curve",Control:[{x1:a.x+.4*a.w,y1:a.y+.8*a.h,x2:a.x+.7*a.w,y2:a.y+.6*a.h,x3:a.x+.8*a.w,y3:a.y+.55*a.h}]},{Action:"line",
x:a.x+a.w,y:a.y+.5*a.h},{Action:"move",x:a.x+.5*a.w,y:a.y},{Action:"line",x:a.x+.55*a.w,y:a.y+.1*a.h},{Action:"curve",Control:[{x1:a.x+.6*a.w,y1:a.y+.2*a.h,x2:a.x+.8*a.w,y2:a.y+.3*a.h,x3:a.x+.8*a.w,y3:a.y+.55*a.h}]}]},{FillColor:"#0088FF",StrokeColor:b.LineColor,LineWidth:e,Actions:[{Action:"move",x:f-.1*c,y:g-.1*c},{Action:"curve",Control:[{x1:f-.05*c,y1:g-.08*c,x2:f-.05*c,y2:g-.08*c,x3:f,y3:g-.1*c},{x1:f+.05*c,y1:g-.08*c,x2:f+.05*c,y2:g-.08*c,x3:f+.1*c,y3:g-.1*c},{x1:f+.15*c,y1:g-.05*c,x2:f+.15*
c,y2:g+.1*c,x3:f,y3:g+.15*c},{x1:f-.15*c,y1:g+.1*c,x2:f-.15*c,y2:g-.05*c,x3:f-.1*c,y3:g-.1*c}]},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UI3ButtonBlock",name:"Button",searchKeywords:["ui","interface","button"],defaultSize:{w:160,h:40},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"Button",getBoundingBox:function(b){return{x:b.x+10,y:b.y+.1*b.h,w:b.w-20,h:.8*b.h}}})},getRenderData:function(b,c){var a=b.BoundingBox;"sample"==c&&(c=a.w,a=a.x,a={x:a,y:a+.25*c,w:c,h:.5*c});c=.3*(a.h>a.w?a.w:a.h);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,
Actions:[{Action:"move",x:a.x+c,y:a.y},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,2*c,2*c,1.5*Math.PI,Math.PI)},{Action:"line",x:a.x,y:a.y+a.h-c},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y+a.h-2*c,2*c,2*c,Math.PI,.5*Math.PI)},{Action:"line",x:a.x+a.w-c,y:a.y+a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*c,a.y+a.h-2*c,2*c,2*c,.5*Math.PI,0)},{Action:"line",x:a.x+a.w,y:a.y+c},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+
a.w-2*c,a.y,2*c,2*c,2*Math.PI,1.5*Math.PI)},{Action:"close"}]}]}});
var T={rowHeight:40,resizeBB:function(b,c){for(var a=lucid.plugin.getProperty(b,"Options"),d=0,e=[],f={x:0,y:0,w:1E6,h:1E4},g=1;g<=a;g++){var h=lucid.text.getSize(b,1==g&&c?"Selected":"Option_"+g,f);h=Math.round(Math.max(T.rowHeight,h.h+10));e.push(h);d+=h}lucid.plugin.setProperty(b,"rowHeights",e,!0);lucid.plugin.setProperty(b,"totalHeight",d,!0);lucid.plugin.refreshBlockView(b);f=lucid.plugin.getProperty(b,"BoundingBox");f.h!=d&&(f.h=d,lucid.plugin.setProperty(b,"BoundingBox",f))},hitTest:function(b,
c){var a=lucid.plugin.getProperty(b,"SideLength"),d=lucid.plugin.getProperty(b,"BoundingBox");if(c.x>d.x&&c.x<d.x+a){var e=d.y,f=lucid.plugin.getProperty(b,"Options");d=d.h/f;for(var g=1;g<=f;g++){if(c.y>e+.5*(d-a)&&c.y<e+.5*(d+a))return{cursor:"pointer",onClick:function(){var a=lucid.plugin.getProperty(b,"Selected");lucid.plugin.getProperty(b,"Toggle")?a=a==g?0:g:a.hasOwnProperty(g)?delete a[g]:a[g]=1;lucid.plugin.setProperty(b,"Selected",a);lucid.plugin.refreshBlockView(b)}};e+=d}}}},U={leftIndent:12,
leftPad:20,hitTest:function(b,c){var a=lucid.plugin.getProperty(b,"SideLength"),d=lucid.plugin.getProperty(b,"BoundingBox"),e=d.x,f=lucid.plugin.getProperty(b,"Options"),g=lucid.plugin.getProperty(b,"totalHeight",!0);lucid.plugin.getProperty(b,"widths",!0);for(var h=1;h<=f;h++){if(c.x>e&&c.x<e+a&&c.y>d.y+.5*(g-a)&&c.y<d.y+a+.5*(g-a))return{cursor:"pointer",onClick:function(){var a=lucid.plugin.getProperty(b,"Selected");lucid.plugin.getProperty(b,"Toggle")?a=a==h?0:h:a.hasOwnProperty(h)?delete a[h]:
a[h]=1;lucid.plugin.setProperty(b,"Selected",a);lucid.plugin.refreshBlockView(b)}};e+=d.w/f}},resizeBB:function(b){U.calcWidths(b);var c=lucid.plugin.getProperty(b,"totalHeight"),a=lucid.plugin.getProperty(b,"totalWidth"),d=lucid.plugin.getProperty(b,"BoundingBox");if(d.w!=a||d.h!=c)d.w!=a&&(d.w=a),d.h!=c&&(d.h=c),lucid.plugin.setProperty(b,"BoundingBox",d)},calcWidths:function(b){for(var c=0,a=lucid.plugin.getProperty(b,"SideLength")||20,d=a,e=[],f=lucid.plugin.getProperty(b,"Options"),g={x:0,y:0,
w:1E6,h:1E4},h=1;h<=f;h++){var l=lucid.text.getSize(b,"Option_"+h,g),k=Math.round(Math.max(a,l.w+10));d=Math.round(Math.max(d,1.5*l.h));e.push(k);c+=k+a+U.leftIndent+(1<h?U.leftPad:0)}lucid.plugin.refreshBlockView(b);lucid.plugin.setProperty(b,"totalHeight",d,!0);lucid.plugin.setProperty(b,"totalWidth",c,!0);lucid.plugin.setProperty(b,"widths",e,!0)}};
lucid.plugin.initBlockClass({className:"UI3CheckBoxBlock",name:"Check Box",minWidth:80,searchKeywords:["ui","interface","checkbox","vertical"],disabledPropertyControls:["FlipX","FlipY"],defaultSize:{w:160,h:120},snapSpacing:4,onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Option_1");lucid.plugin.addBlockTextArea(b,{id:"Option_"+a,value:c?lucid.text.restyle("Option "+a,c):"Option "+a,getBoundingBox:function(a){return function(c){var d=lucid.plugin.getProperty(b,"SideLength"),e=lucid.plugin.getProperty(b,
"Options"),f=(a-1)*c.h/e;return a>e?null:{x:c.x+(d+12),y:c.y+f,w:c.w-(d+12),h:c.h/e}}}(a),align:"left"})}lucid.plugin.registerProperty(b,"Options",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Option_"+e]||c(e)});lucid.plugin.registerProperty(b,"SideLength",20);lucid.plugin.registerProperty(b,"SelectedColor","#000");lucid.plugin.registerProperty(b,"Selected",{1:1},function(a){if("object"!=typeof a){var b={};b[a]=1;return b}return a});lucid.plugin.registerProperty(b,
"MultiSelect",1)},hitTest:function(b,c){return T.hitTest(b,c)},getRenderData:function(b,c){var a=b.BoundingBox,d=3,e=b.Options,f=b.Selected;var g=a.h/e;var h=b.SideLength;"sample"==c&&(g=a.w,d=a.x,a={x:d+.25*g,y:d,w:g,h:g},d=2,e=1,h=.5*g);c="sample"==c?[]:[{Actions:C(a)}];a={x:a.x,y:a.y+.5*(g-h),w:h,h:h};for(var l=1;l<=e;l++)c.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,NoRounding:!0,Actions:C(a)}),f[l]&&(c=c.concat(H(lucid.math.Box.pad(a,.2*-h),b.SelectedColor,b.SelectedColor,
d))),a.y+=g;return c}});
lucid.plugin.initBlockClass({className:"UI3HorizontalCheckBoxBlock",name:"Horizontal Check Box",vLock:!0,minWidth:20,disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","checkbox","horizontal"],defaultSize:{w:370,h:40},snapSpacing:4,onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Option_1");lucid.plugin.addBlockTextArea(b,{id:"Option_"+a,value:c?lucid.text.restyle("Option "+a,c):"Option "+a,getBoundingBox:function(a){return function(c){var d=lucid.plugin.getProperty(b,
"Options"),e=lucid.plugin.getProperty(b,"widths",!0),f=lucid.plugin.getProperty(b,"SideLength"),k=(a-1)*c.w/d;return!e||a>d?null:{x:c.x+k+lucid.plugin.getProperty(b,"SideLength")+U.leftIndent,y:c.y,w:e[a-1],h:f}}}(a),align:"left"});lucid.plugin.hookPropertyPostSave(b,"Option_"+a,function(){U.calcWidths(b)})}lucid.plugin.registerProperty(b,"Options",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Option_"+e]||c(e);U.calcWidths(b)});lucid.plugin.registerProperty(b,"SideLength",
20,null,function(a,c){a=lucid.plugin.getProperty(b,"BoundingBox");a.h=c;lucid.plugin.setProperty(b,"BoundingBox",a)});lucid.plugin.registerProperty(b,"SelectedColor","#000");lucid.plugin.registerProperty(b,"Selected",{1:1},function(a){if("object"!=typeof a){var b={};b[a]=1;return b}return a});lucid.plugin.registerProperty(b,"MultiSelect",1)},afterEditText:function(b){U.calcWidths(b)},hitTest:function(b,c){return U.hitTest(b,c)},getRenderData:function(b,c){var a=b.BoundingBox,d=3,e=b.Options,f=b.Selected;
if("sample"==c){e=a.w;a=a.x;a={x:a+.25*e,y:a+.25*e,w:e,h:e};d=2;var g=e;e=1}g=g?.5*g:b.SideLength;c="sample"==c?[]:[{Actions:C(a)}];for(var h={x:a.x,y:a.y,w:g,h:g},l=1;l<=e;l++)c.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,NoRounding:!0,Actions:C(h)}),f[l]&&(c=c.concat(H(lucid.math.Box.pad(h,.2*-g),b.SelectedColor,b.SelectedColor,d))),h.x+=a.w/e;return c}});
lucid.plugin.initBlockClass({className:"UI3RadioBlock",name:"Radio Button",searchKeywords:["ui","interface","radio","button"],defaultSize:{w:160,h:120},minWidth:80,disabledPropertyControls:["FlipX","FlipY"],snapSpacing:4,onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Option_1");lucid.plugin.addBlockTextArea(b,{id:"Option_"+a,value:c?lucid.text.restyle("Option "+a,c):"Option "+a,getBoundingBox:function(a){return function(c){var d=lucid.plugin.getProperty(b,"SideLength"),e=lucid.plugin.getProperty(b,
"Options"),f=(a-1)*c.h/e;return a>e?null:{x:c.x+(d+12),y:c.y+f,w:c.w-(d+12),h:c.h/e}}}(a),align:"left"})}lucid.plugin.registerProperty(b,"Options",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Option_"+e]||c(e)});lucid.plugin.registerProperty(b,"Selected",1);lucid.plugin.registerProperty(b,"Toggle",1);lucid.plugin.registerProperty(b,"SideLength",20);lucid.plugin.registerProperty(b,"SelectedColor","#000")},hitTest:function(b,c){return T.hitTest(b,c)},getRenderData:function(b,
c){var a=b.BoundingBox,d=b.Options,e=b.Selected,f=a.h/d;"sample"==c&&(d=a.w,a=a.x,a={x:a+.25*d,y:a,w:d,h:d},f=d,d=1);var g="sample"==c?.5*f:b.SideLength;c="sample"==c?[]:[{Actions:C(a)}];for(var h=a.y,l=1;l<=d;l++)c.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+g,y:h+.5*f},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,h+.5*(f-g),g,g,0,2*Math.PI)},{Action:"close"}]}),l==e&&c.push({FillColor:b.SelectedColor,StrokeColor:b.SelectedColor,
LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+.75*g,y:h+.5*f},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+.25*g,h+.5*(f-g)+.25*g,.5*g,.5*g,0,2*Math.PI)},{Action:"close"}]}),h+=f;return c}});
lucid.plugin.initBlockClass({className:"UI3HorizontalRadioBlock",name:"Horizontal Radio Button",vLock:!0,minHeight:40,disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","radio","button"],defaultSize:{w:370,h:40},snapSpacing:4,onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Option_1");lucid.plugin.addBlockTextArea(b,{id:"Option_"+a,value:c?lucid.text.restyle("Option "+a,c):"Option "+a,getBoundingBox:function(a){return function(c){var d=lucid.plugin.getProperty(b,
"Options"),e=lucid.plugin.getProperty(b,"widths",!0),f=lucid.plugin.getProperty(b,"SideLength"),k=(a-1)*c.w/d;return a>d?null:{x:c.x+k+lucid.plugin.getProperty(b,"SideLength")+U.leftIndent,y:c.y,w:e&&e[a-1]||0,h:f}}}(a),align:"left"});lucid.plugin.hookPropertyPostSave(b,"Option_"+a,function(){U.calcWidths(b)})}lucid.plugin.registerProperty(b,"Options",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Option_"+e]||c(e)});lucid.plugin.registerProperty(b,"SideLength",20,
null,function(a,c){a=lucid.plugin.getProperty(b,"BoundingBox");a.h=c;lucid.plugin.setProperty(b,"BoundingBox",a)});lucid.plugin.registerProperty(b,"SelectedColor","#000");lucid.plugin.registerProperty(b,"Selected",{1:1},function(a){if("object"!=typeof a){var b={};b[a]=1;return b}return a});lucid.plugin.registerProperty(b,"Toggle",1);lucid.plugin.registerProperty(b,"Selected",1)},afterEditText:function(b){U.calcWidths(b)},hitTest:function(b,c){return U.hitTest(b,c)},getRenderData:function(b,c){var a=
b.BoundingBox,d=b.Options,e=b.Selected,f=null;"sample"==c&&(f=a.w,a=a.x,a={x:a+.25*f,y:a+.25*f,w:f,h:f},d=1);f=f?.5*f:b.SideLength;c="sample"==c?[]:[{Actions:C(a)}];for(var g=a.x,h=1;h<=d;h++)c.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:g+f,y:a.y+.5*f},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(g,a.y,f,f,0,2*Math.PI)},{Action:"close"}]}),h==e&&c.push({FillColor:b.SelectedColor,StrokeColor:b.SelectedColor,LineWidth:b.LineWidth,
Actions:[{Action:"move",x:g+.75*f,y:a.y+.5*f},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(g+.25*f,a.y+.25*f,.5*f,.5*f,0,2*Math.PI)},{Action:"close"}]}),g+=a.w/d;return c}});
lucid.plugin.initBlockClass({className:"UI3TextInputBlock",name:"Text Input",searchKeywords:["ui","interface","text","input"],defaultSize:{w:160,h:40},snapSpacing:4,onInit:function(b){lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.addBlockTextArea(b,{id:"Text",value:"Text",getBoundingBox:function(b){return{x:b.x+10,y:b.y+.1*b.h,w:b.w-20,h:.8*b.h}},align:"left"})},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(d=a.w,
a=a.x,a={x:a,y:a+.25*d,w:d,h:.5*d},d=1);var e=b.vScroll,f=b.hScroll;c=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:C(a)}];if(1==e)for(var g=Q({x:a.x+a.w-32,y:a.y,w:32,h:a.h-(1==f?32:0)},b.FillColor,b.LineColor,d),h=0;h<g.length;h++)c.push(g[h]);if(1==f)for(b=S({x:a.x,y:a.y+a.h-32,w:a.w-(1==e?32:0),h:32},b.FillColor,b.LineColor,d),h=0;h<b.length;h++)c.push(b[h]);return c}});
lucid.plugin.initBlockClass({className:"UI3SelectBlock",name:"Select Box",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","select","dropdown"],defaultSize:{w:200,h:40},vLock:!0,minWidth:80,snapSpacing:4,afterEditText:function(b){T.resizeBB(b,!0)},onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Selected");lucid.plugin.addBlockTextArea(b,{id:1==a?"Selected":"Option_"+a,value:c?lucid.text.restyle("Option "+a,c):"Option "+a,getBoundingBox:function(a){return function(c){for(var d=
0,e=lucid.plugin.getProperty(b,"Options"),f=lucid.plugin.getProperty(b,"rowHeights",!0),k=0;k<a-1;k++)d+=f[k];return a>e?null:{x:c.x+12,y:c.y+d,w:c.w-24,h:f[a-1]}}}(a),align:"left"});lucid.plugin.hookPropertyPostSave(b,1==a?"Selected":"Option_"+a,function(){T.resizeBB(b,!0)})}lucid.plugin.registerProperty(b,"Options",1,function(a){"string"==typeof a&&(a=1);return a},function(a,d){a=lucid.plugin.getBlockTextAreas(b);T.resizeBB(b,!0);for(var e=1;e<=d;e++)a["Option_"+e]||c(e)})},getRenderData:function(b,
c){var a=b.BoundingBox,d=b.LineWidth,e=b.rowHeights&&b.rowHeights[0]||40;"sample"==c?(d=a.w,a=a.x,a={x:a,y:a+.25*d,w:d,h:.5*d},d=1,e=a.h):"preview"==c&&(e=a.h);c=e-4*d;c=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+e},{Action:"line",x:a.x,y:a.y+e},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+a.w-c-2*d,y:a.y+2*d},{Action:"line",x:a.x+a.w-2*d,y:a.y+
2*d},{Action:"line",x:a.x+a.w-2*d,y:a.y+e-2*d},{Action:"line",x:a.x+a.w-c-2*d,y:a.y+e-2*d},{Action:"close"}]},{FillColor:b.LineColor,StrokeColor:b.LineColor,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:a.x+a.w-.8*c-2*d,y:a.y+.3*c+2*d},{Action:"line",x:a.x+a.w-.2*c-2*d,y:a.y+.3*c+2*d},{Action:"line",x:a.x+a.w-.5*c-2*d,y:a.y+.7*c+2*d},{Action:"close"}]}];a.h>e&&c.unshift({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:C(a)});return c}});
lucid.plugin.initBlockClass({className:"UI3VSliderBlock",name:"Vertical Slider",searchKeywords:["ui","interface","slider","vertical"],defaultSize:{w:40,h:240},snapSpacing:4,noLines:!0,getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=b.ScrollVal;"sample"==c&&(d=a.h,a=a.y,a={x:a+.25*d,y:a,w:.5*d,h:d},d=1);c=a.w>a.h?a.h:a.w;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:a.x+.5*a.w-d,y:a.y},{Action:"line",x:a.x+.5*a.w-d,y:a.y+a.h},
{Action:"line",x:a.x+.5*a.w+d,y:a.y+a.h},{Action:"line",x:a.x+.5*a.w+d,y:a.y},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+a.w,y:a.y+e*(a.h-.6*a.w)},{Action:"line",x:a.x,y:a.y+e*(a.h-.6*a.w)},{Action:"line",x:a.x,y:a.y+e*(a.h-.6*a.w)+.6*c},{Action:"line",x:a.x+a.w,y:a.y+e*(a.h-.6*a.w)+.6*c},{Action:"close"}]}]},onInit:function(b){lucid.plugin.registerProperty(b,"ScrollVal",.3)},spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.ui3.vslider",
location:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"ScrollVal");return{x:c.x+c.w/2-5,y:c.y+.3*c.w+a*(c.h-.6*c.w)-5,w:10,h:10}},moved:function(c){var a=lucid.plugin.getProperty(b,"BoundingBox"),d=a.y+.3*a.w;lucid.plugin.setProperty(b,"ScrollVal",Math.max(0,Math.min(1,(c.y-d)/(a.y+a.h-.3*a.w-d))))},path:function(){var c=lucid.plugin.getProperty(b,"BoundingBox");return[{x:c.x+c.w/2,y:c.y+.3*c.w},{x:c.x+c.w/2,y:c.y+c.h-.3*c.w}]},snap:2}]}});
lucid.plugin.initBlockClass({className:"UI3HSliderBlock",name:"Horizontal Slider",searchKeywords:["ui","interface","slider","horizontal"],defaultSize:{w:240,h:40},snapSpacing:4,noLines:!0,getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=b.ScrollVal;"sample"==c&&(d=a.w,a=a.x,a={x:a,y:a+.25*d,w:d,h:.5*d},d=1);c=a.w>a.h?a.h:a.w;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",y:a.y+.5*a.h-d,x:a.x},{Action:"line",y:a.y+.5*a.h-d,x:a.x+
a.w},{Action:"line",y:a.y+.5*a.h+d,x:a.x+a.w},{Action:"line",y:a.y+.5*a.h+d,x:a.x},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",y:a.y+a.h,x:a.x+e*(a.w-.6*a.h)},{Action:"line",y:a.y+.3*c,x:a.x+e*(a.w-.6*a.h)},{Action:"line",y:a.y,x:a.x+e*(a.w-.6*a.h)+.3*c},{Action:"line",y:a.y+.3*c,x:a.x+e*(a.w-.6*a.h)+.6*c},{Action:"line",y:a.y+a.h,x:a.x+e*(a.w-.6*a.h)+.6*c},{Action:"close"}]}]},onInit:function(b){lucid.plugin.registerProperty(b,"ScrollVal",
.3)},spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.ui3.hslider",location:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"ScrollVal");return{x:c.x+.3*c.h+a*(c.w-.6*c.h)-5,y:c.y+c.h/2-5,w:10,h:10}},moved:function(c){var a=lucid.plugin.getProperty(b,"BoundingBox"),d=a.x+.3*a.h;lucid.plugin.setProperty(b,"ScrollVal",Math.max(0,Math.min(1,(c.x-d)/(a.x+a.w-.3*a.h-d))))},path:function(){var c=lucid.plugin.getProperty(b,"BoundingBox");
return[{x:c.x+.3*c.h,y:c.y+c.h/2},{x:c.x+c.w-.3*c.h,y:c.y+c.h/2}]},snap:2}]}});
lucid.plugin.initBlockClass({className:"UI3VScrollBlock",name:"Vertical Scrollbar",searchKeywords:["ui","interface","scrollbar","vertical"],defaultSize:{w:40,h:240},snapSpacing:4,getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(c=a.h,a=a.y,a={x:a+.375*c,y:a,w:.25*c,h:c},d=1);return Q(a,b.FillColor,b.LineColor,d,b.ScrollVal)},onInit:function(b){lucid.plugin.registerProperty(b,"ScrollVal",0)},spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.ui3.vscroll",location:function(){var c=
lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"LineWidth"),d=lucid.plugin.getProperty(b,"ScrollVal");c=P(c,a,d);return{x:c.x+c.w/2-5,y:c.y+c.h/2-5,w:10,h:10}},moved:function(c){var a=lucid.plugin.getProperty(b,"BoundingBox"),d=lucid.plugin.getProperty(b,"LineWidth"),e=P(a,d,0);a=P(a,d,1);lucid.plugin.setProperty(b,"ScrollVal",Math.max(0,Math.min(1,(c.y-e.y-e.h/2)/(a.y-e.y))))},path:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"LineWidth"),
d=P(c,a,0);c=P(c,a,1);return[{x:d.x+d.w/2,y:d.y+d.h/2},{x:c.x+c.w/2,y:c.y+c.h/2}]},snap:2}]}});
lucid.plugin.initBlockClass({className:"UI3HScrollBlock",name:"Horizontal Scrollbar",searchKeywords:["ui","interface","scrollbar","horizontal"],defaultSize:{w:240,h:40},snapSpacing:4,getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(c=a.w,a=a.x,a={x:a,y:a+.375*c,w:c,h:.25*c},d=1);return S(a,b.FillColor,b.LineColor,d,b.ScrollVal)},onInit:function(b){lucid.plugin.registerProperty(b,"ScrollVal",0)},spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.ui3.hscroll",
location:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"LineWidth"),d=lucid.plugin.getProperty(b,"ScrollVal");c=R(c,a,d);return{x:c.x+c.w/2-5,y:c.y+c.h/2-5,w:10,h:10}},moved:function(c){var a=lucid.plugin.getProperty(b,"BoundingBox"),d=lucid.plugin.getProperty(b,"LineWidth"),e=R(a,d,0);a=R(a,d,1);lucid.plugin.setProperty(b,"ScrollVal",Math.max(0,Math.min(1,(c.x-e.x-e.w/2)/(a.x-e.x))))},path:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,
"LineWidth"),d=R(c,a,0);c=R(c,a,1);return[{x:d.x+d.w/2,y:d.y+d.h/2},{x:c.x+c.w/2,y:c.y+c.h/2}]},snap:2}]}});
lucid.plugin.initBlockClass({className:"UI3ProgressBarBlock",name:"Progress Bar",searchKeywords:["ui","interface","progress","loading"],defaultSize:{w:240,h:40},snapSpacing:4,getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=b.ScrollVal;"sample"==c&&(d=a.w,a=a.x,a={x:a,y:a+.25*d,w:d,h:.5*d},d=1);c=lucid.color.darken(b.FillColor,.5);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",y:a.y,x:a.x},{Action:"line",y:a.y+a.h,x:a.x},{Action:"line",y:a.y+
a.h,x:a.x+a.w},{Action:"line",y:a.y,x:a.x+a.w},{Action:"close"}]},{FillColor:c,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+2*d,y:a.y+2*d},{Action:"line",x:a.x+2*d,y:a.y+a.h-2*d},{Action:"line",x:a.x+2*d+e*(a.w-4*d),y:a.y+a.h-2*d},{Action:"line",x:a.x+2*d+e*(a.w-4*d),y:a.y+2*d},{Action:"close"}]}]},onInit:function(b){lucid.plugin.registerProperty(b,"ScrollVal",.3)},spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.ui3.progressBar",location:function(){var c=
lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"LineWidth"),d=lucid.plugin.getProperty(b,"ScrollVal");return{x:c.x+2*a+d*(c.w-4*a)-5,y:c.y+c.h/2-5,w:10,h:10}},moved:function(c){var a=lucid.plugin.getProperty(b,"BoundingBox"),d=lucid.plugin.getProperty(b,"LineWidth"),e=a.x+2*d;lucid.plugin.setProperty(b,"ScrollVal",Math.max(0,Math.min(1,(c.x-e)/(a.x+a.w-4*d-e))))},path:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"LineWidth");return[{x:c.x+
2*a,y:c.y+c.h/2},{x:c.x+c.w-4*a,y:c.y+c.h/2}]},snap:2}]}});
lucid.plugin.initBlockClass({className:"UI3BarChartBlock",name:"Bar Chart",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","bar","chart","graph"],defaultSize:{w:320,h:240},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Label",value:"Bar Chart",getBoundingBox:function(b){return{x:b.x+10,y:b.y,w:b.w-20,h:.15*b.h}}})},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(d=1);c=lucid.color.darken(b.FillColor,.5);return[{Actions:[{Action:"move",
x:a.x,y:a.y},{Action:"line",x:a.x,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y+.2*a.h},{Action:"line",x:a.x+.6*a.w,y:a.y+.2*a.h},{Action:"line",x:a.x+.6*a.w,y:a.y+.35*a.h},{Action:"line",x:a.x,y:a.y+.35*a.h},{Action:"close"},{Action:"move",x:a.x,y:a.y+.6*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+.6*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+.75*a.h},{Action:"line",
x:a.x,y:a.y+.75*a.h},{Action:"close"}]},{FillColor:c,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y+.35*a.h},{Action:"line",x:a.x+.45*a.w,y:a.y+.35*a.h},{Action:"line",x:a.x+.45*a.w,y:a.y+.5*a.h},{Action:"line",x:a.x,y:a.y+.5*a.h},{Action:"close"},{Action:"move",x:a.x,y:a.y+.75*a.h},{Action:"line",x:a.x+.75*a.w,y:a.y+.75*a.h},{Action:"line",x:a.x+.75*a.w,y:a.y+.9*a.h},{Action:"line",x:a.x,y:a.y+.9*a.h},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:2*d,Actions:[{Action:"move",
y:a.y,x:a.x},{Action:"line",y:a.y+a.h,x:a.x},{Action:"line",y:a.y+a.h,x:a.x+a.w}]}]}});
lucid.plugin.initBlockClass({className:"UI3ColumnChartBlock",name:"Column Chart",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","column","chart","graph"],defaultSize:{w:320,h:240},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Label",value:"Column Chart",getBoundingBox:function(b){return{x:b.x+10,y:b.y,w:b.w-20,h:.15*b.h}}})},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(d=1);c=lucid.color.darken(b.FillColor,.5);return[{Actions:[{Action:"move",
x:a.x,y:a.y},{Action:"line",x:a.x,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+.15*a.w,y:a.y+a.h},{Action:"line",x:a.x+.15*a.w,y:a.y+.5*a.h},{Action:"line",x:a.x+.3*a.w,y:a.y+.5*a.h},{Action:"line",x:a.x+.3*a.w,y:a.y+a.h},{Action:"close"},{Action:"move",x:a.x+.6*a.w,y:a.y+a.h},{Action:"line",x:a.x+.6*a.w,y:a.y+.2*a.h},{Action:"line",x:a.x+.75*a.w,y:a.y+.2*a.h},
{Action:"line",x:a.x+.75*a.w,y:a.y+a.h},{Action:"close"}]},{FillColor:c,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+.3*a.w,y:a.y+a.h},{Action:"line",x:a.x+.3*a.w,y:a.y+.65*a.h},{Action:"line",x:a.x+.45*a.w,y:a.y+.65*a.h},{Action:"line",x:a.x+.45*a.w,y:a.y+a.h},{Action:"close"},{Action:"move",x:a.x+.75*a.w,y:a.y+a.h},{Action:"line",x:a.x+.75*a.w,y:a.y+.35*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+.35*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+a.h},{Action:"close"}]},{StrokeColor:b.LineColor,
LineWidth:2*d,Actions:[{Action:"move",y:a.y,x:a.x},{Action:"line",y:a.y+a.h,x:a.x},{Action:"line",y:a.y+a.h,x:a.x+a.w}]}]}});
lucid.plugin.initBlockClass({className:"UI3LineChartBlock",name:"Line Chart",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","line","chart","graph"],defaultSize:{w:320,h:240},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Label",value:"Line Chart",getBoundingBox:function(b){return{x:b.x+10,y:b.y,w:b.w-20,h:.15*b.h}}})},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(d=1);c=lucid.color.darken(b.FillColor,.67);var e=lucid.color.darken(b.FillColor,
.33);return[{Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y},{Action:"close"}]},{StrokeColor:e,LineWidth:2*d,Actions:[{Action:"move",x:a.x,y:a.y+.6*a.h},{Action:"line",x:a.x+.3*a.w,y:a.y+.7*a.h},{Action:"line",x:a.x+.6*a.w,y:a.y+.4*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+.6*a.h}]},{StrokeColor:c,LineWidth:2*d,Actions:[{Action:"move",x:a.x,y:a.y+.9*a.h},{Action:"line",x:a.x+.3*a.w,y:a.y+.5*a.h},{Action:"line",x:a.x+
.6*a.w,y:a.y+.7*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+.2*a.h}]},{StrokeColor:b.LineColor,LineWidth:2*d,Actions:[{Action:"move",y:a.y,x:a.x},{Action:"line",y:a.y+a.h,x:a.x},{Action:"line",y:a.y+a.h,x:a.x+a.w}]}]}});
lucid.plugin.initBlockClass({className:"UI3PieChartBlock",name:"Pie Chart",searchKeywords:["ui","interface","pie","chart","graph"],defaultSize:{w:240,h:240},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Label",value:"Pie Chart",getBoundingBox:function(b){return{x:b.x+.2*b.w,y:b.y+.2*b.h,w:.6*b.w,h:.2*b.h}}});lucid.plugin.registerProperty(b,"Slices",[0,.6*Math.PI,.9*Math.PI])},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(d=1);c=[];b.Slices.sort();
for(var e=0;e<b.Slices.length;e++){for(var f=b.Slices[e],g=b.Slices[(e+1)%b.Slices.length],h=lucid.color.darken(b.FillColor,(e+1)/b.Slices.length);g<f;)g+=2*Math.PI,h=b.FillColor;c.push({FillColor:h,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+.5*a.w,y:a.y+.5*a.h},{Action:"line",x:a.x+.5*a.w+.5*a.w*Math.cos(f),y:a.y+.5*a.h+.5*a.h*Math.sin(f)},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,f,g)},{Action:"close"}]})}return c},spatialControls:function(b){function c(a){return{logAction:"chart.viewport.selection.spatialControls.ui3.pieChart",
location:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),d=lucid.plugin.getProperty(b,"Slices")[a];return{x:c.x+c.w/2+c.w/2*Math.cos(d)-5,y:c.y+c.h/2+c.h/2*Math.sin(d)-5,w:10,h:10}},moved:function(c){var d=lucid.plugin.getProperty(b,"BoundingBox");for(c=Math.atan2(c.y-(d.y+d.h/2),c.x-(d.x+d.w/2));0>c;)c+=2*Math.PI;d=lucid.plugin.getProperty(b,"Slices");d[a]=c;lucid.plugin.setProperty(b,"Slices",d)},path:function(){for(var a=lucid.plugin.getProperty(b,"BoundingBox"),c=[],d=0;d<2*Math.PI;d+=
Math.PI/12)c.push({x:a.x+a.w/2+a.w/2*Math.cos(d),y:a.y+a.h/2+a.h/2*Math.sin(d)});return c},snap:2}}for(var a=lucid.plugin.getProperty(b,"Slices"),d=[],e=0;e<a.length;e++)d.push(c(e));return d}});
lucid.plugin.initBlockClass({className:"UI3TabBarContainerBlock",name:"Tab Panel",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:"ui interface tabs container panel horizontal".split(" "),container:!0,defaultProperties:function(){return{Magnetize:!1}},defaultSize:{w:320,h:240},snapSpacing:4,onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Tab_1");lucid.plugin.addBlockTextArea(b,{id:"Tab_"+a,value:c?lucid.text.restyle("Tab "+a,c):"Tab "+a,getBoundingBox:function(a){return function(c){for(var d=
24,e=lucid.plugin.getProperty(b,"Tabs"),f=Math.round(c.w/(e+1))-20,k=0;k<a-1;k++)d+=f+20;return a>e||d+f+20>c.w?null:{x:c.x+d,y:c.y+5,w:f,h:22}}}(a),align:"left"})}lucid.plugin.registerProperty(b,"Tabs",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Tab_"+e]||c(e)});lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.registerProperty(b,"Selected",1)},getRenderData:function(b,c){var a=b.BoundingBox,d="sample"==c?1:
b.LineWidth,e=b.Tabs,f=b.vScroll,g=b.hScroll,h="sample"==c?2:24,l="sample"==c?2:20,k="sample"==c?3:32,m=Math.round(a.w/(e+1))-l,p=b.Selected,q=lucid.color.darken(b.FillColor,.25);c=[];for(var r=[],n=0;n<e;n++)r[n]=h,h+=m+l;for(n=e-1;0<=n;n--)n+1!=p&&r[n]+m+l<=a.w&&c.push({FillColor:q,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+r[n]-.5*l,y:a.y+k},{Action:"line",x:a.x+r[n]-.5*l,y:a.y},{Action:"line",x:a.x+r[n]+m,y:a.y},{Action:"line",x:a.x+r[n]+m+l,y:a.y+k}]});n=[{Action:"move",
x:a.x,y:a.y+k},{Action:"line",x:a.x+a.w,y:a.y+k},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}];r[p-1]+m+l<=a.w&&n.splice(1,0,{Action:"line",x:a.x+r[p-1]-.5*l,y:a.y+k},{Action:"line",x:a.x+r[p-1]-.5*l,y:a.y},{Action:"line",x:a.x+r[p-1]+m,y:a.y},{Action:"line",x:a.x+r[p-1]+m+l,y:a.y+k});c.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:n});if(1==f)for(l=Q({x:a.x+a.w-32,y:a.y+k,w:32,h:a.h-k-(1==g?32:0)},b.FillColor,b.LineColor,d),n=0;n<
l.length;n++)c.push(l[n]);if(1==g)for(b=S({x:a.x,y:a.y+a.h-32,w:a.w-(1==f?32:0),h:32},b.FillColor,b.LineColor,d),n=0;n<b.length;n++)c.push(b[n]);return c}});
lucid.plugin.initBlockClass({className:"UI3TabBar2ContainerBlock",name:"Tab Panel",container:!0,defaultProperties:function(){return{Magnetize:!1}},searchKeywords:"ui interface tabs container panel horizontal".split(" "),defaultSize:{w:320,h:240},snapSpacing:4,onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Tab_1");lucid.plugin.addBlockTextArea(b,{id:"Tab_"+a,value:c?lucid.text.restyle("Tab "+a,c):"Tab "+a,getBoundingBox:function(a){return function(c){for(var d=0,e=lucid.plugin.getProperty(b,
"Tabs"),f=Math.floor((c.w-4*(e-1))/e),k=0;k<a-1;k++)d+=f+4;return a>e||d+f>c.w?null:{x:c.x+d+10,y:c.y+5,w:f-20,h:22}}}(a),align:"left"})}lucid.plugin.registerProperty(b,"Tabs",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Tab_"+e]||c(e)});lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.registerProperty(b,"Selected",1)},getRenderData:function(b,c){var a=b.BoundingBox,d="sample"==c?1:b.LineWidth,e=b.Tabs,f=b.vScroll,
g=b.hScroll,h=0,l="sample"==c?1:4,k="sample"==c?3:32,m=Math.floor((a.w-(e-1)*l)/e),p=b.Selected,q=lucid.color.darken(b.FillColor,.25);c=[];for(var r=[],n=0;n<e;n++)r[n]=h,h+=m+l;for(n=e-1;0<=n;n--)n+1!=p&&r[n]+m<=a.w&&c.push({FillColor:q,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+r[n],y:a.y+1.5*k},{Action:"line",x:a.x+r[n],y:a.y},{Action:"line",x:a.x+r[n]+m,y:a.y},{Action:"line",x:a.x+r[n]+m,y:a.y+1.5*k}]});n=[{Action:"move",x:a.x,y:a.y+k},{Action:"line",x:a.x+a.w,y:a.y+k},
{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}];r[p-1]+m<=a.w&&n.splice(1,0,{Action:"line",x:a.x+r[p-1],y:a.y+k},{Action:"line",x:a.x+r[p-1],y:a.y},{Action:"line",x:a.x+r[p-1]+m,y:a.y},{Action:"line",x:a.x+r[p-1]+m,y:a.y+k});c.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:n});if(1==f)for(e=Q({x:a.x+a.w-32,y:a.y+k,w:32,h:a.h-k-(1==g?32:0)},b.FillColor,b.LineColor,d),n=0;n<e.length;n++)c.push(e[n]);if(1==g)for(b=S({x:a.x,y:a.y+a.h-32,w:a.w-
(1==f?32:0),h:32},b.FillColor,b.LineColor,d),n=0;n<b.length;n++)c.push(b[n]);return c}});
lucid.plugin.initBlockClass({className:"UI3VTabBarContainerBlock",name:"Vertical Tab Panel",container:!0,defaultProperties:function(){return{Magnetize:!1}},disabledPropertyControls:["FlipX","FlipY"],searchKeywords:"ui interface tabs container panel vertical".split(" "),defaultSize:{w:480,h:240},snapSpacing:4,onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Tab_1");lucid.plugin.addBlockTextArea(b,{id:"Tab_"+a,value:c?lucid.text.restyle("Tab "+a,c):"Tab "+a,getBoundingBox:function(a){return function(c){for(var d=
20,e=lucid.plugin.getProperty(b,"Tabs"),f=0;f<a-1;f++)d+=48;return a>e||d+40+8>c.h?null:{x:c.x+5,y:c.y+d+5,w:110,h:30}}}(a),align:"left"})}lucid.plugin.registerProperty(b,"Tabs",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Tab_"+e]||c(e)});lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.registerProperty(b,"Selected",1)},getRenderData:function(b,c){var a=b.BoundingBox;if("sample"==c){var d=a.w;a=a.x;a={x:a,y:a+
.125*d,w:d,h:.75*d}}d="sample"==c?1:b.LineWidth;var e=b.Tabs,f=b.vScroll,g=b.hScroll,h="sample"==c?1:20,l="sample"==c?0:8,k="sample"==c?6:120,m="sample"==c?4:40,p=b.Selected,q=lucid.color.darken(b.FillColor,.25);c=[];for(var r=0,n=0;n<e;n++)n+1==p?r=h:h+m+l<=a.h&&c.push({FillColor:q,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+k,y:a.y+h},{Action:"line",x:a.x,y:a.y+h},{Action:"line",x:a.x,y:a.y+h+m},{Action:"line",x:a.x+k,y:a.y+h+m}]}),h+=m+l;n=[{Action:"move",x:a.x+k,y:a.y},{Action:"line",
x:a.x+k,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y},{Action:"close"}];r+m+l<=a.h&&n.splice(1,0,{Action:"line",x:a.x+k,y:a.y+r},{Action:"line",x:a.x,y:a.y+r},{Action:"line",x:a.x,y:a.y+r+m},{Action:"line",x:a.x+k,y:a.y+r+m});c.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:n});if(1==f)for(l=Q({x:a.x+a.w-32,y:a.y,w:32,h:a.h-(1==g?32:0)},b.FillColor,b.LineColor,d),n=0;n<l.length;n++)c.push(l[n]);if(1==g)for(b=S({x:a.x+k,y:a.y+a.h-32,w:a.w-k-
(1==f?32:0),h:32},b.FillColor,b.LineColor,d),n=0;n<b.length;n++)c.push(b[n]);return c}});
lucid.plugin.initBlockClass({className:"UI3ColorPickerBlock",name:"Color Picker",searchKeywords:["ui","interface","color","picker","well"],defaultSize:{w:40,h:40},snapSpacing:4,defaultProperties:function(){return{FillColor:"#aaffff"}},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(b){return{x:b.x+20,y:b.y,w:b.w-60,h:40}}})},getRenderData:function(b,c){var a=b.BoundingBox;"sample"==c&&(a={x:a.x+.25*a.w,y:a.y+.25*a.h,w:.5*a.w,h:.5*a.h});return[{FillColor:b.FillColor,
StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:C(a)},{FillColor:b.LineColor,Actions:[{Action:"move",x:a.x+.5*a.w,y:a.y+.6*a.h},{Action:"line",x:a.x+a.w,y:a.y+.6*a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+.5*a.w,y:a.y+a.h},{Action:"close"}]},{FillColor:b.FillColor,NoRounding:!0,Actions:[{Action:"move",x:a.x+.6*a.w,y:a.y+.7*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+.7*a.h},{Action:"line",x:a.x+.75*a.w,y:a.y+.9*a.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UI3ButtonBarBlock",name:"Button Bar",searchKeywords:"ui interface buttons bar strip horizontal".split(" "),defaultSize:{w:360,h:40},snapSpacing:4,onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Button_1");lucid.plugin.addBlockTextArea(b,{id:"Button_"+a,value:c?lucid.text.restyle("Button "+a,c):"Button "+a,getBoundingBox:function(a){return function(c){for(var d=0,e=lucid.plugin.getProperty(b,"Buttons"),f=Math.round(c.w/e),k=0;k<a-1;k++)d+=f;return a>
e?null:{x:c.x+d,y:c.y+5,w:f,h:c.h-10}}}(a)})}lucid.plugin.registerProperty(b,"Buttons",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Button_"+e]||c(e)});lucid.plugin.registerProperty(b,"Selected",1)},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=b.Buttons;"sample"==c&&(d=a.w,a=a.x,a={x:a,y:a+.35*d,w:d,h:.3*d},d=1);c=0;for(var f=Math.round(a.w/e),g=b.Selected,h=[{FillColor:lucid.color.darken(b.FillColor,.25),StrokeColor:b.LineColor,LineWidth:d,Actions:C(a)}],
l=0;l<e;l++)l+1==g?h.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+c,y:a.y},{Action:"line",x:a.x+c+f,y:a.y},{Action:"line",x:a.x+c+f,y:a.y+a.h},{Action:"line",x:a.x+c,y:a.y+a.h},{Action:"close"}]}):0<l&&l!=g&&h.push({StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+c,y:a.y},{Action:"line",x:a.x+c,y:a.y+a.h}]}),c+=f;return h}});
lucid.plugin.initBlockClass({className:"UI3VerticalButtonBarBlock",name:"Vertical Button Bar",searchKeywords:"ui interface buttons bar strip vertical".split(" "),defaultSize:{w:120,h:120},snapSpacing:4,onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Button_1");lucid.plugin.addBlockTextArea(b,{id:"Button_"+a,value:c?lucid.text.restyle("Button "+a,c):"Button "+a,getBoundingBox:function(a){return function(c){for(var d=0,e=lucid.plugin.getProperty(b,"Buttons"),f=c.h/e,k=0;k<a-1;k++)d+=f;
return a>e?null:{x:c.x,y:c.y+d,w:c.w,h:f}}}(a)})}lucid.plugin.registerProperty(b,"Buttons",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Button_"+e]||c(e)});lucid.plugin.registerProperty(b,"Selected",1)},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=b.Buttons,f=a.h/e;"sample"==c&&(d=a.w,a=a.x,a={x:a,y:a+.35*d,w:d,h:.24*d},f=.24*d,e=3,d=1);c=0;for(var g=b.Selected,h=lucid.color.darken(b.FillColor,.25),l=[],k,m=0;m<e;m++)k=m+1==g?b.FillColor:h,l.push({FillColor:k,
StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y+c},{Action:"line",x:a.x+a.w,y:a.y+c},{Action:"line",x:a.x+a.w,y:a.y+c+f},{Action:"line",x:a.x,y:a.y+c+f},{Action:"close"}]}),c+=f;return l}});
function V(b,c,a){var d=0,e=[],f=lucid.plugin.getProperty(b,c),g={x:0,y:0,w:1E6,h:1E4};for(c=1;c<=f;c++){var h=lucid.text.getSize(b,a+c,g);d+=h.w;e.push(h.w)}lucid.plugin.refreshBlockView(b);lucid.plugin.setProperty(b,"totalSectionWidth",d,!0);lucid.plugin.setProperty(b,"sectionWidths",e,!0)}
lucid.plugin.initBlockClass({className:"UI3LinkBarBlock",name:"Link Bar",searchKeywords:["ui","interface","links","bar","strip"],defaultSize:{w:360,h:40},minHeight:20,unthemed:!0,afterEditText:function(b){V(b,"Links","Link_")},snapSpacing:4,onInit:function(b){function c(a){var c="Link_"+a;if(1==a)c='<span style="color: #316CCC; font-weight:bold; text-decoration: underline;">'+c+"</span>";else{var e=lucid.text.getStyle(b,"Link_1");e&&(c=lucid.text.restyle(c,e))}lucid.plugin.addBlockTextArea(b,{id:"Link_"+
a,value:c,getBoundingBox:function(a){return function(c){var d=0,e=lucid.plugin.getProperty(b,"Links"),f=lucid.plugin.getProperty(b,"totalSectionWidth",!0),g=lucid.plugin.getProperty(b,"sectionWidths",!0);f=(c.w-f)/e;for(var p=0;p<a-1;p++)d+=g[p]+f;return a>e?null:{x:c.x+d,y:c.y+5,w:g[a-1]+f,h:c.h-10}}}(a)});lucid.plugin.hookPropertyPostSave(b,"Link_"+a,function(){V(b,"Links","Link_")})}lucid.plugin.registerProperty(b,"Links",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=
d;e++)a["Link_"+e]||c(e);V(b,"Links","Link_")})},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=b.Links,f=(a.w-b.totalSectionWidth)/e;if("sample"==c){var g=a.w;a=a.x;a={x:a,y:a+.35*g,w:g,h:.3*g};d=1;g=Math.round(a.w/e)}c=0;var h=[{Actions:C(a)}];c+=g||b.sectionWidths[0]+f;for(var l=1;l<e;l++)h.push({StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+c,y:a.y},{Action:"line",x:a.x+c,y:a.y+a.h}]}),c+=g||b.sectionWidths[l]+f;return h}});
lucid.plugin.initBlockClass({className:"UI3BreadCrumbsBlock",name:"Bread Crumbs",searchKeywords:["ui","interface","links","breadcrumbs"],defaultSize:{w:360,h:40},minHeight:20,unthemed:!0,snapSpacing:4,onInit:function(b){function c(a){var c="Link_"+a;if(1==a)c='<span style="color: #316CCC; font-weight:bold; text-decoration: underline;">'+c+"</span>";else{var e=lucid.text.getStyle(b,"Link_1");e&&(c=lucid.text.restyle(c,e))}lucid.plugin.addBlockTextArea(b,{id:"Link_"+a,value:c,getBoundingBox:function(a){return function(c){for(var d=
0,e=lucid.plugin.getProperty(b,"Links"),f=Math.round(c.w/e),g=0;g<a-1;g++)d+=f;return a>e?null:{x:c.x+d,y:c.y+5,w:f,h:c.h-10}}}(a)})}lucid.plugin.registerProperty(b,"Links",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Link_"+e]||c(e)})},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=b.Links,f=.3*a.h;"sample"==c&&(d=a.w,a=a.x,a={x:a,y:a+.3*d,w:d,h:.4*d},f=.2*a.h,d=1);c=.25*(a.h-2*f);for(var g=0,h=Math.round(a.w/e),l=[{Actions:C(a)}],k=1;k<e;k++)g+=
h,l.push({StrokeColor:b.LineColor,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:a.x+g-c,y:a.y+f},{Action:"line",x:a.x+g+c,y:a.y+.5*a.h},{Action:"line",x:a.x+g-c,y:a.y+a.h-f}]});return l}});
lucid.plugin.initBlockClass({className:"UI3MenuBarBlock",name:"Menu Bar",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:"ui interface menu bar file edit view".split(" "),defaultSize:{w:360,h:32},minHeight:20,unthemed:!0,afterEditText:function(b){V(b,"Buttons","MenuItem_")},snapSpacing:4,onInit:function(b){function c(c){lucid.plugin.addBlockTextArea(b,{id:"MenuItem_"+c,value:a[c-1]||"Item "+c,getBoundingBox:function(a){return function(c){for(var d=0,e=lucid.plugin.getProperty(b,"Buttons"),
f=lucid.plugin.getProperty(b,"sectionWidths",!0),k=0;k<a-1;k++)d+=f[k]+30;return a>e?null:{x:c.x+d,y:c.y+5,w:f[a-1]+30,h:c.h-10}}}(c)});lucid.plugin.hookPropertyPostSave(b,"MenuItem_"+c,function(){V(b,"Buttons","MenuItem_")})}var a=["File","Edit","View","Help"];lucid.plugin.registerProperty(b,"Buttons",4,null,function(a,e){a=lucid.plugin.getBlockTextAreas(b);for(var d=1;d<=e;d++)a["MenuItem_"+d]||c(d);V(b,"Buttons","MenuItem_")});lucid.plugin.registerProperty(b,"Selected",1)},getRenderData:function(b,
c){var a=b.BoundingBox,d=b.Buttons;if("sample"==c){var e=a.w;a=a.x;a={x:a,y:a+.35*e,w:e,h:.3*e};e=Math.round(a.w/d)}c=0;for(var f=b.Selected,g=lucid.color.darken(b.FillColor,.25),h=[{FillColor:b.FillColor,Actions:C(a)}],l=0;l<d;l++)l+1==f&&h.push({FillColor:g,NoRounding:!0,Actions:[{Action:"move",x:a.x+c,y:a.y},{Action:"line",x:a.x+c+(e||b.sectionWidths[l]+30),y:a.y},{Action:"line",x:a.x+c+(e||b.sectionWidths[l]+30),y:a.y+a.h},{Action:"line",x:a.x+c,y:a.y+a.h},{Action:"close"}]}),c+=e||b.sectionWidths[l]+
30;return h}});
lucid.plugin.initBlockClass({className:"UI3AtoZBlock",name:"A-Z",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","links","alphabet"],defaultSize:{w:600,h:20},minHeight:20,unthemed:!0,snapSpacing:4,onInit:function(b){function c(a,c){lucid.plugin.addBlockTextArea(b,{id:"Text_"+c,value:'<span style="color: #316CCC; font-weight:bold; text-decoration: underline;">'+a+"</span>",getBoundingBox:function(a){return function(b){var c=Math.floor(b.w/(d+1))*(0==a?2:1);return{x:b.x+
(0==a?0:a+1)*c-10,y:b.y,w:c+20,h:b.h}}}(c),readOnly:!0})}for(var a="0-9 A B C D E F G H I J K L M N O P Q R S T U V W X Y Z".split(" "),d=a.length,e=0;e<d;e++)c(a[e],e)},getRenderData:function(b,c){b=b.BoundingBox;if("sample"==c){var a=b.w;b=b.x;b={x:b,y:b+.25*a,w:a,h:.5*a}}a=[{Actions:C(b)}];if("sample"==c){c=[[.1,.8],[.25,.2],[.4,.8],null,[.16,.56],[.34,.56],null,[.425,.56],[.575,.56],null,[.6,.2],[.9,.2],[.6,.8],[.9,.8]];for(var d=[],e=!0,f=0;f<c.length;f++)c[f]?(d.push({Action:e?"move":"line",
x:b.x+c[f][0]*b.w,y:b.y+c[f][1]*b.h}),e=!1):e=!0;a.push({StrokeColor:"#000000",LineWidth:1,NoRounding:!0,Actions:d})}return a}});
lucid.plugin.initBlockClass({className:"UI3PaginationBlock",name:"Pagination",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","links","page","pagination"],defaultSize:{w:480,h:20},minHeight:20,unthemed:!0,snapSpacing:4,onInit:function(b){function c(a){var c=""+a;if(1==a)c='<span style="color: #316CCC; font-weight:bold; text-decoration: underline;">'+c+"</span>";else{var e=lucid.text.getStyle(b,"Link_1");e&&(c=lucid.text.restyle(c,e))}lucid.plugin.addBlockTextArea(b,{id:"Link_"+
a,value:c,getBoundingBox:function(a){return function(c){var d=lucid.plugin.getProperty(b,"Links"),e=c.w/(d+8),f=(4+a-1)*e;return a>d?null:{x:c.x+f,y:c.y,w:e,h:c.h}}}(a),readOnly:!0})}lucid.plugin.addBlockTextArea(b,{id:"Text_prev",value:'<span style="color: #316CCC; font-weight:bold; text-decoration: underline;">&lt;&lt; Prev</span>',getBoundingBox:function(a){var c=lucid.plugin.getProperty(b,"Links")+8;return{x:a.x,y:a.y,w:4*a.w/c,h:a.h}},readOnly:!0,align:"left"});lucid.plugin.registerProperty(b,
"Links",10,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Link_"+e]||c(e)});lucid.plugin.addBlockTextArea(b,{id:"Text_next",value:'<span style="color: #316CCC; font-weight:bold; text-decoration: underline;">Next &gt;&gt;</span>',getBoundingBox:function(a){var c=lucid.plugin.getProperty(b,"Links")+8;c=4*a.w/c;return{x:a.x+a.w-c,y:a.y,w:c,h:a.h}},readOnly:!0,align:"right"})},getRenderData:function(b,c){b=b.BoundingBox;if("sample"==c){var a=b.w;b=b.x;b={x:b,y:b+.25*a,
w:a,h:.5*a}}a=[{Actions:C(b)}];if("sample"==c){c=[[.15,.3],[0,.5],[.15,.7],null,[.3,.3],[.15,.5],[.3,.7],null,[.45,.3],[.5,.2],[.5,.8],null,[.45,.8],[.55,.8],null,[.65,.4],[.7,.2],[.8,.2],[.85,.4],[.65,.8],[.85,.8]];for(var d=[],e=!0,f=0;f<c.length;f++)c[f]?(d.push({Action:e?"move":"line",x:b.x+c[f][0]*b.w,y:b.y+c[f][1]*b.h}),e=!1):e=!0;a.push({StrokeColor:"#000000",LineWidth:1,NoRounding:!0,Actions:d})}return a}});
lucid.plugin.initBlockClass({className:"UI3DatePickerBlock",name:"Date Picker",searchKeywords:["ui","interface","date","calendar","picker"],minWidth:120,defaultSize:{w:160,h:40},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Date",value:"1/1/10",getBoundingBox:function(b){var a=Math.min(b.w,b.h);return{x:b.x+.1*(b.w-1.25*a),y:b.y+.1*b.h,w:.8*(b.w-1.25*a),h:.8*b.h}}})},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(d=a.w,a=a.x,a={x:a,y:a+.35*d,w:d,
h:.3*d},d=1);c=Math.min(a.w,a.h);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w-1.25*c,y:a.y},{Action:"line",x:a.x+a.w-1.25*c,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:a.x+a.w-c,y:a.y+.25*c},{Action:"line",x:a.x+a.w,y:a.y+.25*c},{Action:"move",x:a.x+a.w-c,y:a.y+.5*c},{Action:"line",x:a.x+a.w,y:a.y+.5*
c},{Action:"move",x:a.x+a.w-c,y:a.y+.75*c},{Action:"line",x:a.x+a.w,y:a.y+.75*c},{Action:"move",x:a.x+a.w-.25*c,y:a.y+.25*c},{Action:"line",x:a.x+a.w-.25*c,y:a.y+c},{Action:"move",x:a.x+a.w-.5*c,y:a.y+.25*c},{Action:"line",x:a.x+a.w-.5*c,y:a.y+c},{Action:"move",x:a.x+a.w-.75*c,y:a.y+.25*c},{Action:"line",x:a.x+a.w-.75*c,y:a.y+c},{Action:"move",x:a.x+a.w-c,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w-c,y:a.y+a.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UI3CalendarBlock",name:"Calendar",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","calendar"],defaultSize:{w:280,h:200},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Month",value:"March 2010",getBoundingBox:function(b){return{x:b.x+40,y:b.y+8,w:b.w-80,h:24}}});lucid.plugin.addBlockTextArea(b,{id:"Sundays",value:"S<br /><br />7<br />14<br/ >21<br />28",getBoundingBox:function(b){return{x:b.x,y:b.y+40,w:b.w/
7,h:b.h-40}},readOnly:!0,align:"center"});lucid.plugin.addBlockTextArea(b,{id:"Monday",value:"M<br />1<br />8<br />15<br/ >22<br />29",getBoundingBox:function(b){return{x:b.x+b.w/7,y:b.y+40,w:b.w/7,h:b.h-40}},readOnly:!0,align:"center"});lucid.plugin.addBlockTextArea(b,{id:"Tuedays",value:"T<br />2<br />9<br />16<br/ >23<br />30",getBoundingBox:function(b){return{x:b.x+2*b.w/7,y:b.y+40,w:b.w/7,h:b.h-40}},readOnly:!0,align:"center"});lucid.plugin.addBlockTextArea(b,{id:"Wednesdays",value:"W<br />3<br />10<br />17<br/ >24<br />31",
getBoundingBox:function(b){return{x:b.x+3*b.w/7,y:b.y+40,w:b.w/7,h:b.h-40}},readOnly:!0,align:"center"});lucid.plugin.addBlockTextArea(b,{id:"Thursdays",value:"Th<br />4<br />11<br />18<br/ >25<br /><br />",getBoundingBox:function(b){return{x:b.x+4*b.w/7,y:b.y+40,w:b.w/7,h:b.h-40}},readOnly:!0,align:"center"});lucid.plugin.addBlockTextArea(b,{id:"Fridays",value:"F<br />5<br />12<br />19<br/ >26<br /><br />",getBoundingBox:function(b){return{x:b.x+5*b.w/7,y:b.y+40,w:b.w/7,h:b.h-40}},readOnly:!0,align:"center"});
lucid.plugin.addBlockTextArea(b,{id:"Saturdays",value:"S<br />6<br />13<br />20<br/ >27<br /><br />",getBoundingBox:function(b){return{x:b.x+6*b.w/7,y:b.y+40,w:b.w/7,h:b.h-40}},readOnly:!0,align:"center"})},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=40,f=lucid.color.darken(b.FillColor,.1);"sample"==c&&(d=1,e=5,f=lucid.color.darken(b.FillColor,.5));c=a.w/7;return[{FillColor:b.FillColor,Actions:C(a)},{StrokeColor:f,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:a.x+c,y:a.y+
e},{Action:"line",x:a.x+c,y:a.y+a.h},{Action:"move",x:a.x+2*c,y:a.y+e},{Action:"line",x:a.x+2*c,y:a.y+a.h},{Action:"move",x:a.x+3*c,y:a.y+e},{Action:"line",x:a.x+3*c,y:a.y+a.h},{Action:"move",x:a.x+4*c,y:a.y+e},{Action:"line",x:a.x+4*c,y:a.y+a.h},{Action:"move",x:a.x+5*c,y:a.y+e},{Action:"line",x:a.x+5*c,y:a.y+a.h},{Action:"move",x:a.x+6*c,y:a.y+e},{Action:"line",x:a.x+6*c,y:a.y+a.h}]},{StrokeColor:b.LineColor,LineWidth:d,Actions:C(a)},{StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",
x:a.x,y:a.y+e},{Action:"line",x:a.x+a.w,y:a.y+e}]},{FillColor:b.LineColor,NoRounding:!0,Actions:[{Action:"move",x:a.x+.3*e,y:a.y+.5*e},{Action:"line",x:a.x+.6*e,y:a.y+.3*e},{Action:"line",x:a.x+.6*e,y:a.y+.7*e},{Action:"close"},{Action:"move",x:a.x+a.w-.3*e,y:a.y+.5*e},{Action:"line",x:a.x+a.w-.6*e,y:a.y+.3*e},{Action:"line",x:a.x+a.w-.6*e,y:a.y+.7*e},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UI3WebcamBlock",name:"Webcam",searchKeywords:["ui","interface","webcam","camera"],defaultSize:{w:280,h:200},snapSpacing:4,getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=Math.round(Math.min(a.w/3,a.h/2.5)),f=Math.round(e/2);"sample"==c&&(d=1);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:C(a)},{FillColor:lucid.color.darken(b.FillColor,.25),StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+.5*a.w-e,
y:a.y+a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+.5*a.w-e,a.y+a.h-e,2*e,2*e,Math.PI,2*Math.PI)},{Action:"close"},{Action:"move",x:a.x+.5*a.w+f,y:a.y+a.h-e-1.2*f},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+.5*a.w-f,a.y+a.h-e-2.2*f,2*f,2*f,0,2*Math.PI)},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UI3CaptchaBlock",name:"CAPTCHA",unthemed:!0,searchKeywords:["ui","interface","captcha","recaptcha"],defaultSize:{w:225,h:125},defaultProperties:function(){return{FillColor:"#cccccc"}},snapSpacing:4,onInit:function(b){function c(c,e,f,g){lucid.plugin.addBlockTextArea(b,{id:c+a+"_Text",value:'<span style="font-size: '+e+'px; font-weight: bold;">'+c+"</span>",getBoundingBox:function(a){return{x:a.x+f*a.w-30,y:a.y+g*a.h-40,w:60,h:80}},readOnly:!0,align:"center"});
a++}var a=0;c.call(this,"C",28,.2,.35);c.call(this,"A",40,.3,.4);c.call(this,"P",38,.4,.45);c.call(this,"T",36,.5,.3);c.call(this,"C",38,.6,.4);c.call(this,"H",28,.65,.35);c.call(this,"A",26,.75,.45)},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=16;"sample"==c&&(d=1,e=3);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:C(a)},{FillColor:"#ffffff",StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+e,y:a.y+.8*a.h-e},{Action:"line",x:a.x+a.w-
e,y:a.y+.8*a.h-e},{Action:"line",x:a.x+a.w-e,y:a.y+a.h-e},{Action:"line",x:a.x+e,y:a.y+a.h-e},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UI3HelpIconBlock",name:"Help Icon",searchKeywords:["ui","interface","help","icon"],defaultSize:{w:40,h:40},snapSpacing:4,getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(a={x:Math.round(a.x+.25*a.w),y:Math.round(a.y+.25*a.h),w:Math.round(.5*a.w),h:Math.round(.5*a.h)},d=1);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+a.w,y:a.y+.5*a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,
a.y,a.w,a.h,0,2*Math.PI)},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:2*d,Actions:[{Action:"move",x:a.x+.35*a.w,y:a.y+.35*a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+.35*a.w,a.y+.2*a.h,.3*a.w,.3*a.h,Math.PI,2.25*Math.PI)},{Action:"curve",Control:[{x1:a.x+.5*a.w,y1:a.y+.35*a.h+1.414*.15*a.h,x2:a.x+.5*a.w,y2:a.y+.35*a.h+1.414*.15*a.h,x3:a.x+.5*a.w,y3:a.y+.65*a.h}]},{Action:"move",x:a.x+.5*a.w,y:a.y+.75*a.h},{Action:"line",x:a.x+.5*a.w,y:a.y+.75*a.h+2*d}]}]}});
lucid.plugin.initBlockClass({className:"UI3NumericStepperBlock",name:"Numeric Stepper",searchKeywords:"ui interface numeric number stepper spinner".split(" "),defaultSize:{w:80,h:40},minWidth:60,snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Number",value:"4",getBoundingBox:function(b){return{x:b.x,y:b.y+.2*b.h,w:b.w-.75*Math.min(b.w,b.h),h:.6*b.h}}})},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(d=1);c=.75*Math.min(a.w,a.h);return[{FillColor:b.FillColor,
StrokeColor:b.LineColor,LineWidth:d,Actions:C(a)},{StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+a.w-c,y:a.y},{Action:"line",x:a.x+a.w-c,y:a.y+a.h},{Action:"move",x:a.x+a.w-c,y:a.y+.5*a.h},{Action:"line",x:a.x+a.w,y:a.y+.5*a.h}]},{FillColor:b.LineColor,NoRounding:!0,Actions:[{Action:"move",x:a.x+a.w-.8*c,y:a.y+.35*a.h},{Action:"line",x:a.x+a.w-.5*c,y:a.y+.1*a.h},{Action:"line",x:a.x+a.w-.2*c,y:a.y+.35*a.h},{Action:"close"},{Action:"move",x:a.x+a.w-.8*c,y:a.y+.65*a.h},{Action:"line",
x:a.x+a.w-.5*c,y:a.y+.9*a.h},{Action:"line",x:a.x+a.w-.2*c,y:a.y+.65*a.h},{Action:"close"}]}]}});v.accordionVars={tabHeight:40};
lucid.plugin.initBlockClass({className:"UI3AccordionBlock",name:"Accordion",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","accordion"],defaultSize:{w:240,h:360},partialContainer:{getContainerArea:function(b){return lucid.plugin.getProperty(b,"BoundingBox")}},snapSpacing:4,onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Panel_"+(a-1));lucid.plugin.addBlockTextArea(b,{id:"Panel_"+a,value:c?lucid.text.restyle("Panel "+a,c):"Panel "+a,getBoundingBox:function(a){return function(c){var d=
v.accordionVars.tabHeight,e=Math.min(lucid.plugin.getProperty(b,"Panels"),Math.floor(c.h/d)),f=lucid.plugin.getProperty(b,"Selected"),k=c.h-e*d;f=a>f?k:0;for(k=0;k<a-1;k++)f+=d;return a>e?null:{x:c.x+5,y:c.y+f+5,w:c.w-10,h:d-10}}}(a),align:"left"});lucid.plugin.addBlockTextArea(b,{id:"Content_"+a,value:1==a?"Content":"",getBoundingBox:function(a){return function(c){for(var d=v.accordionVars.tabHeight,e=Math.min(lucid.plugin.getProperty(b,"Panels"),Math.floor(c.h/d)),f=lucid.plugin.getProperty(b,"Selected"),
k=c.h-e*d,m=a>f?k:0,p=0;p<a-1;p++)m+=d;return a!=f||a>e||k<d?null:{x:c.x+10,y:c.y+m+d+10,w:c.w-20,h:k-20}}}(a),align:"left"})}lucid.plugin.registerProperty(b,"Panels",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Panel_"+e]||c(e)});lucid.plugin.registerProperty(b,"Selected",1);lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0)},getRenderData:function(b,c){var a=b.BoundingBox,d=b.vScroll,e=b.hScroll;if("sample"==c){var f=a.h;
a=a.y;a={x:a+.125*f,y:a,w:.75*f,h:f}}f="sample"==c?1:b.LineWidth;c="sample"==c?4:40;for(var g=Math.min(b.Panels,Math.floor(a.h/c)),h=a.h-g*c,l=b.Selected,k=0,m=[{FillColor:lucid.color.darken(b.FillColor,.25),StrokeColor:b.LineColor,LineWidth:f,Actions:C(a)}],p=0;p<g;p++){if(p==l-1){m.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:f,Actions:[{Action:"move",x:a.x,y:a.y+k},{Action:"line",x:a.x+a.w,y:a.y+k},{Action:"line",x:a.x+a.w,y:a.y+k+c+h},{Action:"line",x:a.x,y:a.y+k+c+h},{Action:"close"}]});
m.push({StrokeColor:b.LineColor,LineWidth:f,Actions:[{Action:"move",x:a.x,y:a.y+k+c},{Action:"line",x:a.x+a.w,y:a.y+k+c}]});if(1==d)for(var q=Q({x:a.x+a.w-32,y:a.y+k+c,w:32,h:h-(1==e?32:0)},b.FillColor,b.LineColor,f),r=0;r<q.length;r++)m.push(q[r]);if(1==e)for(q=S({x:a.x,y:a.y+k+c+h-32,w:a.w-(1==d?32:0),h:32},b.FillColor,b.LineColor,f),r=0;r<q.length;r++)m.push(q[r]);k+=h}else 0!=p&&p!=l&&m.push({StrokeColor:b.LineColor,LineWidth:f,Actions:[{Action:"move",x:a.x,y:a.y+k},{Action:"line",x:a.x+a.w,y:a.y+
k}]});k+=c}return m}});
lucid.plugin.initBlockClass({className:"UI3VerticalSplitterBlock",name:"Vertical Splitter",hLock:!0,searchKeywords:["ui","interface","splitter","divider","vertical"],defaultSize:{w:20,h:240},snapSpacing:4,getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(c=a.h,a=a.y,a={x:a+.35*c,y:a,w:.3*c,h:c},d=1);return[{Actions:C(a)},{StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x,y:a.y+a.h},{Action:"move",x:a.x+a.w,y:a.y},{Action:"line",
x:a.x+a.w,y:a.y+a.h}]},{StrokeColor:b.LineColor,LineWidth:2*d,Actions:[{Action:"move",x:a.x+.5*a.w,y:a.y+.5*a.h-.5*a.w-d},{Action:"line",x:a.x+.5*a.w,y:a.y+.5*a.h-.5*a.w+d},{Action:"move",x:a.x+.5*a.w,y:a.y+.5*a.h-d},{Action:"line",x:a.x+.5*a.w,y:a.y+.5*a.h+d},{Action:"move",x:a.x+.5*a.w,y:a.y+.5*a.h+.5*a.w-d},{Action:"line",x:a.x+.5*a.w,y:a.y+.5*a.h+.5*a.w+d}]}]}});
lucid.plugin.initBlockClass({className:"UI3HorizontalSplitterBlock",name:"Horizontal Splitter",vLock:!0,searchKeywords:["ui","interface","splitter","divider","horizontal"],defaultSize:{w:240,h:20},snapSpacing:4,getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(c=a.w,a=a.x,a={x:a,y:a+.35*c,w:c,h:.3*c},d=1);return[{Actions:C(a)},{StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"move",x:a.x,y:a.y+a.h},{Action:"line",
x:a.x+a.w,y:a.y+a.h}]},{StrokeColor:b.LineColor,LineWidth:2*d,Actions:[{Action:"move",x:a.x+.5*a.w-.5*a.h-d,y:a.y+.5*a.h},{Action:"line",x:a.x+.5*a.w-.5*a.h+d,y:a.y+.5*a.h},{Action:"move",x:a.x+.5*a.w-d,y:a.y+.5*a.h},{Action:"line",x:a.x+.5*a.w+d,y:a.y+.5*a.h},{Action:"move",x:a.x+.5*a.w+.5*a.h-d,y:a.y+.5*a.h},{Action:"line",x:a.x+.5*a.w+.5*a.h+d,y:a.y+.5*a.h}]}]}});
lucid.plugin.initBlockClass({className:"UI3BraceNoteBlock",name:"Curly Brace Note",searchKeywords:"ui interface brace curly bracket note".split(" "),defaultSize:{w:80,h:160},snapSpacing:4,variants:{Right:{defaultProperties:function(){return{BraceDirection:"Right"}}}},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Note",value:"Note",getBoundingBox:function(c){var a=.0625*c.h,d="Right"===lucid.plugin.getProperty(b,"BraceDirection");return{x:c.x+(d?0:3)*a,y:c.y+.25*c.h,w:c.w-3*a,h:.5*c.h}}})},
onCreate:function(b){var c="Right"===lucid.plugin.getProperty(b,"BraceDirection")?"right":"left";lucid.plugin.updateBlockTextArea(b,"Note",{align:c})},getRenderData:function(b,c){var a=b.BoundingBox,d=.0625*a.h,e=b.LineWidth;"sample"==c&&(d*=2,a={x:a.y,y:a.y,w:a.h,h:a.h});var f="Right"===b.BraceDirection,g=f?-1:1,h=a.w/2;h=a.x+(h-h*g);var l=h+d*g;e=[{Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y},{Action:"close"}]},
{StrokeColor:b.LineColor,LineWidth:e,Actions:[{Action:"move",x:h,y:a.y+a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(h-d,a.y+a.h-2*d,2*d,2*d,.5*Math.PI,Math.PI*(.5-.5*g))},{Action:"line",x:l,y:a.y+a.h/2+d},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(l-(d-d*g),a.y+a.h/2,2*d,2*d,Math.PI*(1+(.5-.5*g)),1.5*Math.PI)},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(l-(d-d*g),a.y+a.h/2-2*d,2*d,2*d,.5*Math.PI,Math.PI*(1-(.5-.5*g)))},{Action:"line",x:l,y:a.y+d},
{Action:"curve",Control:lucid.math.ellipseArcControlPoints(h-d,a.y,2*d,2*d,Math.PI*(2-(.5-.5*g)),1.5*Math.PI)}]}];f=f?0:3*d;d=3*d-f;"sample"==c&&e.push({FillColor:lucid.color.darken(b.FillColor,.5),Actions:[{Action:"move",x:a.x+f,y:a.y+.3*a.h},{Action:"line",x:a.x+.8*a.w-d,y:a.y+.3*a.h},{Action:"line",x:a.x+.8*a.w-d,y:a.y+.4*a.h},{Action:"line",x:a.x+f,y:a.y+.4*a.h},{Action:"close"},{Action:"move",x:a.x+f,y:a.y+.45*a.h},{Action:"line",x:a.x+.9*a.w-d,y:a.y+.45*a.h},{Action:"line",x:a.x+.9*a.w-d,y:a.y+
.55*a.h},{Action:"line",x:a.x+f,y:a.y+.55*a.h},{Action:"close"},{Action:"move",x:a.x+f,y:a.y+.6*a.h},{Action:"line",x:a.x+.7*a.w-d,y:a.y+.6*a.h},{Action:"line",x:a.x+.7*a.w-d,y:a.y+.7*a.h},{Action:"line",x:a.x+f,y:a.y+.7*a.h},{Action:"close"}]});return e}});
(function(){function b(a){return.3*1.5*Math.min(a.h,a.w)}function c(a,c,e,f,g,h){c||(c=lucid.plugin.getProperty(a,"Side"));e||(e=lucid.plugin.getProperty(a,"Position")/100);f||(f=lucid.plugin.getProperty(a,"BoundingBox"));g||b(f);h||(h=.2*f.w);a=h/2;switch(c){case 0:var d=(f.w-h)*e+a;var k=0;break;case 1:d=f.w;k=(f.h-h)*e+a;break;case 2:d=(f.w-h)*e+a;k=f.h;break;case 3:d=0,k=(f.h-h)*e+a}return{x:f.x+d,y:f.y+k}}lucid.plugin.initBlockClass({className:"UI3TooltipBlock",name:"Callout",searchKeywords:"shape tooltip infotip callout call out tip".split(" "),
defaultSize:{w:120,h:40},minWidth:120,minHeight:40,onInit:function(a){lucid.plugin.addBlockTextArea(a,{id:"Tip",value:"Tooltip",getBoundingBox:function(a){return{x:a.x+.1*a.w,y:a.y+.1*a.h,w:.8*a.w,h:.8*a.h}}});var c=lucid.plugin.getProperty(a,"BoundingBox");lucid.plugin.registerProperty(a,"MinLayerPadding",b(c));lucid.plugin.registerProperty(a,"TailAngle",-40);lucid.plugin.registerProperty(a,"Side",0);lucid.plugin.registerProperty(a,"Position",25)},getOffsetProperties:function(a,c,e){c=lucid.plugin.defaultOffsetProperties(a,
c,e);e=b(c[a].BoundingBox);c[a].MinLayerPadding=e;return c},spatialControls:function(a){function d(b,d,g,h,l){var e=Array.prototype.splice.call(arguments);e.unshift(a);return c.apply(null,e)}if(lucid.plugin.getProperty(a,"BoundingBox"))return[{logAction:"chart.viewport.selection.spatialControls.shapes.calloutTail",location:function(){var a=d();return{x:a.x-5,y:a.y-5,w:10,h:10}},moved:function(b){var c=lucid.plugin.getProperty(a,"BoundingBox"),d=.2*c.w,e=d/2,l=0;b.x>=c.x+c.w?l=1:b.y>=c.y+c.h?l=2:b.x<=
c.x&&(l=3);var k=0;switch(l){case 0:case 2:k=(b.x-c.x-e)/(c.w-d);break;case 1:case 3:k=(b.y-c.y-e)/(c.h-d)}k=Math.round(100*Math.min(1,Math.max(0,k)));45<k&&55>k&&(k=50);lucid.plugin.setPropertyIfChanged(a,"Side",l);lucid.plugin.setPropertyIfChanged(a,"Position",k)},path:function(){var b=lucid.plugin.getProperty(a,"BoundingBox");return[{x:b.x,y:b.y},{x:b.x+b.w,y:b.y},{x:b.x+b.w,y:b.y+b.h},{x:b.x,y:b.y+b.h},{x:b.x,y:b.y}]}},{location:function(){var d=lucid.plugin.getProperty(a,"Side");var f=lucid.plugin.getProperty(a,
"Position")/100,g=lucid.plugin.getProperty(a,"BoundingBox"),h=b(g),l=.2*g.w,k=lucid.plugin.getProperty(a,"TailAngle"),m=l/2;switch(d){case 0:var p=(g.w-l)*f+m;var q=0-h;break;case 1:p=g.w+h;q=(g.h-l)*f+m;break;case 2:p=(g.w-l)*f+m;q=g.h+h;break;case 3:p=0-h,q=(g.h-l)*f+m}d=lucid.math.Point.rotate({x:g.x+p,y:g.y+q},c(a,d,f,g,h,l),Math.PI/180*k);return{x:d.x-5,y:d.y-5,w:10,h:10}},moved:function(b){var c=d();lucid.plugin.getProperty(a,"BoundingBox");var e=0;switch(lucid.plugin.getProperty(a,"Side")){case 0:e=
-1*Math.atan2(c.x-b.x,c.y-b.y);break;case 1:e=Math.atan2(b.y-c.y,b.x-c.x);break;case 2:e=-1*Math.atan2(b.x-c.x,b.y-c.y);break;case 3:e=Math.atan2(c.y-b.y,c.x-b.x)}e=Math.round(180*e/Math.PI);80<e?e=80:-80>e?e=-80:-5<e&&5>e&&(e=0);lucid.plugin.setPropertyIfChanged(a,"TailAngle",e)}}]},getRenderData:function(a){function d(b,d,f,l,q){var n=c(a.id,a.Side,k,e,g,h);p.splice(b,d,f,lucid.math.Point.rotate(l,{x:n.x-e.x,y:n.y-e.y},Math.PI/180*m),q)}var e=a.BoundingBox,f=a.LineWidth,g=b(e),h=.2*e.w,l=h/2,k=
a.Position/100,m=a.TailAngle||0,p=[{x:0,y:0},{x:e.w,y:0},{x:e.w,y:e.h},{x:0,y:e.h}];switch(a.Side){case 0:d(1,0,{x:(e.w-h)*k,y:0},{x:(e.w-h)*k+l,y:-g},{x:(e.w-h)*k+h,y:0});break;case 1:d(2,0,{x:e.w,y:(e.h-h)*k},{x:e.w+g,y:(e.h-h)*k+l},{x:e.w,y:(e.h-h)*k+h});break;case 2:d(3,0,{x:(e.w-h)*k+h,y:e.h},{x:(e.w-h)*k+l,y:e.h+g},{x:(e.w-h)*k,y:e.h});break;case 3:d(4,0,{x:0,y:(e.h-h)*k+h},{x:-g,y:(e.h-h)*k+l},{x:0,y:(e.h-h)*k})}var q=[];lucid.array.forEach(p,function(a,b){q.push({Action:0==b?"move":"line",
x:e.x+a.x,y:e.y+a.y})});q.push({Action:"close"});return[{FillColor:a.FillColor,StrokeColor:a.LineColor,LineWidth:f,Actions:q}]}})})();
lucid.plugin.initBlockClass({className:"UI3SideBarBlock",name:"Side Bar",searchKeywords:["ui","side","menu bar"],defaultSize:{w:280,h:800},noLines:!0,unthemed:!0,rLock:!0,snapSpacing:4,disabledPropertyControls:[],defaultProperties:function(){return{FillColor:"#333",LineColor:"#999",LineWidth:1,Rounding:0}},onInit:function(b){function c(a){return function(c){var d=lucid.plugin.getProperty(b,"LeftWidth"),f=lucid.plugin.getProperty(b,"MenuHeight"),g=lucid.plugin.getProperty(b,"MenuItems");return{x:c.x+
10+d,y:c.y+10+a*f/g,w:c.w-20-d,h:f/g-20}}}lucid.plugin.registerProperty(b,"LeftWidth",65);lucid.plugin.registerProperty(b,"ViewMode",!0);lucid.plugin.registerProperty(b,"MenuHeight",250);lucid.plugin.registerProperty(b,"MenuItems",4,null,function(a,d){for(var e=0;e<d;e++)for(e=0;e<d;e++)da(b,"MenuLabal_"+e,"Menu Item "+e,c(e),null,function(){return e>lucid.plugin.getProperty(b,"MenuItems")||!lucid.plugin.getProperty(b,"ViewMode")})})},getRenderData:function(b,c){"sample"==c&&(b.LineWidth=1,b.LeftWidth=
15,b.BoundingBox={x:0,y:0,w:58,h:58});c=b.BoundingBox;b.ViewMode||(c.w=b.LeftWidth);var a=[{FillColor:b.FillColor,Actions:C(c)}];for(var d=1;d<=b.MenuItems;++d){var e=c.y+d*b.MenuHeight/b.MenuItems;a.push({LineWidth:b.LineWidth,StrokeColor:b.LineColor,Actions:ea([[c.x,e],[c.x+(b.ViewMode?c.w:b.LeftWidth),e]],!1)})}return a},getOffsetProperties:function(b,c,a){return lucid.plugin.defaultOffsetProperties(b,c,a)},spatialControls:function(b){var c=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,
"LeftWidth"),d=lucid.plugin.getProperty(b,"MenuHeight"),e=lucid.plugin.getProperty(b,"ViewMode");return[{location:function(){return{x:c.x+a-3,y:c.y,w:6,h:c.h}},moved:function(a){lucid.plugin.setProperty(b,"LeftWidth",a.x-c.x)},path:function(){return[{x:c.x,y:c.y},{x:c.x+c.w,y:c.y}]},cursor:function(){return"ew-resize"},color:"#00f"},{location:function(){return{x:c.x,y:c.y+d-3,w:e?c.w:a,h:6}},moved:function(a){lucid.plugin.setProperty(b,"MenuHeight",a.y-c.y)},path:function(){return[{x:c.x,y:c.y},{x:c.x,
y:c.y+c.h}]},cursor:function(){return"ns-resize"},color:"#00f"}]}});
lucid.plugin.initBlockClass({className:"UI3SearchBlock",name:"Search Box",searchKeywords:["ui","interface","search","find"],defaultSize:{w:120,h:40},minWidth:120,snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Search",value:"search",getBoundingBox:function(b){var a=b.h;return{x:b.x+a+.1*(b.w-a),y:b.y+.1*b.h,w:.8*(b.w-a),h:.8*b.h}},align:"left"})},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(d=a.w,a=a.x,a={x:a,y:a+.25*d,w:d,h:.5*d},d=1);c=a.h;return[{FillColor:b.FillColor,
StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:2*d,Actions:[{Action:"move",x:a.x+.4*c,y:a.y+.4*c},{Action:"line",x:a.x+.8*c,y:a.y+.8*c}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+.6*c,y:a.y+.4*c},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+.2*c,a.y+.2*c,
.4*c,.4*c,0,2*Math.PI)},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UI3CalloutBlock",name:"Callout",searchKeywords:["ui","interface","callout","badge","dot"],defaultSize:{w:44,h:44},defaultProperties:function(){return{FillColor:"#ffff00"}},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Txt",value:"1",getBoundingBox:function(c){return ba(c,function(a){return{x:a.x+.2*a.w,y:a.y+.2*a.h,w:.6*a.w,h:.6*a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin")||0,hideOverflow:!0}})}});
1<(lucid.plugin.getProperty(null,"Version")||0)&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(a={x:a.x+.25*a.w,y:a.y+.25*a.h,w:.5*a.w,h:.5*a.h});return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+a.w,y:a.y+.5*a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:"close"}]}]}});
(function(){function b(b,a,d,e){a||(a=lucid.plugin.getProperty(b,"Side"));d||(d=lucid.plugin.getProperty(b,"Position"));e||(e=lucid.plugin.getProperty(b,"BoundingBox"));switch(a){case 0:var c=e.w*d;var g=0;break;case 1:c=e.w;g=e.h*d;break;case 2:c=e.w*d;g=e.h;break;case 3:c=0,g=e.h*d}return{x:e.x+c,y:e.y+g}}lucid.plugin.initBlockClass({className:"UI3CalloutSquareBlock",name:"Square Tooltip",searchKeywords:"shape tooltip infotip callout call out tip".split(" "),defaultSize:{w:120,h:40},minWidth:120,
minHeight:40,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Tip",value:"",getBoundingBox:function(a){return{x:a.x+5,y:a.y+5,w:a.w-10,h:a.h-10}}});lucid.plugin.getProperty(b,"BoundingBox");lucid.plugin.registerProperty(b,"MinLayerPadding",25);lucid.plugin.registerProperty(b,"TailAngle",30);lucid.plugin.registerProperty(b,"TailRadius",25);lucid.plugin.registerProperty(b,"TailWidth",15);lucid.plugin.registerProperty(b,"Side",0);lucid.plugin.registerProperty(b,"Position",.6);lucid.plugin.registerProperty(b,
"RoundCorners",5)},getOffsetProperties:function(b,a,d){a=lucid.plugin.defaultOffsetProperties(b,a,d);a[b].MinLayerPadding=lucid.plugin.getProperty(b,"TailRadius");return a},spatialControls:function(c){function a(a,e,f,g,h){var d=Array.prototype.splice.call(arguments);d.unshift(c);return b.apply(null,d)}if(lucid.plugin.getProperty(c,"BoundingBox"))return[{logAction:"chart.viewport.selection.spatialControls.shapes.calloutTail",location:function(){var b=a();return{x:b.x-5,y:b.y-5,w:10,h:10}},moved:function(a){var b=
lucid.plugin.getProperty(c,"BoundingBox"),d=lucid.plugin.getProperty(c,"RoundCorners"),g=lucid.plugin.getProperty(c,"TailWidth"),h=Math.abs(g),l=lucid.plugin.getProperty(c,"Side");a.y<=b.y&&2*d<b.w?l=0:a.x>=b.x+b.w&&2*d<b.h?l=1:a.y>=b.y+b.h&&2*d<b.w?l=2:a.x<=b.x&&2*d<b.h&&(l=3);var k=.5,m=Math.abs(g);switch(l){case 0:case 2:h+2*d>b.w?(k=.5,m=(b.w-2*d)/2):k=Math.min(Math.max(a.x-b.x,d+h),b.w-d-h)/b.w;break;case 1:case 3:h+2*d>b.h?(k=.5,m=(b.h-2*d)/2):k=Math.min(Math.max(a.y-b.y,d+h),b.h-d-h)/b.h}.45<
k&&.55>k&&(k=.5);lucid.plugin.setPropertyIfChanged(c,"TailWidth",0>g?-m:m);lucid.plugin.setPropertyIfChanged(c,"Side",l);lucid.plugin.setPropertyIfChanged(c,"Position",k)},path:function(){var a=lucid.plugin.getProperty(c,"BoundingBox");return[{x:a.x,y:a.y},{x:a.x+a.w,y:a.y},{x:a.x+a.w,y:a.y+a.h},{x:a.x,y:a.y+a.h},{x:a.x,y:a.y}]}},{location:function(){lucid.plugin.getProperty(c,"BoundingBox");var b=lucid.plugin.getProperty(c,"TailWidth"),e=lucid.plugin.getProperty(c,"Side"),f=a();switch(e){case 0:case 2:var g=
f.x-b;var h=f.y;break;case 1:case 3:g=f.x,h=f.y-b}return{x:g-5,y:h-5,w:10,h:10}},moved:function(b){var d=lucid.plugin.getProperty(c,"BoundingBox"),f=lucid.plugin.getProperty(c,"Position"),g=lucid.plugin.getProperty(c,"Side"),h=lucid.plugin.getProperty(c,"RoundCorners"),l=a();switch(g){case 0:case 2:var k=l.x-b.x;b=(Math.abs(f-.5)-.5)*d.w+h;d=(.5-Math.abs(f-.5))*d.w-h;k=k<b?b:k>d?d:k;lucid.plugin.getProperty(c,"RoundCorners");break;case 1:case 3:k=l.y-b.y,b=(Math.abs(f-.5)-.5)*d.h+h,d=(.5-Math.abs(f-
.5))*d.h-h,k=k<b?b:k>d?d:k}lucid.plugin.setPropertyIfChanged(c,"TailWidth",k)},path:function(){var a=lucid.plugin.getProperty(c,"BoundingBox"),b=lucid.plugin.getProperty(c,"Side");return[{x:a.x,y:a.y},{x:a.x+a.w,y:a.y},{x:a.x+a.w,y:a.y+a.h},{x:a.x,y:a.y+a.h},{x:a.x,y:a.y}].splice(b,2)}},{location:function(){var a=lucid.plugin.getProperty(c,"Side");var e=lucid.plugin.getProperty(c,"Position"),f=lucid.plugin.getProperty(c,"BoundingBox"),g=lucid.plugin.getProperty(c,"TailRadius"),h=lucid.plugin.getProperty(c,
"TailAngle");switch(a){case 0:var l=f.w*e;var k=0-g;break;case 1:l=f.w+g;k=f.h*e;break;case 2:l=f.w*e;k=f.h+g;break;case 3:l=0-g,k=f.h*e}a=lucid.math.Point.rotate({x:f.x+l,y:f.y+k},b(c,a,e,f),Math.PI/180*h);return{x:a.x-5,y:a.y-5,w:10,h:10}},moved:function(b){var d=a();lucid.plugin.getProperty(c,"BoundingBox");var f=0;switch(lucid.plugin.getProperty(c,"Side")){case 0:f=-1*Math.atan2(d.x-b.x,d.y-b.y);break;case 1:f=Math.atan2(b.y-d.y,b.x-d.x);break;case 2:f=-1*Math.atan2(b.x-d.x,b.y-d.y);break;case 3:f=
Math.atan2(d.y-b.y,d.x-b.x)}f=180*f/Math.PI;90<f?f=90:-90>f?f=-90:-5<f&&5>f&&(f=0);b=lucid.math.Point.distance(b,d);lucid.plugin.setPropertyIfChanged(c,"MinLayerPadding",b);lucid.plugin.setPropertyIfChanged(c,"TailRadius",b);lucid.plugin.setPropertyIfChanged(c,"TailAngle",f)}},{location:function(){var a=lucid.plugin.getProperty(c,"BoundingBox"),b=lucid.plugin.getProperty(c,"Side"),f=lucid.plugin.getProperty(c,"Position"),g=lucid.plugin.getProperty(c,"RoundCorners"),h=lucid.plugin.getProperty(c,"TailWidth");
switch(b){case 0:case 2:g=Math.min(g,a.w/2,a.h/2,a.w*(.5-Math.abs(f-.5))-Math.abs(h));break;case 1:case 3:g=Math.min(g,a.w/2,a.h/2,a.h*(.5-Math.abs(f-.5))-Math.abs(h))}return{x:a.x+a.w-g-5,y:a.y-5,w:10,h:10}},moved:function(a){var b=lucid.plugin.getProperty(c,"BoundingBox");lucid.plugin.setProperty(c,"RoundCorners",b.x+b.w-a.x)},path:function(){var a=lucid.plugin.getProperty(c,"BoundingBox"),b=lucid.plugin.getProperty(c,"Side"),f=lucid.plugin.getProperty(c,"Position"),g=lucid.plugin.getProperty(c,
"TailWidth");switch(b){case 0:case 2:var h=Math.min(a.w*(.5-Math.abs(f-.5))-Math.abs(g),a.h/2);break;case 1:case 3:h=Math.min(a.h*(.5-Math.abs(f-.5))-Math.abs(g),a.w/2)}return[{x:a.x+a.w-h,y:a.y},{x:a.x+a.w,y:a.y}]}}]},getRenderData:function(c,a){function d(a,d,f,k,u){var n=b(c.id,c.Side,h,e);if(0>g){var p=f;f=u;u=p}k=lucid.math.Point.rotate(k,{x:n.x,y:n.y},Math.PI/180*l);f.Action="line";k.Action="line";u.Action="line";m.splice(a,d,f,k,u)}var e=c.BoundingBox,f=c.TailRadius,g=c.TailWidth,h=c.Position,
l=c.TailAngle,k=c.RoundCorners;"sample"==a?(k=3,f=6,g=3):"preview"==a&&(e.y+=4,e.h-=6,f=10,g=8);switch(c.Side){case 0:case 2:k=Math.min(k,e.w/2,e.h/2,e.w*(.5-Math.abs(h-.5)-Math.abs(g/e.w)));break;case 1:case 3:k=Math.min(k,e.w/2,e.h/2,e.h*(.5-Math.abs(h-.5)-Math.abs(g/e.h)))}var m=[{Action:"move",x:e.x,y:e.y+k},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(e.x,e.y,2*k,2*k,Math.PI,3*Math.PI/2)},{Action:"line",x:e.x+e.w-k,y:e.y},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(e.x+
e.w-2*k,e.y,2*k,2*k,-Math.PI/2,0)},{Action:"line",x:e.x+e.w,y:e.y+e.h-k},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(e.x+e.w-2*k,e.y+e.h-2*k,2*k,2*k,0,Math.PI/2)},{Action:"line",x:e.x+k,y:e.y+e.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(e.x,e.y+e.h-2*k,2*k,2*k,Math.PI/2,Math.PI)},{Action:"close"}];switch(c.Side){case 0:d(2,0,{x:e.x+e.w*h-g,y:e.y},{x:e.x+e.w*h,y:e.y-f},{x:e.x+e.w*h+g,y:e.y});break;case 1:d(4,0,{x:e.x+e.w,y:e.y+e.h*h-g},{x:e.x+e.w+f,y:e.y+e.h*h},{x:e.x+
e.w,y:e.y+e.h*h+g});break;case 2:d(6,0,{x:e.x+e.w*h+g,y:e.y+e.h},{x:e.x+e.w*h,y:e.y+e.h+f},{x:e.x+e.w*h-g,y:e.y+e.h});break;case 3:d(8,0,{x:e.x,y:e.y+e.h*h+g},{x:e.x-f,y:e.y+e.h*h},{x:e.x,y:e.y+e.h*h-g})}return[{NoRounding:!0,FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:m}]}})})();
lucid.plugin.initBlockClass({className:"UI3CalloutRoundBlock",name:"Callout",searchKeywords:["ui","interface","callout","badge","dot"],defaultSize:{w:44,h:44},defaultProperties:function(){return{FillColor:"#66b2ff"}},variants:{Tooltip:{tooltip:"Round Tooltip",searchKeywords:["ui","interface","callout","tooltip","speech"],defaultSize:{w:160,h:70},defaultProperties:function(){return{ArmAngle:-.528842478416981,ArmLength:31.63752578595915,ArmPosition:1.5707963267948966,ArmSweep:-.2438305580056035}}},
SW:{tooltip:"Callout",searchKeywords:["ui","interface","callout","badge","dot"],defaultProperties:function(){return{FillColor:"#66b2ff",ArmPosition:.75*Math.PI}}},NW:{tooltip:"Callout",searchKeywords:["ui","interface","callout","badge","dot"],defaultProperties:function(){return{FillColor:"#66b2ff",ArmPosition:1.25*Math.PI}}},NE:{tooltip:"Callout",searchKeywords:["ui","interface","callout","badge","dot"],defaultProperties:function(){return{FillColor:"#66b2ff",ArmPosition:1.75*Math.PI}}}},snapSpacing:4,
onInit:function(b){lucid.plugin.registerProperty(b,"TextWrap","fit");lucid.plugin.registerProperty(b,"InsetMargin",5);lucid.plugin.registerProperty(b,"ArmPosition",.25*Math.PI);lucid.plugin.registerProperty(b,"ArmAngle",0);lucid.plugin.registerProperty(b,"ArmSweep",Math.PI/4);lucid.plugin.registerProperty(b,"ArmLength",9.140091444993603);lucid.plugin.registerProperty(b,"MinLayerPadding",25);lucid.plugin.addBlockTextArea(b,{id:"Txt",value:"",getBoundingBox:function(c){return ba(c,function(a){return{x:a.x+
.2*a.w,y:a.y+.2*a.h,w:.6*a.w,h:.6*a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin"),hideOverflow:!0}})}})},spatialControls:function(b){function c(a){return{x:a.x-7,y:a.y-7,w:14,h:14}}var a=lucid.plugin.getProperty(b,"BoundingBox"),d=lucid.math.Box.center(a);return[{location:function(){var e=lucid.plugin.getProperty(b,"ArmPosition")-lucid.plugin.getProperty(b,"ArmSweep");return c({x:d.x+Math.cos(e)*a.w/2,y:d.y+Math.sin(e)*a.h/2})},moved:function(c){c=
lucid.plugin.getProperty(b,"ArmPosition")-Math.atan2((c.y-d.y)/a.h,(c.x-d.x)/a.w);var e=Math.abs(c%(Math.PI/4));if(lucid.math.nearlyEquals(e,0,.1)||lucid.math.nearlyEquals(e,Math.PI/4,.1))c=Math.round(4*c/Math.PI)/(4/Math.PI);lucid.plugin.setPropertyIfChanged(b,"ArmSweep",c)},area:function(){return a}},{location:function(){var e=lucid.plugin.getProperty(b,"ArmLength"),f=lucid.plugin.getProperty(b,"ArmPosition");f={x:d.x+Math.cos(f)*a.w/2,y:d.y+Math.sin(f)*a.h/2};var g=lucid.plugin.getProperty(b,"ArmAngle")+
lucid.plugin.getProperty(b,"ArmPosition");e=lucid.math.Point.rotate({x:f.x+e,y:f.y},f,g);return c(e)},moved:function(c){var e=lucid.plugin.getProperty(b,"ArmPosition"),g={x:d.x+Math.cos(e)*a.w/2,y:d.y+Math.sin(e)*a.h/2},h=lucid.math.Point.directionAngle(g,c),l=Math.abs(h%(Math.PI/4));if(lucid.math.nearlyEquals(l,0,.1)||lucid.math.nearlyEquals(l,Math.PI/4,.1))h=Math.round(4*h/Math.PI)/(4/Math.PI);c=lucid.math.Point.distance(g,c);lucid.plugin.setProperty(b,"ArmAngle",h-e);lucid.plugin.setProperty(b,
"ArmLength",c);lucid.plugin.setProperty(b,"MinLayerPadding",c)}},{location:function(){var e=lucid.plugin.getProperty(b,"ArmPosition");return c({x:d.x+Math.cos(e)*a.w/2,y:d.y+Math.sin(e)*a.h/2})},moved:function(c){c=Math.atan2((c.y-d.y)/a.h,(c.x-d.x)/a.w);var e=Math.abs(c%(Math.PI/4));if(lucid.math.nearlyEquals(e,0,.1)||lucid.math.nearlyEquals(e,Math.PI/4,.1))c=Math.round(4*c/Math.PI)/(4/Math.PI);lucid.plugin.setProperty(b,"ArmPosition",c)},area:function(){return a}}]},getRenderData:function(b,c){var a=
b.BoundingBox;"sample"==c?b.ArmLength=5:"preview"==c&&(b.ArmLength=10);c=b.ArmPosition-Math.abs(b.ArmSweep);var d=b.ArmPosition+Math.abs(b.ArmSweep),e=lucid.math.Box.center(a),f={x:e.x+Math.cos(b.ArmPosition)*a.w/2,y:e.y+Math.sin(b.ArmPosition)*a.h/2};f=lucid.math.Point.rotate({x:f.x+b.ArmLength,y:f.y},f,b.ArmAngle+b.ArmPosition);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,NoRounding:!0,Actions:[{Action:"move",x:e.x+Math.cos(c)*a.w/2,y:e.y+Math.sin(c)*a.h/2},{Action:"line",
x:f.x,y:f.y},{Action:"line",x:e.x+Math.cos(d)*a.w/2,y:e.y+Math.sin(d)*a.h/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,d,c+2*Math.PI)},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UI3AlertBlock",name:"Alert",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","alert","window"],defaultSize:{w:360,h:200},onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Button_1");lucid.plugin.addBlockTextArea(b,{id:"Button_"+a,value:c?lucid.text.restyle("Button "+a,c):"Button "+a,getBoundingBox:function(a){return function(c){var d=lucid.plugin.getProperty(b,"Buttons"),e=lucid.plugin.getProperty(b,"LineWidth"),f=2*e,
k=80+2*f;f=c.w/2-(d*(k+f)-f)/2+(a-1)*(k+f)+(a-1)*f;return a>d?null:{x:c.x+f,y:c.y+.9*c.h-40-2*e,w:80,h:40}}}(a)})}lucid.plugin.addBlockTextArea(b,{id:"Txt",value:"Alert Message",getBoundingBox:function(a){return{x:a.x+.5*a.w-.3*a.w,y:a.y+40+10,w:.6*a.w,h:80}}});lucid.plugin.registerProperty(b,"Buttons",2,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Button_"+e]||c(e)});lucid.plugin.addBlockTextArea(b,{id:"Title",value:"Alert Title",getBoundingBox:function(a){return{x:a.x+
70,y:a.y,w:a.w-140,h:40}}})},getRenderData:function(b,c){var a=b.BoundingBox,d=40,e=b.LineWidth,f=b.Buttons;"sample"==c&&(e=1,d=a.h/4,f=0);c=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:C(a)},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+d},{Action:"line",x:a.x,y:a.y+d},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:e,Actions:[{Action:"move",
x:a.x+a.w-d+2*e,y:a.y+2*e},{Action:"line",x:a.x+a.w-2*e,y:a.y+2*e},{Action:"line",x:a.x+a.w-2*e,y:a.y+d-2*e},{Action:"line",x:a.x+a.w-d+2*e,y:a.y+d-2*e},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:e,NoRounding:!0,Actions:[{Action:"move",x:a.x+a.w-.8*d+2*e,y:a.y+.2*d+2*e},{Action:"line",x:a.x+a.w-.2*d-2*e,y:a.y+.8*d-2*e},{Action:"move",x:a.x+a.w-.2*d-2*e,y:a.y+.2*d+2*e},{Action:"line",x:a.x+a.w-.8*d+2*e,y:a.y+.8*d-2*e}]}];for(var g,h,l=2*e,k=80+2*l,m=f*(k+l)-l,p=0;p<f;p++)g=a.w/2-m/2+p*(k+
2*l),h=.9*a.h-(d+e),c.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:e,Actions:[{Action:"move",x:a.x+g,y:a.y+h},{Action:"line",x:a.x+g+80+l,y:a.y+h},{Action:"line",x:a.x+g+80+l,y:a.y+h+d+e-2.5*e},{Action:"line",x:a.x+g,y:a.y+h+d+e-2.5*e},{Action:"close"}]});return c}});
lucid.plugin.initBlockClass({className:"UI3GridBlock",name:"Grid",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","alert","window"],defaultSize:{w:960,h:960},noLines:!0,unthemed:!0,rLock:!0,preventCopy:!0,nwSelectable:{getMoveHandleRenderData:function(b){return[{FillColor:"#fff",LineWidth:1,Rounding:3,StrokeColor:"#000",Actions:C(b)}].concat(ya(b,"#000","#000",0))},resizeHandleColor:"#000"},showResizeHandles:!1,defaultProperties:function(){return{FillColor:"#66b2ff66"}},
onInit:function(b){v.gridBlocks[b]=!0;lucid.plugin.registerProperty(b,"GridColumns",12);lucid.plugin.registerProperty(b,"GridGutterSize",20);lucid.plugin.registerProperty(b,"HideGrid",!1);lucid.plugin.registerProperty(b,"GridWidth","960 px")},getGuides:function(b){var c=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"GridGutterSize");b=lucid.plugin.getProperty(b,"GridColumns");var d=c.x+a;c=(c.w-a*(b+1))/b;var e,f=[];for(e=0;e<b;e++)f.push(Math.round(d)),d+=c,f.push(Math.round(d)),
d+=a;return{x:f,y:[200]}},getOffsetProperties:function(b,c,a){c=lucid.plugin.defaultOffsetProperties(b,c,a);var d=c[b].BoundingBox;a=(lucid.plugin.getProperty(b,"GridGutterSize")+5)*(lucid.plugin.getProperty(b,"GridColumns")+1);d.w<a&&(d.w=a);a=lucid.array.find(ja,function(a){return d.w==parseInt(a)});lucid.plugin.setProperty(b,"GridWidth",a||"Custom");return c},getRenderData:function(b,c){function a(a,c,d){var e,f=a.x+c,h=(a.w-c*(d+1))/d;for(e=0;e<d;e++){var k={x:f,y:a.y,w:h,h:a.h};g.push({FillColor:b.FillColor,
NoRounding:!0,LineWidth:0,Actions:C(k)});f+=h+c}}if(b.HideGrid&&(lucid.plugin.inReadOnlyMode()||"presentation"==v.currentContext))return[];var d=b.BoundingBox,e=b.GridColumns,f=b.GridGutterSize;"sample"==c&&(d.h=d.w,e=3,f=2);var g=[{FillColor:"#00000000",StrokeColor:b.FillColor,LineWidth:2,Actions:C(d)}];b.HideGrid||a(d,f,e);d={x:d.x-15,y:d.y-15,w:30,h:30};"sample"!=c&&(g.push({FillColor:"#fff",Rounding:3,LineWidth:1,StrokeColor:"#000",Actions:C(d)}),a(lucid.math.Box.pad(d,-3),2,3));return g}});
lucid.plugin.onContextChanged(function(b){v.currentContext=b[0];for(var c in v.gridBlocks)lucid.plugin.refreshBlockView(c)});
lucid.plugin.initBlockClass({className:"UI3PlaybackControlsBlock",name:"Playback Controls",defaultSize:{w:180,h:60},searchKeywords:"ui interface playback controls pause forward rewind".split(" "),snapSpacing:4,getRenderData:function(b,c){var a=b.BoundingBox,d=b.FillColor,e=b.LineColor;b=b.LineWidth;"sample"==c&&(b=1);c=[];G(c,J({x:a.x,y:a.y+.1*a.h,w:.8*a.w/3,h:.8*a.h},d,e,b,xa,{t:.2,r:.1,b:.2,l:0}));G(c,J({x:a.x+a.w/3,y:a.y,w:a.w/3,h:a.h},d,e,b,N,{t:.1,r:.05,b:.1,l:.25}));G(c,J({x:a.x+2.2*a.w/3,y:a.y+
.1*a.h,w:.8*a.w/3,h:.8*a.h},d,e,b,wa,{t:.2,r:0,b:.2,l:.1}));return c}});function ha(b){var c=lucid.plugin.getProperty(b,"Data");lucid.dialog.textAreaPrompt("Edit the menu.",c,function(a){lucid.plugin.setProperty(b,"Data",a)},null,{"font-family":"courier, monospace"})}
lucid.plugin.initBlockClass({className:"UI3ContextMenuBlock",name:"Context Menu",disabledPropertyControls:["FlipX","FlipY"],vLock:!0,searchKeywords:"ui interface context menu shortcut popup".split(" "),defaultSize:{w:320,h:300},snapSpacing:4,onInit:function(b){function c(a,c,e,f){lucid.plugin.addBlockTextArea(b,{id:c+a,value:e,getBoundingBox:function(c){var d=lucid.plugin.getProperty(b,"Dividers");lucid.plugin.getProperty(b,"Icons");for(var e=lucid.plugin.getProperty(b,"Lines"),g=0,m=1;m<a;m++)g=
d[m]?g+16:g+32;c={x:c.x+4,y:c.y+4,w:c.w-8,h:c.h-8};return a>e?null:{x:c.x+("left"==f?24:.5*c.w)+4,y:c.y+g,w:("left"==f?c.w-24:.5*c.w)-8,h:32}},readOnly:!0,align:f})}lucid.plugin.registerProperty(b,"Lines",0);lucid.plugin.registerProperty(b,"Dividers",{});lucid.plugin.registerProperty(b,"Icons",{});lucid.plugin.registerProperty(b,"Data","New,CTRL+N\nTools,>\n--\no Option 1, CTRL+1\nOption 2, CTRL+2\nOption 3, CTRL+3\n=\nx Show Hints\n-Disabled-\nClose Window,CTRL+W",null,function(a,d){a=lucid.plugin.getProperty(b,
"BoundingBox");for(var e=lucid.plugin.getBlockTextAreas(b),f={},g=0;g<e.length;g++)f[e[g]]=!0,lucid.plugin.setProperty(b,e[g],null);d=d.split("\n");e={};var h={},l=8;for(g=0;g<d.length;g++){var k=d[g];if(-1==k.search(/[^-\s]/)||-1==k.search(/[^=\s]/))e[g+1]=!0,l+=16,f["Item_"+(g+1)]&&lucid.plugin.setProperty(b,"Item_"+(g+1),""),f["Shortcut_"+(g+1)]&&lucid.plugin.setProperty(b,"Shortcut_"+(g+1),"");else{switch(k.substr(0,2)){case "x ":h[g+1]="check";k=k.substr(2);break;case "o ":h[g+1]="dot",k=k.substr(2)}var m=
k.lastIndexOf(","),p=-1<m?k.substr(m+1):null;k=-1<m?k.substr(0,m):k;k.match(/^\s*-.*-\s*$/)&&(k='<span style="color:#999">'+k.substr(1,k.length-2)+"</span>");f["Item_"+(g+1)]?lucid.plugin.setProperty(b,"Item_"+(g+1),k):c(g+1,"Item_",k,"left");null!=p?(p=-1==p.search(/\S/)?">":p,p.match(/^\s*-.*-\s*$/)&&(p='<span style="color:#999">'+p.substr(1,p.length-2)+"</span>"),f["Shortcut_"+(g+1)]?lucid.plugin.setProperty(b,"Shortcut_"+(g+1),p):c(g+1,"Shortcut_",p,"right")):f["Shortcut_"+(g+1)]&&lucid.plugin.setProperty(b,
"Shortcut_"+(g+1),"");l+=32}}lucid.plugin.setProperty(b,"Lines",d.length);lucid.plugin.setProperty(b,"Dividers",e);lucid.plugin.setProperty(b,"Icons",h);lucid.plugin.setProperty(b,"BoundingBox",{x:a.x,y:a.y,w:a.w,h:lucid.plugin.snapToGrid(b,l,1,"ceil")})})},onDblClick:ha,getRenderData:function(b,c){var a=b.BoundingBox,d=b.Lines,e=b.Dividers,f=b.Icons,g=32,h=16,l=4,k=0,m=b.FillColor,p=b.LineColor,q=b.LineWidth;b=q;"sample"==c&&(a={x:1.5*a.y,y:a.x,w:a.h-a.y,h:a.w},b=1,d=5,e={2:!0,4:!0},g=6,h=2,l=1);
c=[{FillColor:m,StrokeColor:p,LineWidth:q,Actions:C(a)}];a.x+=l;a.y+=l;a.w-=2*l;a.h-=2*l;for(q=1;q<=d;q++)if(e[q])c.push({FillColor:m,StrokeColor:lucid.color.darken(m,.5),LineWidth:1,Actions:[{Action:"move",x:a.x+l,y:a.y+k+.5*h},{Action:"line",x:a.x+a.w-l,y:a.y+k+.5*h}]}),k+=h;else{if(f[q]){var r={x:a.x+6,y:a.y+k+6+.5*l,w:12,h:12};switch(f[q]){case "check":G(c,H(r,p,p,b));break;case "dot":G(c,J(r,p,p,b))}}k+=g}return c}});
function ia(b){var c=lucid.plugin.getProperty(b,"Data");lucid.dialog.textAreaPrompt("Edit the pane.",c,function(a){lucid.plugin.setProperty(b,"Data",a)},null,{"font-family":"courier, monospace"})}
lucid.plugin.initBlockClass({className:"UI3TreePaneBlock",name:"Tree Pane",vLock:!0,disabledPropertyControls:["FlipX","FlipY"],snapSpacing:4,searchKeywords:"ui interface tree navigation panel file".split(" "),defaultSize:{w:360,h:400},onInit:function(b){function c(a,c,e){lucid.plugin.addBlockTextArea(b,{id:c+a,value:e,getBoundingBox:function(c){var d=lucid.plugin.getProperty(b,"lines",!0),e=lucid.plugin.getProperty(b,"tabs",!0),f=lucid.plugin.getProperty(b,"icons",!0),k=32*(a-1);e=e[a]?24*e[a]:0;
e+=f[a]?24:0;return a>d?null:{x:c.x+4+e+4,y:c.y+4+k,w:c.w-8-e-8,h:32}},readOnly:!0,align:"left"})}lucid.plugin.registerProperty(b,"Data","f closed folder: f\nF open folder: F\n[+] plus: [+]\n[-] minus: [-]\n[x] check box: [x]\n[] empty box: []\n> right pointer: >\nv down pointer: v\n_> for indent use a space, period,\n_v or an underscore\n__- file: -\n__- another file",null,function(a,d){lucid.plugin.getProperty(b,"BoundingBox");var e=lucid.plugin.getBlockTextAreas(b);a={};for(var f=0;f<e.length;f++)a[e[f]]=
!0,lucid.plugin.setProperty(b,e[f],null);e=d.split("\n");var g={},h={};d=8;for(f=0;f<e.length;f++){var l=e[f],k=l.search(/[^_\.\s]/);0<k&&(g[f+1]=k,l=l.substr(k));k=l.substr(0,l.indexOf(" ")+1);switch(k){case "f ":h[f+1]="folder";break;case "F ":h[f+1]="ofolder";break;case "[+] ":h[f+1]="plus";break;case "[-] ":h[f+1]="minus";break;case "[x] ":h[f+1]="check";break;case "[] ":case "[ ] ":h[f+1]="box";break;case "> ":h[f+1]="right";break;case "v ":h[f+1]="down";break;case "- ":h[f+1]="file";break;default:k=
""}l=l.substr(k.length);a["Item_"+(f+1)]?lucid.plugin.setProperty(b,"Item_"+(f+1),l):c(f+1,"Item_",l);d+=32}lucid.plugin.setProperty(b,"lines",e.length,!0);lucid.plugin.setProperty(b,"tabs",g,!0);lucid.plugin.setProperty(b,"icons",h,!0);a=lucid.plugin.getProperty(b,"BoundingBox");a.x=a.x;a.y=a.y;a.w=a.w;a.h=lucid.plugin.snapToGrid(b,d,1,"ceil");lucid.plugin.setProperty(b,"BoundingBox",a)})},onDblClick:ia,getRenderData:function(b,c){var a=b.BoundingBox,d=b.lines,e=b.tabs,f=b.icons,g=32,h=24,l=4,k=
0,m=b.FillColor,p=b.LineColor,q=b.LineWidth;b=q;"sample"==c&&(a.x=1.5*a.y,a.w=a.h-a.y,b=1,d=3,g=6,h=7,l=1);c=[{FillColor:m,StrokeColor:p,LineWidth:q,Actions:C(a)}];a.x+=l;a.y+=l;a.w-=2*l;a.h-=2*l;for(q=1;q<=d;q++){if(f[q]){var r={x:a.x+3+(e[q]?e[q]*h:0),y:a.y+k+3+l,w:h-6,h:h-6},n=null,u=null,x=null;switch(f[q]){case "folder":n=M;u=ta;x={t:.1,r:0,b:.1,l:.1};break;case "ofolder":n=M;u=ua;x={t:.1,r:0,b:.1,l:0};break;case "plus":n=L;u=oa;x={t:.2,r:.2,b:.2,l:.2};break;case "minus":n=L;u=pa;x={t:.2,r:.2,
b:.2,l:.2};break;case "check":n=L;u=H;x={t:.2,r:.2,b:.2,l:.2};break;case "box":n=L;break;case "right":n=M;u=N;x={t:0,r:.1,b:0,l:.2};break;case "down":n=M;u=ra;x={t:.2,r:0,b:.1,l:0};break;case "file":n=M,u=va,x={t:0,r:.1,b:0,l:.1}}n&&(u&&x?G(c,n(r,m,p,b,u,x)):G(c,n(r,m,p,b)))}k+=g}return c}});var za=!1;lucid.plugin.onDocumentLoaded(function(){za=!0});
function X(b,c){function a(a,c,d){lucid.plugin.addBlockTextArea(b,{id:d,getBoundingBox:function(d){var e=lucid.plugin.getProperty(b,"LayoutData",!0);if(!(e&&e.visibleText[a]&&e.visibleText[a][c]&&e.fixedWidths[c]&&e.fixedHeights[a])||e.icons[a]&&e.icons[a][c])return null;var f=d.w-e.totalFixedWidth;return e.fixedYs[a]+e.fixedHeights[a]>d.h?null:{x:d.x+e.fixedXs[c]+e.dynamicXs[c]*f+6,y:d.y+e.fixedYs[a],w:(e.dynamicWidths[c]?e.dynamicWidths[c]*f:e.fixedWidths[c])-12,h:e.fixedHeights[a]}},readOnly:!0,
align:"C"==h[c]?"center":"R"==h[c]?"right":"L"==h[c]?"left":null})}if(za){var d=lucid.plugin.getAllProperties(b);if(d){var e=[],f=[],g=[],h=[],l=[],k=[],m=[],p=0,q=[],r=[],n=[],u=d.Data;if(u){u=u.replace(/^\s+|\s+$/g,"");u=u.replace(/\\,/g,"___COMMA___").replace(/,/g,"\t").replace(/___COMMA___/g,",");u=u.replace(/\n/g,"___NEWLINE___").replace(/\\n/g,"\n");u=u.split("___NEWLINE___");var x=[],D=[];lucid.array.forEach(u,function(a,b){a=a.replace(/^\s+|\s+$/g,"");b==u.length-1&&(D=a.match(/^\{([^\}]+?)\}$/))?
(D=D[1].split("\t"),lucid.array.forEach(D,function(a,b){D[b]=a.replace(/^\s+|\s+$/g,"")}),n=D):(a=a.split("\t"),lucid.array.forEach(a,function(b,c){a[c]=b.replace(/^\s+|\s+$/g,"")}),x.push(a),n=[])});var Y=d.Font,K=null,W=lucid.plugin.getBlockTextAreas(b),w="",y="",E=0,I={x:0,y:0,w:1E4,h:1E4},F=0,ca=0,la=0,ma=0;e=[];f=[];g=[];h=[];l=[];k=[];m=[];p=0;q=[];r=[];for(var na={},aa=0;aa<W.length;aa++)na[W[aa]]=!0;lucid.array.forEach(x,function(k,l){lucid.array.forEach(k,function(k,m){w="Cell_"+l+"_"+m;
K||(K=lucid.text.getStyleFromContent(d[w]));y="<span>"+lucid.string.htmlEscape(k)+"</span>";K&&(delete K.align,y=lucid.text.restyle(y,K));if(null==g[m]&&n[m]&&parseInt(n[m],10)){var p=parseInt(n[m],10);g[m]=p;E+=p}null==h[m]&&n[m]&&(h[m]=n[m].replace(/[0-9]/g,"").toUpperCase());e[m]||(e[m]=0);f[l]||(f[l]=36);switch(k){case "[x]":case "[]":case "[ ]":case "(o)":case "()":case "( )":e[m]=Math.max(e[m],36);f[l]=Math.max(f[l],36);q[l]||(q[l]=[]);q[l][m]=k;break;default:k=lucid.text.measure(y,I,Y),e[m]=
Math.max(e[m],k.w+12),f[l]=Math.max(f[l],k.h+12),r[l]||(r[l]=[]),r[l][m]=!0}if(na[w])c||lucid.object.areEqual(d[w],y)||lucid.plugin.setProperty(b,w,y),h[m]?lucid.plugin.updateBlockTextArea(b,w,{align:"C"==h[m]?"center":"R"==h[m]?"right":"left"}):lucid.plugin.updateBlockTextArea(b,w,{align:null});else if(c||null!=d[w])a(l,m,w);else{var u=w,x=lucid.plugin.hookPropertyPostSave(b,w,function(){lucid.plugin.unHookPropertyPostSave(b,u,x);a(l,m,u)});lucid.plugin.setProperty(b,w,y)}})});lucid.array.forEach(e,
function(a,b){ma+=a;g[b]||(p+=a)});0==g.length?(lucid.array.forEach(e,function(a,b){g[b]=a/ma}),p=0):lucid.array.forEach(g,function(a,b){g[b]=a/E});lucid.array.forEach(x,function(a,b){k[b]=ca;lucid.array.forEach(a,function(a,b){null==l[b]&&null==m[b]&&(l[b]=F,m[b]=la,g[b]?la+=g[b]:F+=e[b])});ca+=f[b]})}lucid.plugin.setProperty(b,"LayoutData",{visibleText:r,fixedWidths:e,fixedHeights:f,icons:q,totalFixedWidth:p,fixedXs:l,fixedYs:k,dynamicXs:m,dynamicWidths:g,columnAlignment:h},!0);lucid.plugin.refreshBlockView(b)}}}
function fa(b){function c(b){var c=null;if(c=b.match(/\{\{([^\}]+?)\}\}/))c=c[1].split(","),lucid.array.forEach(c,function(b){b=b.split(":");a(b[0],b[1])});return b.replace(/\{\{([^\}]+?)\}\}/,"")}function a(a,c){if(c&&a&&(a=a.replace(/^\s+|\s+$/g,""),c=c.replace(/^\s+|\s+$/g,""),e[a])){var d=function(a,c){lucid.plugin.getProperty(b,a)!=c&&lucid.plugin.setProperty(b,a,c)},f;for(f in e[a].args)if("color"==e[a].args[f]){c.match(/^#([0-9a-fA-F]){3}$|#([0-9a-fA-F]){6}$|#([0-9a-fA-F]){8}$/)&&d(e[a].prop,
c);break}else c==e[a].args[f]&&d(e[a].prop,c)}}var d=lucid.plugin.getProperty(b,"Data"),e={color:{prop:"FillColor",args:["color"]},"alt-row":{prop:"AltRow",args:["default","none","color"]},header:{prop:"Header",args:["default","none","color"]},grid:{prop:"GridLines",args:["default","none","row","column","full"]}};lucid.dialog.textAreaPrompt("<div>Edit the table.<br/><br/>Style Options:<br/><b>header:</b> default | none | #[hex color]<br/><b>alt-row:</b> default | none | #[hex color]<br/><b>grid:</b> default | none | row | column | full</div>",
function(a){var c=lucid.plugin.getProperty(b,"Header"),d=lucid.plugin.getProperty(b,"GridLines"),e=lucid.plugin.getProperty(b,"AltRow"),f=lucid.plugin.getProperty(b,"FillColor");a=a.replace(/^\s+|\s+$/g,"");a=a+"\n\n{{"+("\ncolor: "+("string"===typeof f?f:"gradient"))+(",\nheader: "+(c?c:"default"))+(",\nalt-row: "+(e?e:"default"));a+=",\ngrid: "+(d?d:"default");return a+="\n}}"}(d),function(a){var d=c(a);lucid.plugin.getProperty(b,"Data")!=d&&lucid.plugin.setProperty(b,"Data",c(a))},null,{"font-family":"courier, monospace"})}
var Z={};lucid.plugin.beforeUndoBatchCommitted(function(){for(var b in Z)Z[b]()});
lucid.plugin.initBlockClass({className:"UI3TableBlock",name:"Table/Data Grid",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","table","grid","data"],defaultSize:{w:420,h:280},snapSpacing:4,onInit:function(b){function c(){a||(a=!0,Z[b]=function(){a&&(X(b),a=!1);delete Z[b]},setTimeout(function(){a&&(X(b,!0),a=!1)},1))}var a=!1;lucid.plugin.registerProperty(b,"Data","Name, Age, Full Time,Manager\nJames, 57, [x],(o)\nMaria, 27, [],()\nSaul, 25, [x],()\n{3L, 1, 0,0}");lucid.plugin.hookPropertyPostSave(b,
null,function(a,b,f){"BoundingBox"==f?a.w==b.w&&a.h==b.h||c():c()});X(b)},onDblClick:fa,getRenderData:function(b,c){var a=24,d=6,e=a+2*d,f=b.BoundingBox;if(!b.LayoutData)return[{FillColor:"#ffffff",Actions:[{Action:"move",x:f.x,y:f.y},{Action:"line",x:f.x+f.w,y:f.y},{Action:"line",x:f.x+f.w,y:f.y+f.h},{Action:"line",x:f.x,y:f.y+f.h},{Action:"close"}]}];var g=b.FillColor,h=b.LineColor,l=b.LineWidth,k=b.Header||"default",m=b.AltRow||"default",p=b.GridLines||"default",q=3,r=f.w-b.LayoutData.totalFixedWidth,
n=0,u=0,x=l,D="C",Y=b.TextVAlign,K="none"!==m,W="none"!==k,w="default"===k?lucid.color.darken(g,.2):k,y="default"===m?lucid.color.darken(g,.06):m,E="row"===p||"full"===p;k="default"===p||"column"===p||"full"===p;"sample"==c&&(x=1,e=6,a=7,d=q=1,b.LayoutData.fixedHeights=[e],b.LayoutData.fixedWidths=[.5*f.w,.5*f.w],b.LayoutData.fixedXs=[0,.5*f.w],b.LayoutData.dynamicXs=[0,0]);var I=[{FillColor:g,Actions:C(f)}];switch(b.TextAlign){case "left":D="L";break;case "center":D="C";break;case "right":D="R"}lucid.array.forEach(b.LayoutData.fixedHeights,
function(a,c){u=c;var d=g;0==c&&W?d=w:K&&(d=y);a&&0==c%2&&n<f.h&&I.push({FillColor:d,StrokeColor:E?h:null,LineWidth:E?x:null,NoRounding:!0,Actions:[{Action:"move",x:f.x,y:f.y+b.LayoutData.fixedYs[c]},{Action:"line",x:f.x+f.w,y:f.y+b.LayoutData.fixedYs[c]},{Action:"line",x:f.x+f.w,y:f.y+Math.min(f.h,b.LayoutData.fixedYs[c]+a)},{Action:"line",x:f.x,y:f.y+Math.min(f.h,b.LayoutData.fixedYs[c]+a)},{Action:"close"}]});n+=a});for(c=b.LayoutData.fixedHeights[b.LayoutData.fixedHeights.length-1]||e;n<f.h;)u++,
0==u%2&&I.push({FillColor:K?y:null,StrokeColor:E?h:null,LineWidth:E?x:null,NoRounding:!0,Actions:[{Action:"move",x:f.x,y:f.y+n},{Action:"line",x:f.x+f.w,y:f.y+n},{Action:"line",x:f.x+f.w,y:f.y+Math.min(f.h,n+c)},{Action:"line",x:f.x,y:f.y+Math.min(f.h,n+c)},{Action:"close"}]}),n+=c;k&&lucid.array.forEach(b.LayoutData.fixedWidths,function(a,c){a&&0<c&&(a=f.x+b.LayoutData.fixedXs[c]+b.LayoutData.dynamicXs[c]*r,I.push({StrokeColor:h,LineWidth:x,NoRounding:!0,Actions:[{Action:"move",x:a,y:f.y},{Action:"line",
x:a,y:f.y+f.h}]}))});var F=[];lucid.array.forEach(b.LayoutData.icons||[],function(c,e){c&&lucid.array.forEach(c,function(c,k){if(c&&b.LayoutData.fixedYs[e]+a+2*d<f.h){if(!F[k]){var l=f.x+b.LayoutData.fixedXs[k]+b.LayoutData.dynamicXs[k]*r+d,m=l+(b.LayoutData.dynamicWidths[k]?b.LayoutData.dynamicWidths[k]*r:b.LayoutData.fixedWidths[k])-2*d,n=b.LayoutData.columnAlignment[k]||D;F[k]={x:"C"==n?.5*(l+m-(a-2*q)):"R"==n?m-(a+q):l+q,y:0,w:a-2*q,h:a-2*q}}l=b.LayoutData.fixedHeights[e];switch(Y){case "top":F[k].y=
f.y+b.LayoutData.fixedYs[e]+d+q;break;case "bottom":F[k].y=f.y+b.LayoutData.fixedYs[e]+l+q-(a+d);break;default:F[k].y=f.y+b.LayoutData.fixedYs[e]+.5*(l-(a-2*q))}n=m=l=null;switch(c){case "[x]":l=L;m=H;n={t:.2,r:.2,b:.2,l:.2};break;case "[ ]":case "[]":l=L;break;case "(o)":l=J;m=qa;n={t:.2,r:.2,b:.2,l:.2};break;case "()":case "( )":l=J}l&&(m&&n?G(I,l(F[k],g,h,x,m,n)):G(I,l(F[k],g,h,x)))}})});I.push({StrokeColor:h,LineWidth:l,Actions:C(f)});return I}});
ka("UI Menus","Formatting Tool Bar",lucid.config.assets_base_url+"/app/webroot/img/lucidui/formatting_toolbar.png",lucid.config.assets_base_url+"/app/webroot/img/lucidui/formatting_toolbar_tn.png",341,20,function(b,c,a,d,e,f){a.x=f.x;a.y=f.y+(f.h-e)/2;a.w=d;a.h=e;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:f.x,y:f.y},{Action:"line",x:f.x+f.w,y:f.y},{Action:"line",x:f.x+f.w,y:f.y+f.h},{Action:"line",x:f.x,y:f.y+f.h},{Action:"close"}]},{FillColor:{url:c,
pos:a},Actions:lucid.math.Box.toRenderActions(a)}]});
ka("UI Widgets","Text Editor",lucid.config.assets_base_url+"/app/webroot/img/lucidui/formatting_toolbar2.png",lucid.config.assets_base_url+"/app/webroot/img/lucidui/formatting_toolbar2_tn.png",400,300,function(b,c,a,d,e,f){a.x=f.x;a.y=f.y+5;a.w=341;a.h=20;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:f.x,y:f.y},{Action:"line",x:f.x+f.w,y:f.y},{Action:"line",x:f.x+f.w,y:f.y+f.h},{Action:"line",x:f.x,y:f.y+f.h},{Action:"close"}]},{FillColor:{url:c,
pos:a},Actions:lucid.math.Box.toRenderActions(a)},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:f.x,y:f.y+30},{Action:"line",x:f.x+f.w,y:f.y+30}]}]});
lucid.plugin.createToolGroups({"UI Containers":"UI3BrowserBlock UI3WindowBlock UI3DialogBlock UI3AreaBlock UI3ElementBlock UI3AccordionBlock UI3TabBarContainerBlock UI3TabBar2ContainerBlock UI3VTabBarContainerBlock UI3VScrollBlock UI3HScrollBlock UI3VerticalSplitterBlock UI3HorizontalSplitterBlock UI3GridBlock".split(" "),"UI Widgets":"UI3ImageBlock UI3VideoBlock UI3AudioBlock UI3MapBlock UI3CalendarBlock UI3BarChartBlock UI3ColumnChartBlock UI3LineChartBlock UI3PieChartBlock UI3WebcamBlock UI3CaptchaBlock UI3Image_ui_formatting_toolbar2".split(" "),
"UI Input":"UI3ButtonBlock UI3CheckBoxBlock UI3HorizontalCheckBoxBlock UI3RadioBlock UI3HorizontalRadioBlock UI3ColorPickerBlock UI3TextInputBlock UI3SelectBlock UI3VSliderBlock UI3HSliderBlock UI3DatePickerBlock UI3SearchBlock UI3NumericStepperBlock UI3TableBlock".split(" "),"UI Menus":"UI3ButtonBarBlock UI3VerticalButtonBarBlock UI3LinkBarBlock UI3BreadCrumbsBlock UI3MenuBarBlock UI3AtoZBlock UI3PaginationBlock UI3ContextMenuBlock UI3TreePaneBlock UI3PlaybackControlsBlock UI3Image_ui_formatting_toolbar".split(" "),
"UI Callouts":[{className:"UI3CalloutRoundBlock",name:"Round Callout"},{className:"UI3CalloutRoundBlock",name:"sw",variant:"SW"},{className:"UI3CalloutRoundBlock",name:"ne",variant:"NE"},{className:"UI3CalloutRoundBlock",name:"nw",variant:"NW"},"UI3CalloutBlock","UI3CalloutSquareBlock",{className:"UI3CalloutRoundBlock",name:"Round Tooltip",variant:"Tooltip"}],"UI Misc":["UI3ProgressBarBlock","UI3HelpIconBlock",{className:"UI3BraceNoteBlock",name:"Curly Brace Note - Left"},{className:"UI3BraceNoteBlock",
variant:"Right",name:"Curly Brace Note - Right"},"UI3MenuBarBlock"]});
//# sourceMappingURL=/js/plugins/v2/source-maps/ui3.js.map

};
