pluginFn['/js/plugins/v2/shapes.js'] = function(lucid, window) {
	var l={common:{}};l.common.DocVersionedProps={};l.common.DocVersionedProps.getValueForDocVersion=function(b,a){var c=lucid.plugin.getProperty(null,"Version")||0;return(b=lucid.array.findRight(b,function(a){return a.docVersionInstated<=c}))&&b.value||a};l.common.TextAreaOverflowUtils={};l.common.TextAreaOverflowUtils.getOnOverflowCallback=function(b,a,c){return function(d,e,f,g,h){if("number"!==typeof g||"number"!==typeof h||(g+6)%3!=(h+6)%3)g=lucid.plugin.getProperty(null,"Version")||0,h=Math.abs(lucid.text.getTextAreaRotation(d,e)),e!=(c||"Text")||0!==f||5>g||0!==h||l.common.TextAreaOverflowUtils.resizeToFitText(d,e,f,b,a)}};
l.common.TextAreaOverflowUtils.resizeToFitText=function(b,a,c,d,e){var f=lucid.plugin.getProperty(b,"BoundingBox"),g=d(f,b);d=lucid.text.getTextAreaVAlignment(b,a);d="middle"==d?{x:.5,y:.5}:"bottom"==d?{x:.5,y:1}:{x:.5,y:0};a=lucid.text.getTextAreaSpaceSize(b,a,c);a=lucid.math.Box.resizeAboutRelativePoint(g,d,a);e=e(a,b);a=e.h>f.h;c=lucid.block.getDefaultSize(b).h;e=lucid.math.Box.resizeAboutRelativePoint(f,d,{w:f.w,h:a?Math.max(e.h,f.h):Math.max(e.h,Math.min(f.h,c))});lucid.plugin.setProperty(b,
"BoundingBox",e)};l.common.Callout={};
l.common.Callout.createBlock=function(b,a,c){function d(a){return{x:a.x+5,y:a.y+5,w:a.w-10,h:a.h-10}}function e(a,b,c,k){b||(b=lucid.plugin.getProperty(a,"Side"));c||(c=lucid.plugin.getProperty(a,"Position"));k||(k=lucid.plugin.getProperty(a,"BoundingBox"));switch(b){case 0:var f=k.w*c;var h=0;break;case 1:f=k.w;h=k.h*c;break;case 2:f=k.w*c;h=k.h;break;case 3:f=0,h=k.h*c}return{x:k.x+f,y:k.y+h}}lucid.plugin.initBlockClass({className:b,name:a,searchKeywords:i18n.get("plugin-callout-block-keywords"),defaultSize:{w:120,
h:40},minWidth:120,minHeight:40,onInit:function(a){lucid.plugin.addBlockTextArea(a,{id:"Tip",value:c,getBoundingBox:d});lucid.plugin.getProperty(a,"BoundingBox");lucid.plugin.registerProperty(a,"MinLayerPadding",25);lucid.plugin.registerProperty(a,"TailAngle",30);lucid.plugin.registerProperty(a,"TailRadius",25);lucid.plugin.registerProperty(a,"TailWidth",15);lucid.plugin.registerProperty(a,"Side",0);lucid.plugin.registerProperty(a,"Position",.6);lucid.plugin.registerProperty(a,"RoundCorners",5)},
onTextAreaOverflowChange:l.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(a){return{x:a.x-5,y:a.y-5,w:a.w+10,h:a.h+10}},"Tip"),getOffsetProperties:function(a,b,c){b=lucid.plugin.defaultOffsetProperties(a,b,c);b[a].MinLayerPadding=lucid.plugin.getProperty(a,"TailRadius");return b},spatialControls:function(a){function b(b,c,d,f,g){var k=Array.prototype.splice.call(arguments);k.unshift(a);return e.apply(null,k)}if(lucid.plugin.getProperty(a,"BoundingBox"))return[{logAction:"chart.viewport.selection.spatialControls.shapes.calloutTail",
location:function(){var a=b();return{x:a.x-5,y:a.y-5,w:10,h:10}},moved:function(b){var c=lucid.plugin.getProperty(a,"BoundingBox"),h=lucid.plugin.getProperty(a,"RoundCorners"),d=lucid.plugin.getProperty(a,"TailWidth"),e=Math.abs(d),f=lucid.plugin.getProperty(a,"Side");b.y<=c.y&&2*h<c.w?f=0:b.x>=c.x+c.w&&2*h<c.h?f=1:b.y>=c.y+c.h&&2*h<c.w?f=2:b.x<=c.x&&2*h<c.h&&(f=3);var g=.5,w=Math.abs(d);switch(f){case 0:case 2:e+2*h>c.w?(g=.5,w=(c.w-2*h)/2):g=Math.min(Math.max(b.x-c.x,h+e),c.w-h-e)/c.w;break;case 1:case 3:e+
2*h>c.h?(g=.5,w=(c.h-2*h)/2):g=Math.min(Math.max(b.y-c.y,h+e),c.h-h-e)/c.h}.45<g&&.55>g&&(g=.5);lucid.plugin.setPropertyIfChanged(a,"TailWidth",0>d?-w:w);lucid.plugin.setPropertyIfChanged(a,"Side",f);lucid.plugin.setPropertyIfChanged(a,"Position",g)},path:function(){var b=lucid.plugin.getProperty(a,"BoundingBox");return[{x:b.x,y:b.y},{x:b.x+b.w,y:b.y},{x:b.x+b.w,y:b.y+b.h},{x:b.x,y:b.y+b.h},{x:b.x,y:b.y}]}},{location:function(){lucid.plugin.getProperty(a,"BoundingBox");var c=lucid.plugin.getProperty(a,
"TailWidth"),k=lucid.plugin.getProperty(a,"Side"),d=b();switch(k){case 0:case 2:var e=d.x-c;var f=d.y;break;case 1:case 3:e=d.x,f=d.y-c}return{x:e-5,y:f-5,w:10,h:10}},moved:function(c){var k=lucid.plugin.getProperty(a,"BoundingBox"),d=lucid.plugin.getProperty(a,"Position"),e=lucid.plugin.getProperty(a,"Side"),f=lucid.plugin.getProperty(a,"RoundCorners"),h=b();switch(e){case 0:case 2:var g=h.x-c.x;c=(Math.abs(d-.5)-.5)*k.w+f;k=(.5-Math.abs(d-.5))*k.w-f;g=g<c?c:g>k?k:g;lucid.plugin.getProperty(a,"RoundCorners");
break;case 1:case 3:g=h.y-c.y,c=(Math.abs(d-.5)-.5)*k.h+f,k=(.5-Math.abs(d-.5))*k.h-f,g=g<c?c:g>k?k:g}lucid.plugin.setPropertyIfChanged(a,"TailWidth",g)},path:function(){var b=lucid.plugin.getProperty(a,"BoundingBox"),c=lucid.plugin.getProperty(a,"Side");return[{x:b.x,y:b.y},{x:b.x+b.w,y:b.y},{x:b.x+b.w,y:b.y+b.h},{x:b.x,y:b.y+b.h},{x:b.x,y:b.y}].splice(c,2)}},{location:function(){var b=lucid.plugin.getProperty(a,"Side");var c=lucid.plugin.getProperty(a,"Position"),d=lucid.plugin.getProperty(a,"BoundingBox"),
f=lucid.plugin.getProperty(a,"TailRadius"),g=lucid.plugin.getProperty(a,"TailAngle");switch(b){case 0:var r=d.w*c;var n=0-f;break;case 1:r=d.w+f;n=d.h*c;break;case 2:r=d.w*c;n=d.h+f;break;case 3:r=0-f,n=d.h*c}b=lucid.math.Point.rotate({x:d.x+r,y:d.y+n},e(a,b,c,d),Math.PI/180*g);return{x:b.x-5,y:b.y-5,w:10,h:10}},moved:function(c){var d=b();lucid.plugin.getProperty(a,"BoundingBox");var f=0;switch(lucid.plugin.getProperty(a,"Side")){case 0:f=-1*Math.atan2(d.x-c.x,d.y-c.y);break;case 1:f=Math.atan2(c.y-
d.y,c.x-d.x);break;case 2:f=-1*Math.atan2(c.x-d.x,c.y-d.y);break;case 3:f=Math.atan2(d.y-c.y,d.x-c.x)}f=180*f/Math.PI;90<f?f=90:-90>f?f=-90:-5<f&&5>f&&(f=0);c=lucid.math.Point.distance(c,d);lucid.plugin.setPropertyIfChanged(a,"MinLayerPadding",c);lucid.plugin.setPropertyIfChanged(a,"TailRadius",c);lucid.plugin.setPropertyIfChanged(a,"TailAngle",f)}},{location:function(){var b=lucid.plugin.getProperty(a,"BoundingBox"),c=lucid.plugin.getProperty(a,"Side"),d=lucid.plugin.getProperty(a,"Position"),f=
lucid.plugin.getProperty(a,"RoundCorners"),e=lucid.plugin.getProperty(a,"TailWidth");switch(c){case 0:case 2:f=Math.min(f,b.w/2,b.h/2,b.w*(.5-Math.abs(d-.5))-Math.abs(e));break;case 1:case 3:f=Math.min(f,b.w/2,b.h/2,b.h*(.5-Math.abs(d-.5))-Math.abs(e))}return{x:b.x+b.w-f-5,y:b.y-5,w:10,h:10}},moved:function(b){var c=lucid.plugin.getProperty(a,"BoundingBox");lucid.plugin.setProperty(a,"RoundCorners",c.x+c.w-b.x)},path:function(){var b=lucid.plugin.getProperty(a,"BoundingBox"),c=lucid.plugin.getProperty(a,
"Side"),d=lucid.plugin.getProperty(a,"Position"),f=lucid.plugin.getProperty(a,"TailWidth");switch(c){case 0:case 2:var e=Math.min(b.w*(.5-Math.abs(d-.5))-Math.abs(f),b.h/2);break;case 1:case 3:e=Math.min(b.h*(.5-Math.abs(d-.5))-Math.abs(f),b.w/2)}return[{x:b.x+b.w-e,y:b.y},{x:b.x+b.w,y:b.y}]}}]},getRenderData:function(a,b){function c(b,c,f,h,k){var m=e(a.id,a.Side,q,d);if(0>g){var n=f;f=k;k=n}h=lucid.math.Point.rotate(h,{x:m.x,y:m.y},Math.PI/180*r);f.Action="line";h.Action="line";k.Action="line";
w.splice(b,c,f,h,k)}var d=a.BoundingBox,f=a.TailRadius,g=a.TailWidth,q=a.Position,r=a.TailAngle,n=a.RoundCorners;"sample"==b?(n=3,f=6,g=3):"preview"==b&&(d.y+=4,d.h-=6,f=10,g=8);switch(a.Side){case 0:case 2:n=Math.min(n,d.w/2,d.h/2,d.w*(.5-Math.abs(q-.5)-Math.abs(g/d.w)));break;case 1:case 3:n=Math.min(n,d.w/2,d.h/2,d.h*(.5-Math.abs(q-.5)-Math.abs(g/d.h)))}var w=[{Action:"move",x:d.x,y:d.y+n},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(d.x,d.y,2*n,2*n,Math.PI,3*Math.PI/2)},{Action:"line",
x:d.x+d.w-n,y:d.y},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(d.x+d.w-2*n,d.y,2*n,2*n,-Math.PI/2,0)},{Action:"line",x:d.x+d.w,y:d.y+d.h-n},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(d.x+d.w-2*n,d.y+d.h-2*n,2*n,2*n,0,Math.PI/2)},{Action:"line",x:d.x+n,y:d.y+d.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(d.x,d.y+d.h-2*n,2*n,2*n,Math.PI/2,Math.PI)},{Action:"close"}];switch(a.Side){case 0:c(2,0,{x:d.x+d.w*q-g,y:d.y},{x:d.x+d.w*q,y:d.y-f},{x:d.x+d.w*q+g,
y:d.y});break;case 1:c(4,0,{x:d.x+d.w,y:d.y+d.h*q-g},{x:d.x+d.w+f,y:d.y+d.h*q},{x:d.x+d.w,y:d.y+d.h*q+g});break;case 2:c(6,0,{x:d.x+d.w*q+g,y:d.y+d.h},{x:d.x+d.w*q,y:d.y+d.h+f},{x:d.x+d.w*q-g,y:d.y+d.h});break;case 3:c(8,0,{x:d.x,y:d.y+d.h*q+g},{x:d.x-f,y:d.y+d.h*q},{x:d.x,y:d.y+d.h*q-g})}return[{NoRounding:!0,FillColor:a.FillColor,StrokeColor:a.LineColor,LineWidth:a.LineWidth,Actions:w}]}})};l.commonShapes={};function p(b,a){a=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(b,-a)}function t(b,a){a=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(b,a)}l.commonshapes={};
l.commonshapes.createDiamondBlockClass=function(b,a,c,d){lucid.plugin.initBlockClass({className:b,name:i18n.get("plugin-geometricshapes-shape-diamond"),searchKeywords:[],defaultSize:{w:a,h:c},onInit:function(a){lucid.plugin.addBlockTextArea(a,{id:"Text",value:d,getBoundingBox:l.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h}}},{docVersionInstated:2,value:function(b){return{x:b.x,y:b.y,w:b.w,h:b.h,fitShape:lucid.plugin.getProperty(a,
"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(b){return p(b,a)}}])});1<u()&&(lucid.plugin.registerProperty(a,"TextWrap","fit"),lucid.plugin.registerProperty(a,"InsetMargin",5))},onTextAreaOverflowChange:l.common.TextAreaOverflowUtils.getOnOverflowCallback(p,t),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderData:function(a){var b=a.BoundingBox,d=b.x+b.w/2,c=b.y+b.h/2;return[{FillColor:a.FillColor,StrokeColor:a.LineColor,LineWidth:a.LineWidth,
Actions:[{Action:"move",x:d,y:b.y},{Action:"line",x:b.x+b.w,y:c},{Action:"line",x:d,y:b.y+b.h},{Action:"line",x:b.x,y:c},{Action:"close"}]}]}})};
l.commonshapes.createCircleBlockClass=function(b,a){lucid.plugin.initBlockClass({className:b,name:i18n.get("plugin-geometricshapes-shape-circle"),searchKeywords:[],defaultSize:{w:160,h:160},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:a,getBoundingBox:l.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,
"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return p(a,b)}}])});1<u()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},onTextAreaOverflowChange:l.common.TextAreaOverflowUtils.getOnOverflowCallback(p,t),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderData:function(a){var b=a.BoundingBox;return[{FillColor:a.FillColor,StrokeColor:a.LineColor,LineWidth:a.LineWidth,Actions:[{Action:"move",
x:b.x+b.w,y:b.y+b.h/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(b.x,b.y,b.w,b.h,0,2*Math.PI)},{Action:"close"}]}]}})};l.shapes={};function u(){return lucid.plugin.getProperty(null,"Version")||0}function x(b,a,c){return 1<u()?c(b):a(b)}p=function(b,a){a=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(b,-a)};t=function(b,a){a=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(b,a)};
lucid.plugin.initBlockClass({className:"RectangleBlock",name:i18n.get("plugin-geometricshapes-shape-rectangle"),searchKeywords:[],defaultSize:{w:160,h:120},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(a){return p(a,b)}});lucid.plugin.registerProperty(b,"TextWrap","fit");lucid.plugin.registerProperty(b,"InsetMargin",5)},onTextAreaOverflowChange:l.common.TextAreaOverflowUtils.getOnOverflowCallback(p,t),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,
y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderData:function(b){var a=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x,y:a.y},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"IsoscelesTriangleBlock",name:i18n.get("plugin-geometricshapes-shape-isoscelestriangle"),searchKeywords:[],defaultSize:{w:160,h:120},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:l.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.2*a.w,y:a.y+.4*a.h,w:.6*a.w,h:.6*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,
"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return p(a,b)}}])});1<u()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},onTextAreaOverflowChange:l.common.TextAreaOverflowUtils.getOnOverflowCallback(p,t),getLinkPoints:function(){return[{x:.5,y:0},{x:.25,y:.5},{x:.5,y:1},{x:.75,y:.5}]},getRenderData:function(b){var a=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",
x:a.x,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w/2,y:a.y},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"RightTriangleBlock",name:i18n.get("plugin-geometricshapes-shape-righttriangle"),searchKeywords:[],defaultSize:{w:160,h:120},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:l.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x,y:a.y+.4*a.h,w:.6*a.w,h:.6*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin")||
0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return p(a,b)}}])});1<u()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},onTextAreaOverflowChange:l.common.TextAreaOverflowUtils.getOnOverflowCallback(p,t),getLinkPoints:function(){return[{x:.501,y:.499},{x:.5,y:1},{x:0,y:.5}]},getRenderData:function(b){var a=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},
{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"PentagonBlock",name:i18n.get("plugin-geometricshapes-shape-pentagon"),searchKeywords:i18n.get("plugin-geometricshapes-shape-pentagon-keywords"),defaultSize:{w:160,h:152},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:l.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.1*a.w,y:a.y+.2*a.h,w:.8*a.w,h:.8*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,
h:a.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return p(a,b)}}])});1<u()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},onTextAreaOverflowChange:l.common.TextAreaOverflowUtils.getOnOverflowCallback(p,t),getLinkPoints:function(){return[{x:0,y:.382},{x:.25,y:.191},{x:.5,y:0},{x:.75,y:.191},{x:1,y:.382},{x:.9045,y:.691},{x:.809,y:1},{x:.5,y:1},{x:.191,y:1},{x:.0955,y:.691}]},
getRenderData:function(b){var a=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y+.382*a.h},{Action:"line",x:a.x+a.w/2,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+.382*a.h},{Action:"line",x:a.x+.809*a.w,y:a.y+a.h},{Action:"line",x:a.x+.191*a.w,y:a.y+a.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"HexagonBlock",name:i18n.get("plugin-geometricshapes-shape-hexagon"),searchKeywords:i18n.get("plugin-geometricshapes-shape-hexagon-keywords"),defaultSize:{w:160,h:138},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:l.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.1*a.w,y:a.y,w:.8*a.w,h:a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,
"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return p(a,b)}}])});1<u()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},onTextAreaOverflowChange:l.common.TextAreaOverflowUtils.getOnOverflowCallback(p,t),getLinkPoints:function(){return[{x:0,y:.5},{x:.125,y:.25},{x:.25,y:0},{x:.5,y:0},{x:.75,y:0},{x:.875,y:.25},{x:1,y:.5},{x:.875,y:.75},{x:.75,y:1},{x:.5,y:1},{x:.25,y:1},{x:.125,y:.75}]},getRenderData:function(b){var a=
b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y+a.h/2},{Action:"line",x:a.x+.25*a.w,y:a.y},{Action:"line",x:a.x+.75*a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h/2},{Action:"line",x:a.x+.75*a.w,y:a.y+a.h},{Action:"line",x:a.x+.25*a.w,y:a.y+a.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"OctagonBlock",name:i18n.get("plugin-geometricshapes-shape-octagon"),searchKeywords:i18n.get("plugin-geometricshapes-shape-octagon-keywords"),defaultSize:{w:160,h:160},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:l.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.145*a.w,y:a.y+.145*a.h,w:.71*a.w,h:.71*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,
w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return p(a,b)}}])});1<u()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},onTextAreaOverflowChange:l.common.TextAreaOverflowUtils.getOnOverflowCallback(p,t),getLinkPoints:function(){return[{x:.145,y:.145},{x:.5,y:0},{x:.855,y:.145},{x:1,y:.5},{x:.855,y:.855},{x:.5,y:1},{x:.145,y:.855},{x:0,y:.5}]},getRenderData:function(b){var a=
b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y+.29*a.h},{Action:"line",x:a.x+.29*a.w,y:a.y},{Action:"line",x:a.x+.71*a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+.29*a.h},{Action:"line",x:a.x+a.w,y:a.y+.71*a.h},{Action:"line",x:a.x+.71*a.w,y:a.y+a.h},{Action:"line",x:a.x+.29*a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+.71*a.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"CrossBlock",name:i18n.get("plugin-geometricshapes-shape-cross"),searchKeywords:i18n.get("plugin-geometricshapes-shape-cross-keywords"),defaultSize:{w:160,h:160},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:l.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.1*a.w,y:a.y+.25*a.h,w:.8*a.w,h:.5*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,
fitShape:lucid.plugin.getProperty(b,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return p(a,b)}}])});1<u()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5));lucid.plugin.registerProperty(b,"Indent",{x:.25,y:.25})},onTextAreaOverflowChange:l.common.TextAreaOverflowUtils.getOnOverflowCallback(p,t),getLinkPoints:function(){return[{x:0,y:.5},{x:.5,y:0},{x:1,y:.5},{x:.5,y:1}]},getRenderData:function(b){var a=b.BoundingBox,
c=b.Indent;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y+a.h*c.y},{Action:"line",x:a.x+a.w*c.x,y:a.y+a.h*c.y},{Action:"line",x:a.x+a.w*c.x,y:a.y},{Action:"line",x:a.x+a.w-a.w*c.x,y:a.y},{Action:"line",x:a.x+a.w-a.w*c.x,y:a.y+a.h*c.y},{Action:"line",x:a.x+a.w,y:a.y+a.h*c.y},{Action:"line",x:a.x+a.w,y:a.y+a.h-a.h*c.y},{Action:"line",x:a.x+a.w-a.w*c.x,y:a.y+a.h-a.h*c.y},{Action:"line",x:a.x+a.w-a.w*c.x,y:a.y+a.h},{Action:"line",x:a.x+
a.w*c.x,y:a.y+a.h},{Action:"line",x:a.x+a.w*c.x,y:a.y+a.h-a.h*c.y},{Action:"line",x:a.x,y:a.y+a.h-a.h*c.y},{Action:"close"}]}]},spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.shapes.crossIndent",location:function(){var a=lucid.plugin.getProperty(b,"BoundingBox"),c=lucid.plugin.getProperty(b,"Indent");return{x:a.x+a.w*c.x-5,y:a.y+a.h*c.y-5,w:10,h:10}},moved:function(a){var c=lucid.plugin.getProperty(b,"BoundingBox");lucid.plugin.setProperty(b,"Indent",{x:(a.x-
c.x)/c.w,y:(a.y-c.y)/c.h})},area:function(){var a=lucid.plugin.getProperty(b,"BoundingBox");return{x:a.x,y:a.y,w:a.w/2-5,h:a.h/2-5}},snap:2}]}});
lucid.plugin.initBlockClass({className:"RightArrowBlock",name:"Arrow",searchKeywords:["shape","arrow"],defaultSize:{w:160,h:80},variants:{RightArrow:{tooltip:i18n.get("plugin-geometricshapes-shape-arrow-right"),searchKeywords:i18n.get("plugin-geometricshapes-shape-arrow-right-keywords")},DownArrow:{tooltip:i18n.get("plugin-geometricshapes-shape-arrow-down"),searchKeywords:i18n.get("plugin-geometricshapes-shape-arrow-down-keywords"),defaultProperties:function(){return{Rotation:Math.PI/2,TextRotation:-Math.PI/
2}}},LeftArrow:{tooltip:i18n.get("plugin-geometricshapes-shape-arrow-left"),searchKeywords:i18n.get("plugin-geometricshapes-shape-arrow-left-keywords"),defaultProperties:function(){return{Rotation:Math.PI,TextRotation:-Math.PI}}},UpArrow:{tooltip:i18n.get("plugin-geometricshapes-shape-arrow-up"),searchKeywords:i18n.get("plugin-geometricshapes-shape-arrow-up-keywords"),defaultProperties:function(){return{Rotation:3*Math.PI/2,TextRotation:3*-Math.PI/2}}}},onInit:function(b){lucid.plugin.addBlockTextArea(b,
{id:"Text",value:"",getBoundingBox:l.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){var c=lucid.plugin.getProperty(b,"Notch"),d=lucid.plugin.getProperty(b,"Head")*a.h;return{x:a.x,y:a.y+c,w:a.w-.5*d,h:a.h-2*c}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return p(a,b)}}])});1<u()&&(lucid.plugin.registerProperty(b,"TextWrap",
"fit"),lucid.plugin.registerProperty(b,"InsetMargin",5));lucid.plugin.registerProperty(b,"Notch",.25);lucid.plugin.registerProperty(b,"Head",.5);lucid.plugin.registerProperty(b,"TextRotation",0,null,function(a,c){lucid.plugin.updateBlockTextArea(b,"Text",{rotation:c})})},onTextAreaOverflowChange:l.common.TextAreaOverflowUtils.getOnOverflowCallback(p,t),getLinkPoints:function(){return[]},getAnchorPoints:function(){return[{x:0,y:.5},{x:1,y:.5}]},getRenderData:function(b){var a=b.BoundingBox,c=b.Notch*
a.h,d=b.Head*a.h;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y+c},{Action:"line",x:a.x+a.w-d,y:a.y+c},{Action:"line",x:a.x+a.w-d,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h/2},{Action:"line",x:a.x+a.w-d,y:a.y+a.h},{Action:"line",x:a.x+a.w-d,y:a.y+a.h-c},{Action:"line",x:a.x,y:a.y+a.h-c},{Action:"close"}]}]},spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.shapes.arrowHead",location:function(){var a=
lucid.plugin.getProperty(b,"BoundingBox"),c=lucid.plugin.getProperty(b,"Head")*a.h,d=lucid.plugin.getProperty(b,"Notch")*a.h;return{x:a.x+a.w-c-5,y:a.y+d-5,w:10,h:10}},moved:function(a){var c=lucid.plugin.getProperty(b,"BoundingBox");lucid.plugin.setProperty(b,"Head",(c.x+c.w-a.x)/c.h);lucid.plugin.setProperty(b,"Notch",(a.y-c.y)/c.h)},area:function(){var a=lucid.plugin.getProperty(b,"BoundingBox");return{x:a.x+10,y:a.y,w:a.w-10,h:a.h/2-5}},snap:4}]}});
lucid.plugin.initBlockClass({className:"DoubleArrowBlock",name:"Double Arrow",searchKeywords:["shape","arrow"],defaultSize:{w:160,h:80},variants:{EWArrow:{tooltip:i18n.get("plugin-geometricshapes-shape-doublearrow-ew"),searchKeywords:i18n.get("plugin-geometricshapes-shape-doublearrow-ew-keywords")},NSArrow:{tooltip:i18n.get("plugin-geometricshapes-shape-doublearrow-ns"),searchKeywords:i18n.get("plugin-geometricshapes-shape-doublearrow-ns-keywords"),defaultProperties:function(){return{Rotation:Math.PI/
2,TextRotation:-Math.PI/2}}}},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:l.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){var c=lucid.plugin.getProperty(b,"Notch")*a.h,d=lucid.plugin.getProperty(b,"Head")*a.h;return{x:a.x,y:a.y+c,w:a.w-.5*d,h:a.h-2*c}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,
value:function(a){return p(a,b)}}])});1<u()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5));lucid.plugin.registerProperty(b,"Notch",.25);lucid.plugin.registerProperty(b,"Head",.5);lucid.plugin.registerProperty(b,"TextRotation",0,null,function(a,c){lucid.plugin.updateBlockTextArea(b,"Text",{rotation:c})})},onTextAreaOverflowChange:l.common.TextAreaOverflowUtils.getOnOverflowCallback(p,t),getLinkPoints:function(){return[]},getAnchorPoints:function(){return[{x:0,
y:.5},{x:1,y:.5}]},getRenderData:function(b){var a=b.BoundingBox,c=b.Notch*a.h,d=b.Head*a.h;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y+a.h/2},{Action:"line",x:a.x+d,y:a.y},{Action:"line",x:a.x+d,y:a.y+c},{Action:"line",x:a.x+a.w-d,y:a.y+c},{Action:"line",x:a.x+a.w-d,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h/2},{Action:"line",x:a.x+a.w-d,y:a.y+a.h},{Action:"line",x:a.x+a.w-d,y:a.y+a.h-c},{Action:"line",x:a.x+d,y:a.y+a.h-c},{Action:"line",
x:a.x+d,y:a.y+a.h},{Action:"close"}]}]},spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.shapes.arrowHead",location:function(){var a=lucid.plugin.getProperty(b,"BoundingBox"),c=lucid.plugin.getProperty(b,"Head")*a.h,d=lucid.plugin.getProperty(b,"Notch")*a.h;return{x:a.x+a.w-c-5,y:a.y+d-5,w:10,h:10}},moved:function(a){var c=lucid.plugin.getProperty(b,"BoundingBox");lucid.plugin.setProperty(b,"Head",(c.x+c.w-a.x)/c.h);lucid.plugin.setProperty(b,"Notch",(a.y-c.y)/
c.h)},area:function(){var a=lucid.plugin.getProperty(b,"BoundingBox");return{x:a.x+a.w/2+10,y:a.y,w:a.w/2-15,h:a.h/2-5}},snap:4}]}});
lucid.plugin.initBlockClass({className:"CloudBlock",name:i18n.get("plugin-geometricshapes-shape-cloud"),searchKeywords:[],defaultSize:{w:160,h:120},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:l.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.2*a.w,y:a.y+.1*a.h,w:.6*a.w,h:.8*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin")||
0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return p(a,b)}}])});1<u()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},onTextAreaOverflowChange:l.common.TextAreaOverflowUtils.getOnOverflowCallback(p,t),getLinkPoints:function(){return[{x:0,y:.5},{x:.24,y:.07},{x:.6,y:.01},{x:.97,y:.3},{x:.955,y:.85},{x:.6,y:1},{x:.25,y:.925}]},getRenderData:function(b){var a=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,
Actions:[{Action:"move",x:a.x+.15*a.w,y:a.y+.7*a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y+.3*a.h,.3*a.w,.4*a.h,.5*Math.PI,1.4*Math.PI)},{Action:"curve",Control:[{x1:a.x+.1*a.w,y1:a.y+.05*a.h,x2:a.x+.35*a.w,y2:a.y+0*a.h,x3:a.x+.45*a.w,y3:a.y+.1*a.h},{x1:a.x+.5*a.w,y1:a.y+-.05*a.h,x2:a.x+.75*a.w,y2:a.y+0*a.h,x3:a.x+.75*a.w,y3:a.y+.15*a.h},{x1:a.x+.9*a.w,y1:a.y+.1*a.h,x2:a.x+1.05*a.w,y2:a.y+.3*a.h,x3:a.x+.95*a.w,y3:a.y+.55*a.h},{x1:a.x+1.05*a.w,y1:a.y+.75*a.h,x2:a.x+.95*
a.w,y2:a.y+1*a.h,x3:a.x+.75*a.w,y3:a.y+.9*a.h},{x1:a.x+.7*a.w,y1:a.y+1.03*a.h,x2:a.x+.5*a.w,y2:a.y+1.03*a.h,x3:a.x+.45*a.w,y3:a.y+.9*a.h},{x1:a.x+.35*a.w,y1:a.y+1*a.h,x2:a.x+.15*a.w,y2:a.y+.95*a.h,x3:a.x+.15*a.w,y3:a.y+.7*a.h}]},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"HeartBlock",name:i18n.get("plugin-geometricshapes-shape-heart"),searchKeywords:[],defaultSize:{w:160,h:160},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:l.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.1*a.w,y:a.y+.15*a.h,w:.8*a.w,h:.55*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin")||
0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return p(a,b)}}])});1<u()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},onTextAreaOverflowChange:l.common.TextAreaOverflowUtils.getOnOverflowCallback(p,t),getLinkPoints:function(){return[{x:.5,y:.2},{x:1,y:.28},{x:.5,y:1},{x:0,y:.28}]},getRenderData:function(b){var a=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+
.5*a.w,y:a.y+.2*a.h},{Action:"curve",Control:[{x1:a.x+.52*a.w,y1:a.y+.1*a.h,x2:a.x+.63*a.w,y2:a.y+0*a.h,x3:a.x+.75*a.w,y3:a.y+0*a.h},{x1:a.x+.9*a.w,y1:a.y+0*a.h,x2:a.x+1*a.w,y2:a.y+.1*a.h,x3:a.x+1*a.w,y3:a.y+.28*a.h},{x1:a.x+1*a.w,y1:a.y+.55*a.h,x2:a.x+.65*a.w,y2:a.y+.67*a.h,x3:a.x+.5*a.w,y3:a.y+1*a.h},{x1:a.x+.35*a.w,y1:a.y+.67*a.h,x2:a.x+0*a.w,y2:a.y+.55*a.h,x3:a.x+0*a.w,y3:a.y+.28*a.h},{x1:a.x+0*a.w,y1:a.y+.1*a.h,x2:a.x+.1*a.w,y2:a.y+0*a.h,x3:a.x+.25*a.w,y3:a.y+0*a.h},{x1:a.x+.37*a.w,y1:a.y+0*
a.h,x2:a.x+.48*a.w,y2:a.y+.1*a.h,x3:a.x+.5*a.w,y3:a.y+.2*a.h}]},{Action:"close"}]}]}});l.commonshapes.createCircleBlockClass("ShapeCircleBlock","");
lucid.plugin.initBlockClass({className:"ShapePolyStarBlock",name:i18n.get("plugin-geometricshapes-shape-polystar"),searchKeywords:[],defaultSize:{w:160,h:160},onInit:function(b){lucid.plugin.setPropertyIfChanged(b,"InsetMargin",5);lucid.plugin.registerProperty(b,"NumberPoints",5);lucid.plugin.registerProperty(b,"InnerRadius",.4);lucid.plugin.registerProperty(b,"TextWrap",1);lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:l.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,
value:function(a){var c=lucid.plugin.getProperty(b,"ShapePolyStarBlock");return{x:a.x+a.w/2*(1-c),y:a.y+a.h/2*(1-c),w:a.w*c,h:a.h*c}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return p(a,b)}}])});1<u()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},onTextAreaOverflowChange:l.common.TextAreaOverflowUtils.getOnOverflowCallback(p,
t),spatialControls:function(b){function a(a,b,c,g){var d=c.x+c.w/2,e=c.y+c.h/2;a=1.5*Math.PI+a*Math.PI*2/b;var f=c.w/2;c=c.h/2;null!=g&&(a+=1*Math.PI/b,f*=g,c*=g);return{x:d+Math.cos(a)*f,y:e+Math.sin(a)*c}}function c(a){for(;0>a;)a+=2*Math.PI;for(;a>2*Math.PI;)a-=2*Math.PI;return Math.min(Math.max(Math.round(1/(a/(2*Math.PI))),3),25)}return[{location:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),e=lucid.plugin.getProperty(b,"NumberPoints");c=a(1,e,c);return{x:c.x-5,y:c.y-5,w:10,h:10}},
moved:function(a){lucid.plugin.getProperty(b,"NumberPoints");var d=lucid.plugin.getProperty(b,"BoundingBox");d=lucid.math.Box.center(d);lucid.plugin.setProperty(b,"NumberPoints",c(Math.atan2(a.y-d.y,a.x-d.x)-1.5*Math.PI))},path:function(){for(var c=lucid.plugin.getProperty(b,"BoundingBox"),e=lucid.plugin.getProperty(b,"NumberPoints"),f=[],g=0;g<e;g++)f.push(a(g,e,c));return f}},{location:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),e=lucid.plugin.getProperty(b,"NumberPoints"),f=lucid.plugin.getProperty(b,
"InnerRadius");c=a(0,e,c,f);return{x:c.x-5,y:c.y-5,w:10,h:10}},moved:function(c){var d=lucid.plugin.getProperty(b,"NumberPoints"),f=lucid.plugin.getProperty(b,"BoundingBox");d=a(0,d,f,1);f=lucid.math.Box.center(f);d=lucid.math.Point.distance(f,d);c=lucid.math.Point.distance(f,c);lucid.plugin.setProperty(b,"InnerRadius",c/d)},path:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),e=lucid.plugin.getProperty(b,"NumberPoints");return[lucid.math.Box.center(c),a(0,e,c,1)]}}]},getRenderData:function(b){var a=
b.BoundingBox,c=b.NumberPoints,d=b.InnerRadius,e=[],f=a.x+a.w/2,g=a.y+a.h/2,h=Math.PI/c,k=1.5*Math.PI,m=a.w/2,v=a.h/2,q=m*d;d*=v;e.push({Action:"move",x:f,y:a.y});for(var r=0;r<2*c-1;r++){k-=h;if(0==r%2){a=q;var n=d}else a=m,n=v;e.push({Action:"line",x:f+Math.cos(k)*a,y:g+Math.sin(k)*n})}e.push({Action:"close"});return[{FillColor:b.FillColor,StrokeLocation:b.StrokeLocation,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:e}]}});
l.commonshapes.createDiamondBlockClass("ShapeDiamondBlock",160,160,"");l.common.Callout.createBlock("CalloutSquareBlock",i18n.get("plugin-geometricshapes-shape-callout"),"");var y="RectangleBlock IsoscelesTriangleBlock RightTriangleBlock PentagonBlock HexagonBlock OctagonBlock CrossBlock CloudBlock HeartBlock ShapeCircleBlock ShapePolyStarBlock ShapeDiamondBlock".split(" ");lucid.plugin.createNextBlockGroup(y);lucid.plugin.createExchangeGroup(y);
lucid.plugin.createToolGroups({Shapes:{displayName:i18n.get("plugin-geometricshapes-group-shapes"),items:["RectangleBlock","IsoscelesTriangleBlock","RightTriangleBlock","PentagonBlock","HexagonBlock","OctagonBlock","CrossBlock","CloudBlock","HeartBlock",{className:"RightArrowBlock",variant:"RightArrow"},{className:"RightArrowBlock",variant:"DownArrow"},{className:"RightArrowBlock",variant:"LeftArrow"},{className:"RightArrowBlock",variant:"UpArrow"},{className:"DoubleArrowBlock",variant:"EWArrow"},
{className:"DoubleArrowBlock",variant:"NSArrow"},"CalloutSquareBlock","ShapeCircleBlock","ShapePolyStarBlock","ShapeDiamondBlock"]}});
lucid.plugin.onActivate(function(){lucid.plugin.allowShadowSharing("RectangleBlock",!0);lucid.plugin.allowShadowSharing("IsoscelesTriangleBlock",!0);lucid.plugin.allowShadowSharing("RightTriangleBlock",!0);lucid.plugin.allowShadowSharing("PentagonBlock",!0);lucid.plugin.allowShadowSharing("HexagonBlock",!0);lucid.plugin.allowShadowSharing("OctagonBlock",!0);lucid.plugin.allowShadowSharing("CloudBlock",!0);lucid.plugin.allowShadowSharing("HeartBlock",!0)});
lucid.plugin.initBlockClass({className:"StarBlock",name:"Star",searchKeywords:["shape","star","polygon"],defaultSize:{w:160,h:152},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:l.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.1*a.w,y:a.y+.2*a.h,w:.8*a.w,h:.8*a.h}}},{docVersionInstated:5,value:function(a){return p(a,b)}}])})},onTextAreaOverflowChange:l.common.TextAreaOverflowUtils.getOnOverflowCallback(p,
t),getLinkPoints:function(){return[{x:0,y:.382},{x:.5,y:0},{x:1,y:.382},{x:.809,y:1},{x:.191,y:1}]},getRenderData:function(b){var a=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y+.382*a.h},{Action:"line",x:a.x+.3819*a.w,y:a.y+.382*a.h},{Action:"line",x:a.x+.5*a.w,y:a.y},{Action:"line",x:a.x+.618*a.w,y:a.y+.382*a.h},{Action:"line",x:a.x+a.w,y:a.y+.382*a.h},{Action:"line",x:a.x+.691*a.w,y:a.y+.6181*a.h},{Action:"line",x:a.x+
.809*a.w,y:a.y+a.h},{Action:"line",x:a.x+.5*a.w,y:a.y+.764*a.h},{Action:"line",x:a.x+.191*a.w,y:a.y+a.h},{Action:"line",x:a.x+.309*a.w,y:a.y+.618*a.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"LeftArrowBlock",name:"LeftArrow",defaultSize:{w:160,h:80},noSearch:!0,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(a){var b=.25*a.h,d=.5*(a.h>a.w?a.w:a.h);return{x:a.x+.5*d,y:a.y+b,w:a.w-.5*d,h:a.h-2*b}}})},getLinkPoints:function(){return[]},getAnchorPoints:function(){return[{x:1,y:.5},{x:0,y:.5}]},getRenderData:function(b){var a=b.BoundingBox,c=.25*a.h,d=.5*(a.h>a.w?a.w:a.h);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,
LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y+a.h/2},{Action:"line",x:a.x+d,y:a.y},{Action:"line",x:a.x+d,y:a.y+c},{Action:"line",x:a.x+a.w,y:a.y+c},{Action:"line",x:a.x+a.w,y:a.y+a.h-c},{Action:"line",x:a.x+d,y:a.y+a.h-c},{Action:"line",x:a.x+d,y:a.y+a.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UpArrowBlock",name:"Up Arrow",defaultSize:{w:80,h:160},noSearch:!0,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(a){var b=.25*a.w,d=.5*(a.h>a.w?a.w:a.h);return{x:a.x+b,y:a.y+.5*d,w:a.w-2*b,h:a.h-.5*d}}})},getLinkPoints:function(){return[]},getAnchorPoints:function(){return[{x:.5,y:1},{x:.5,y:0}]},getRenderData:function(b){var a=b.BoundingBox,c=.25*a.w,d=.5*(a.h>a.w?a.w:a.h);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,
LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+a.w/2,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+d},{Action:"line",x:a.x+a.w-c,y:a.y+d},{Action:"line",x:a.x+a.w-c,y:a.y+a.h},{Action:"line",x:a.x+c,y:a.y+a.h},{Action:"line",x:a.x+c,y:a.y+d},{Action:"line",x:a.x,y:a.y+d},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"DownArrowBlock",name:"DownArrow",defaultSize:{w:80,h:160},noSearch:!0,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(a){var b=.25*a.w;return{x:a.x+b,y:a.y,w:a.w-2*b,h:a.h-.25*(a.h>a.w?a.w:a.h)}}})},getLinkPoints:function(){return[]},getAnchorPoints:function(){return[{x:.5,y:0},{x:.5,y:1}]},getRenderData:function(b){var a=b.BoundingBox,c=.25*a.w,d=.5*(a.h>a.w?a.w:a.h);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,
LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+c,y:a.y},{Action:"line",x:a.x+a.w-c,y:a.y},{Action:"line",x:a.x+a.w-c,y:a.y+a.h-d},{Action:"line",x:a.x+a.w,y:a.y+a.h-d},{Action:"line",x:a.x+a.w/2,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h-d},{Action:"line",x:a.x+c,y:a.y+a.h-d},{Action:"close"}]}]}});
(function(){function b(a){return.3*1.5*Math.min(a.h,a.w)}function a(a,d,e,f,g,h){d||(d=lucid.plugin.getProperty(a,"Side"));e||(e=lucid.plugin.getProperty(a,"Position")/100);f||(f=lucid.plugin.getProperty(a,"BoundingBox"));g||b(f);h||(h=.2*f.w);a=h/2;switch(d){case 0:var c=(f.w-h)*e+a;var m=0;break;case 1:c=f.w;m=(f.h-h)*e+a;break;case 2:c=(f.w-h)*e+a;m=f.h;break;case 3:c=0,m=(f.h-h)*e+a}return{x:f.x+c,y:f.y+m}}lucid.plugin.initBlockClass({className:"CalloutBlock",name:"Callout",searchKeywords:"shape tooltip infotip callout call out tip".split(" "),
defaultSize:{w:240,h:80},minWidth:120,minHeight:40,noSearch:!0,onInit:function(a){lucid.plugin.addBlockTextArea(a,{id:"Tip",value:"Callout",getBoundingBox:function(b){return x(b,function(a){return{x:a.x+.1*a.w,y:a.y+.1*a.h,w:.8*a.w,h:.8*a.h}},function(b){return{x:b.x,y:b.y,w:b.w,h:b.h,fitShape:lucid.plugin.getProperty(a,"InsetMargin")||0,hideOverflow:!0}})}});1<u()&&(lucid.plugin.registerProperty(a,"TextWrap","fit"),lucid.plugin.registerProperty(a,"InsetMargin",5));var c=lucid.plugin.getProperty(a,
"BoundingBox");lucid.plugin.registerProperty(a,"MinLayerPadding",b(c));lucid.plugin.registerProperty(a,"TailAngle",-40);lucid.plugin.registerProperty(a,"Side",0);lucid.plugin.registerProperty(a,"Position",25)},getOffsetProperties:function(a,d,e){d=lucid.plugin.defaultOffsetProperties(a,d,e);e=b(d[a].BoundingBox);d[a].MinLayerPadding=e;return d},spatialControls:function(c){function d(b,d,g,h,k){var e=Array.prototype.splice.call(arguments);e.unshift(c);return a.apply(null,e)}if(lucid.plugin.getProperty(c,
"BoundingBox"))return[{logAction:"chart.viewport.selection.spatialControls.shapes.calloutTail",location:function(){var a=d();return{x:a.x-5,y:a.y-5,w:10,h:10}},moved:function(a){var b=lucid.plugin.getProperty(c,"BoundingBox"),d=.2*b.w,e=d/2,k=0;a.x>=b.x+b.w?k=1:a.y>=b.y+b.h?k=2:a.x<=b.x&&(k=3);var m=0;switch(k){case 0:case 2:m=(a.x-b.x-e)/(b.w-d);break;case 1:case 3:m=(a.y-b.y-e)/(b.h-d)}m=Math.round(100*Math.min(1,Math.max(0,m)));45<m&&55>m&&(m=50);lucid.plugin.setPropertyIfChanged(c,"Side",k);lucid.plugin.setPropertyIfChanged(c,
"Position",m)},path:function(){var a=lucid.plugin.getProperty(c,"BoundingBox");return[{x:a.x,y:a.y},{x:a.x+a.w,y:a.y},{x:a.x+a.w,y:a.y+a.h},{x:a.x,y:a.y+a.h},{x:a.x,y:a.y}]}},{location:function(){var d=lucid.plugin.getProperty(c,"Side");var f=lucid.plugin.getProperty(c,"Position")/100,g=lucid.plugin.getProperty(c,"BoundingBox"),h=b(g),k=.2*g.w,m=lucid.plugin.getProperty(c,"TailAngle"),v=k/2;switch(d){case 0:var q=(g.w-k)*f+v;var r=0-h;break;case 1:q=g.w+h;r=(g.h-k)*f+v;break;case 2:q=(g.w-k)*f+v;
r=g.h+h;break;case 3:q=0-h,r=(g.h-k)*f+v}d=lucid.math.Point.rotate({x:g.x+q,y:g.y+r},a(c,d,f,g,h,k),Math.PI/180*m);return{x:d.x-5,y:d.y-5,w:10,h:10}},moved:function(a){var b=d();lucid.plugin.getProperty(c,"BoundingBox");var e=0;switch(lucid.plugin.getProperty(c,"Side")){case 0:e=-1*Math.atan2(b.x-a.x,b.y-a.y);break;case 1:e=Math.atan2(a.y-b.y,a.x-b.x);break;case 2:e=-1*Math.atan2(a.x-b.x,a.y-b.y);break;case 3:e=Math.atan2(b.y-a.y,b.x-a.x)}e=Math.round(180*e/Math.PI);80<e?e=80:-80>e?e=-80:-5<e&&5>
e&&(e=0);lucid.plugin.setPropertyIfChanged(c,"TailAngle",e)}}]},getRenderData:function(c){function d(b,d,f,k,r){var n=a(c.id,c.Side,m,e,g,h);q.splice(b,d,f,lucid.math.Point.rotate(k,{x:n.x-e.x,y:n.y-e.y},Math.PI/180*v),r)}var e=c.BoundingBox,f=c.LineWidth,g=b(e),h=.2*e.w,k=h/2,m=c.Position/100,v=c.TailAngle||0,q=[{x:0,y:0},{x:e.w,y:0},{x:e.w,y:e.h},{x:0,y:e.h}];switch(c.Side){case 0:d(1,0,{x:(e.w-h)*m,y:0},{x:(e.w-h)*m+k,y:-g},{x:(e.w-h)*m+h,y:0});break;case 1:d(2,0,{x:e.w,y:(e.h-h)*m},{x:e.w+g,y:(e.h-
h)*m+k},{x:e.w,y:(e.h-h)*m+h});break;case 2:d(3,0,{x:(e.w-h)*m+h,y:e.h},{x:(e.w-h)*m+k,y:e.h+g},{x:(e.w-h)*m,y:e.h});break;case 3:d(4,0,{x:0,y:(e.h-h)*m+h},{x:-g,y:(e.h-h)*m+k},{x:0,y:(e.h-h)*m})}var r=[];lucid.array.forEach(q,function(a,b){r.push({Action:0==b?"move":"line",x:e.x+a.x,y:e.y+a.y})});r.push({Action:"close"});return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:f,Actions:r}]}})})();
lucid.plugin.initBlockClass({className:"DogEarNoteBlock",name:"Dog Ear Note",searchKeywords:[],defaultSize:{w:140,h:140},noSearch:!0,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(a){var b=.2*(a.h>a.w?a.w:a.h);return{x:a.x+.5*b,y:a.y,w:a.w-b,h:a.h-.5*b}}})},getLinkPoints:function(){return[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1},{x:0,y:.5}]},getRenderData:function(b){var a=b.BoundingBox,c=.2*(a.h>a.w?a.w:a.h),d=lucid.color.darken(b.FillColor,.3);return[{FillColor:b.FillColor,
StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h-c},{Action:"line",x:a.x+a.w-c,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{FillColor:d,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+a.w,y:a.y+a.h-c},{Action:"line",x:a.x+a.w-c,y:a.y+a.h},{Action:"line",x:a.x+a.w-.8*c,y:a.y+a.h-.8*c},{Action:"close"}]}]}});
//# sourceMappingURL=/js/plugins/v2/source-maps/shapes.js.map

};
