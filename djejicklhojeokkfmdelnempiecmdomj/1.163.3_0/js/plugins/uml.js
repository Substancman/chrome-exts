pluginFn['/js/plugins/v2/uml.js'] = function(lucid, window) {
	var e=e||{};e.scope={};e.ASSUME_ES5=!1;e.ASSUME_NO_NATIVE_MAP=!1;e.ASSUME_NO_NATIVE_SET=!1;e.defineProperty=e.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,a){b!=Array.prototype&&b!=Object.prototype&&(b[c]=a.value)};e.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};e.global=e.getGlobal(this);
e.polyfill=function(b,c){if(c){var a=e.global;b=b.split(".");for(var d=0;d<b.length-1;d++){var g=b[d];g in a||(a[g]={});a=a[g]}b=b[b.length-1];d=a[b];c=c(d);c!=d&&null!=c&&e.defineProperty(a,b,{configurable:!0,writable:!0,value:c})}};e.polyfill("Number.isFinite",function(b){return b?b:function(b){return"number"!==typeof b?!1:!isNaN(b)&&Infinity!==b&&-Infinity!==b}},"es6","es3");
e.polyfill("Number.isInteger",function(b){return b?b:function(b){return Number.isFinite(b)?b===Math.floor(b):!1}},"es6","es3");
var v={global:this,provide:function(b){b=b.split(".");v.global[b[0]]=v.global[b[0]]||{};var c=v.global[b[0]];b.slice(1).reduce(function(a,b){a[b]||(a[b]={});return a[b]},c)},require:function(){},DEBUG:!1,inherits:function(b,c){function a(){}a.prototype=c.prototype;b.superClass_=c.prototype;b.prototype=new a;b.prototype.constructor=b;b.base=function(a,b,l){var d=Array.prototype.slice.call(arguments,2);return c.prototype[b].apply(a,d)}},base:function(b,c,a){var d=arguments.callee.caller;if(v.STRICT_MODE_COMPATIBLE||
v.DEBUG&&!d)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(d.superClass_)return d.superClass_.constructor.apply(b,Array.prototype.slice.call(arguments,1));for(var g=Array.prototype.slice.call(arguments,2),l=!1,m=b.constructor;m;m=m.superClass_&&m.superClass_.constructor)if(m.prototype[c]===d)l=!0;else if(l)return m.prototype[c].apply(b,g);if(b[c]===d)return b.constructor.prototype[c].apply(b,
g);throw Error("goog.base called from a method of one name to a method of a different name");}};var A={uml:{}};A.uml.Label={};A.uml.Label.processMessageGroupLabel=function(b){return null!==b&&(b=A.uml.Label.parseNewlines(b).trim(),0<b.length)?b:null};A.uml.Label.parseNewlines=function(b){return b.replace(/\\n/g,"\n")};A.uml.sequence={};A.uml.sequence.model={};var Pa={w:120,h:100};A.uml.sequence.model.size={participantSize:Pa,verticalSegments:4,padding:{x:40,y:40,w:Pa.w,h:40,segmentHeight:10},participantLinePadding:30};A.uml.sequence.model.Action=function(){};A.uml.sequence.model.NoteArrangement={Inline:0,Block:1};A.uml.sequence.model.NotePosition={Left:0,Right:1,Over:2};A.uml.sequence.model.Note=function(b,c,a){this.label=A.uml.Label.parseNewlines(b).trim();this.arrangement=a;this.height=A.uml.sequence.model.Note.paddingAbove+this.label.split("\n").length*A.uml.sequence.model.Note.lineHeight+A.uml.sequence.model.Note.innerPadding};A.uml.sequence.model.Note.innerPadding=A.uml.sequence.model.size.verticalSegments;
A.uml.sequence.model.Note.paddingAbove=.5*A.uml.sequence.model.size.verticalSegments;A.uml.sequence.model.Note.lineHeight=.5*A.uml.sequence.model.size.verticalSegments;A.uml.sequence.model.SideNote=function(b,c,a){A.uml.sequence.model.Note.call(this,b,c,a)};v.inherits(A.uml.sequence.model.SideNote,A.uml.sequence.model.Note);A.uml.sequence.model.InlineNote=function(b,c){A.uml.sequence.model.SideNote.call(this,b,c,A.uml.sequence.model.NoteArrangement.Inline)};
v.inherits(A.uml.sequence.model.InlineNote,A.uml.sequence.model.SideNote);A.uml.sequence.model.LeftInlineNote=function(b){A.uml.sequence.model.InlineNote.call(this,b,A.uml.sequence.model.NotePosition.Left)};v.inherits(A.uml.sequence.model.LeftInlineNote,A.uml.sequence.model.InlineNote);A.uml.sequence.model.RightInlineNote=function(b){A.uml.sequence.model.InlineNote.call(this,b,A.uml.sequence.model.NotePosition.Right)};v.inherits(A.uml.sequence.model.RightInlineNote,A.uml.sequence.model.InlineNote);
A.uml.sequence.model.BlockNote=function(b,c,a){A.uml.sequence.model.SideNote.call(this,b,c,A.uml.sequence.model.NoteArrangement.Block);this.participant=a};v.inherits(A.uml.sequence.model.BlockNote,A.uml.sequence.model.SideNote);A.uml.sequence.model.LeftBlockNote=function(b,c){A.uml.sequence.model.BlockNote.call(this,b,A.uml.sequence.model.NotePosition.Left,c)};v.inherits(A.uml.sequence.model.LeftBlockNote,A.uml.sequence.model.BlockNote);
A.uml.sequence.model.RightBlockNote=function(b,c){A.uml.sequence.model.BlockNote.call(this,b,A.uml.sequence.model.NotePosition.Right,c)};v.inherits(A.uml.sequence.model.RightBlockNote,A.uml.sequence.model.BlockNote);A.uml.sequence.model.OverNote=function(b,c){A.uml.sequence.model.Note.call(this,b,A.uml.sequence.model.NotePosition.Over,A.uml.sequence.model.NoteArrangement.Block);this.participants=c};v.inherits(A.uml.sequence.model.OverNote,A.uml.sequence.model.Note);A.uml.sequence.model.Deactivate=function(b){this.participant=b};A.uml.sequence.model.AutonumberState={Paused:0,Running:1};A.uml.sequence.model.Autonumber=function(){this.step=this.current=1;this.formatString="";this.state=A.uml.sequence.model.AutonumberState.Paused};A.uml.sequence.model.Autonumber.prototype.setState=function(b){this.state=b};A.uml.sequence.model.Autonumber.prototype.setNextValue=function(b){this.current=b};A.uml.sequence.model.Autonumber.prototype.setIncrement=function(b){this.step=b};
A.uml.sequence.model.Autonumber.prototype.setFormatString=function(b){this.formatString=b};A.uml.sequence.model.Autonumber.prototype.format=function(b){this.state==A.uml.sequence.model.AutonumberState.Running&&(b=this.current+": "+(b||""),this.current+=this.step);return b};A.uml.sequence.model.AutonumberChange=function(){};A.uml.sequence.model.AutonumberChange.prototype.updateAutonumber=function(){};
A.uml.sequence.model.AutonumberStart=function(b,c,a){this.start=null===b||void 0===b?1:b;this.step=null===c||void 0===b?1:c;this.format=a};v.inherits(A.uml.sequence.model.AutonumberStart,A.uml.sequence.model.AutonumberChange);A.uml.sequence.model.AutonumberStart.prototype.updateAutonumber=function(b){b.setState(A.uml.sequence.model.AutonumberState.Running);b.setNextValue(this.start);b.setIncrement(this.step);this.format&&b.setFormatString(this.format)};A.uml.sequence.model.AutonumberStop=function(){};
v.inherits(A.uml.sequence.model.AutonumberStop,A.uml.sequence.model.AutonumberChange);A.uml.sequence.model.AutonumberStop.prototype.updateAutonumber=function(b){b.setState(A.uml.sequence.model.AutonumberState.Paused)};A.uml.sequence.model.AutonumberResume=function(b,c){this.step=b;this.format=c};v.inherits(A.uml.sequence.model.AutonumberResume,A.uml.sequence.model.AutonumberChange);
A.uml.sequence.model.AutonumberResume.prototype.updateAutonumber=function(b){b.setState(A.uml.sequence.model.AutonumberState.Running);null!==this.step&&void 0!==this.step&&b.setIncrement(this.step);this.format&&b.setFormatString(this.format)};A.uml.sequence.model.Activate=function(b){this.participant=b};A.uml.sequence.model.ActivationTarget=function(){};A.uml.sequence.model.ActivationTarget.prototype.triggerActivation=function(){};A.uml.sequence.model.ActivationTarget.prototype.getActivations=function(){};A.uml.sequence.model.ActivationTarget.prototype.getDeactivations=function(){};A.uml.sequence.model.ActivationGroup=function(){this.activations=[];this.deactivations=[];this.height=A.uml.sequence.model.size.verticalSegments};A.uml.sequence.model.ActivationGroup.prototype.triggerActivation=function(b){b instanceof A.uml.sequence.model.Activate?this.activations.push(b):b instanceof A.uml.sequence.model.Deactivate&&this.deactivations.push(b)};A.uml.sequence.model.ActivationGroup.prototype.getActivations=function(){return this.activations};
A.uml.sequence.model.ActivationGroup.prototype.getDeactivations=function(){return this.deactivations};A.uml.sequence.model.Participant=function(b,c){this.name=b;this.displayName=c?c:b};A.uml.sequence.model.ArrowType={none:"None",closed:"Arrow",open:"Open Arrow"};A.uml.sequence.model.LineType={solid:"solid",dash:"dashed"};A.uml.sequence.model.Connector=function(b,c,a){this.lineType=b;this.leftArrow=c;this.rightArrow=a};A.uml.sequence.model.Connector.prototype.isLeft=function(){return this.leftArrow!=A.uml.sequence.model.ArrowType.none&&this.rightArrow==A.uml.sequence.model.ArrowType.none};
A.uml.sequence.model.Connector.prototype.reverse=function(){return new A.uml.sequence.model.Connector(this.lineType,this.rightArrow,this.leftArrow)};A.uml.sequence.model.Message=function(b,c,a,d){this.activations=[];this.deactivations=[];this.note=null;var g=a.isLeft();this.sender=A.uml.Label.parseNewlines(g?c:b);this.recipient=A.uml.Label.parseNewlines(g?b:c);this.connector=g?a.reverse():a;this.setLabel(d)};
A.uml.sequence.model.Message.prototype.setLabel=function(b){this.label=A.uml.Label.processMessageGroupLabel(b);this.height=this.calculateHeight()};A.uml.sequence.model.Message.messageHeight=1;A.uml.sequence.model.Message.selfMessageCenterPadding=1;A.uml.sequence.model.Message.textLineHeight=.5;
A.uml.sequence.model.Message.prototype.calculateHeight=function(){this.paddingAboveRecipient=this.paddingBelow=0;this.note&&(this.paddingBelow=(this.note.height-A.uml.sequence.model.Note.paddingAbove)/2);var b=A.uml.sequence.model.size.verticalSegments,c=A.uml.sequence.model.Message;if(this.isSelfMessage()){this.paddingAboveRecipient=c.selfMessageCenterPadding*b;var a=c.messageHeight*b+this.paddingAboveRecipient}else a=c.messageHeight*b,null!==this.label&&(b=c.textLineHeight*b*this.label.split("\n").length,
a+=b);this.arrowHeight=Math.max(a,this.paddingBelow+A.uml.sequence.model.Note.paddingAbove);return this.arrowHeight+this.paddingBelow};A.uml.sequence.model.Message.prototype.isSelfMessage=function(){return this.sender&&this.recipient&&this.sender==this.recipient};A.uml.sequence.model.Message.prototype.triggerActivation=function(b){b instanceof A.uml.sequence.model.Activate?this.activations.push(b):b instanceof A.uml.sequence.model.Deactivate&&this.deactivations.push(b)};
A.uml.sequence.model.Message.prototype.getActivations=function(){return this.activations};A.uml.sequence.model.Message.prototype.getDeactivations=function(){return this.deactivations};A.uml.sequence.model.Message.prototype.setNote=function(b){this.note=b;this.height=this.calculateHeight()};A.uml.sequence.model.SequenceDiagram=function(b){this.actions=[];this.totalDepth=0;this.participants=[];this.participantSet={};b instanceof A.uml.sequence.model.SequenceDiagram?(this.actions=b.actions,this.participants=b.participants,this.participantSet=b.participantSet):this.loadActions(b);this.depthBetweenActions=0};
A.uml.sequence.model.SequenceDiagram.prototype.loadActions=function(b){this.lastMessage=this.activationTarget=null;for(var c=0;c<b.length;c++){var a=b[c];if(a instanceof A.uml.sequence.model.Activate||a instanceof A.uml.sequence.model.Deactivate){this.addParticipant(a.participant);if(!this.activationTarget){var d=new A.uml.sequence.model.ActivationGroup;this.actions.push(d);this.activationTarget=d}this.activationTarget.triggerActivation(a)}else if(a instanceof A.uml.sequence.model.AutonumberChange)this.actions.push(a);
else if(a instanceof A.uml.sequence.model.Message)this.loadMessage(a);else if(a instanceof A.uml.sequence.model.Note)this.loadNote(a);else if(a instanceof A.uml.sequence.model.Participant)this.addParticipant(a);else if(a instanceof A.uml.sequence.model.SequenceDiagram){this.lastMessage=this.activationTarget=null;for(d=0;d<a.participants.length;d++)this.addParticipant(a.participants[d]);this.actions.push(a)}}};
A.uml.sequence.model.SequenceDiagram.prototype.loadMessage=function(b){this.lastMessage=this.activationTarget=b;this.addParticipant(b.sender);this.addParticipant(b.recipient);this.actions.push(b)};
A.uml.sequence.model.SequenceDiagram.prototype.loadNote=function(b){b instanceof A.uml.sequence.model.InlineNote?this.lastMessage&&(this.lastMessage.setNote(b),this.lastMessage=null):(b instanceof A.uml.sequence.model.OverNote?b.participants.forEach(this.addParticipant.bind(this)):this.addParticipant(b.participant),this.actions.push(b))};
A.uml.sequence.model.SequenceDiagram.prototype.addParticipant=function(b){b="string"==typeof b?new A.uml.sequence.model.Participant(b):b;void 0===this.participantSet[b.name]&&(this.participantSet[b.name]=this.participants.length,this.participants.push(b))};
A.uml.sequence.model.SequenceDiagram.prototype.doAutonumbering=function(b){b=b||new A.uml.sequence.model.Autonumber;for(var c=0;c<this.actions.length;c++){var a=this.actions[c];a instanceof A.uml.sequence.model.Message?a.setLabel(b.format(a.label)):a instanceof A.uml.sequence.model.SequenceDiagram?a.doAutonumbering(b):a instanceof A.uml.sequence.model.AutonumberChange&&a.updateAutonumber(b)}this.remeasureDepth()};
A.uml.sequence.model.SequenceDiagram.prototype.remeasureDepth=function(){for(var b=this.totalDepth=0;b<this.actions.length;b++){var c=this.actions[b];Number.isInteger(c.height)&&(this.totalDepth+=c.height)}};A.uml.sequence.model.SequenceDiagram.prototype.get=function(b){return this.actions[b]};A.uml.sequence.model.SequenceDiagram.prototype.getActionCount=function(){return this.actions.length};
A.uml.sequence.model.SequenceDiagram.prototype.getParticipantWidths=function(b,c){var a={};c=c||this.participantSet;for(var d=0;d<this.participants.length;d++)a[this.participants[d].name]=0;for(d=0;d<this.getActionCount();d++){var g=this.get(d);if(g instanceof A.uml.sequence.model.Message){var l=b(g);g=c[g.sender]>c[g.recipient]?g.recipient:g.sender;l>a[g]&&(a[g]=l)}else if(g instanceof A.uml.sequence.model.SequenceDiagram){l=g.getParticipantWidths(b,c);for(var m in l)if(m in a&&l[m]>a[m]||!(m in
a))a[m]=l[m]}}return a};A.uml.sequence.view={};A.uml.sequence.view.Activation=function(b,c,a){this.top=b;this.height=c;this.inner=a;this.blockId=null};A.uml.sequence.view.Activation.offsetX=20;A.uml.sequence.view.Activation.width=40;A.uml.sequence.view.Activation.halfWidth=A.uml.sequence.view.Activation.width/2;
A.uml.sequence.view.Activation.prototype.render=function(b,c,a,d){var g=[];if(0<this.height){var l=a-c;this.blockId=lucid.plugin.addBlock(b,{className:"UMLActivationBlock",BoundingBox:{x:d-A.uml.sequence.view.Activation.halfWidth,y:l*this.top+c,w:A.uml.sequence.view.Activation.width,h:l*this.height}});g.push(this.blockId);for(l=0;l<this.inner.length;l++)g=g.concat(this.inner[l].render(b,c,a,d+A.uml.sequence.view.Activation.offsetX))}return g};A.uml.sequence.view.ActivationType={Activation:0,Deactivation:1};A.uml.sequence.view.ParticipantLifeline=function(b,c,a,d){this.name=b;this.order=a;this.width=d;b=lucid.plugin.getProperty(c,"Endpoint1");a=lucid.plugin.getProperty(c,"Endpoint2");this.line={id:c,x:b.x,yTop:b.y,yBot:a.y};this.topBlockId=b.Block;this.bottomBlockId=a.Block;this.activationStack=[];this.activations=[]};A.uml.sequence.view.ParticipantLifeline.prototype.addActivation=function(b){this.activationStack.push({distance:b,type:A.uml.sequence.view.ActivationType.Activation})};
A.uml.sequence.view.ParticipantLifeline.prototype.addDeactivation=function(b){this.activationStack.push({distance:b,type:A.uml.sequence.view.ActivationType.Deactivation})};A.uml.sequence.view.ParticipantLifeline.prototype.renderLifelineBlocks=function(b){this.consumeActivationStack();for(var c=[],a=0;a<this.activations.length;a++)c=c.concat(this.activations[a].render(b,this.line.yTop,this.line.yBot,this.line.x));return c};
A.uml.sequence.view.ParticipantLifeline.prototype.consumeActivationStack=function(){var b,c=function(){for(var a=[],d=this.activationStack[b++].distance,g;b<this.activationStack.length;b++){var l=this.activationStack[b];if(l.type==A.uml.sequence.view.ActivationType.Activation)a.push(c());else if(l.type==A.uml.sequence.view.ActivationType.Deactivation){g=l.distance;break}}void 0===g&&(g=1);return new A.uml.sequence.view.Activation(d,g-d,a)}.bind(this);for(b=0;b<this.activationStack.length;b++)this.activationStack[b].type==
A.uml.sequence.view.ActivationType.Activation&&this.activations.push(c())};A.uml.sequence.view.ParticipantLifeline.prototype.setEndpoint1ConnectData=function(b,c,a){this.setEndpointConnectData(b.Endpoint1,c,a)};A.uml.sequence.view.ParticipantLifeline.prototype.setEndpoint2ConnectData=function(b,c,a){this.setEndpointConnectData(b.Endpoint2,c,a)};
A.uml.sequence.view.ParticipantLifeline.prototype.setEndpointConnectData=function(b,c,a){var d=this.getBlockAtHeight(c);if(d){var g=lucid.plugin.getProperty(d,"BoundingBox");b.Block=d;b.LinkY=((this.line.yBot-this.line.yTop)*c+this.line.yTop-g.y)/g.h;b.LinkX=this.order<=a?1:0}else b.Line=this.line.id,b.LineP=c};
A.uml.sequence.view.ParticipantLifeline.prototype.getBlockAtHeight=function(b){function c(a){if(a.top<=b&&a.top+a.height>=b){for(var d=0;d<a.inner.length&&!(b<a.inner[d].top);d++){var g=c(a.inner[d]);if(g)return g}return a.blockId}return null}for(var a=0;a<this.activations.length&&!(b<this.activations[a].top);a++){var d=c(this.activations[a]);if(d)return d}return null};
A.uml.sequence.view.ParticipantLifeline.addActivationEventsToLifelines=function(b,c,a,d){for(var g,l,m=A.uml.sequence.model.size.verticalSegments,k=0;k<b.getActionCount();k++){var n=b.get(k);if(n instanceof A.uml.sequence.model.Message){l=n;if(l.getActivations().length||l.getDeactivations().length){if(l.isSelfMessage()){var r=(a+m)/d;var q=(a+l.height)/d}else q=r=(a+l.height)/d;for(n=0;n<l.getDeactivations().length;n++)g=l.getDeactivations()[n],c[g.participant].addDeactivation(r);for(n=0;n<l.getActivations().length;n++)g=
l.getActivations()[n],c[g.participant].addActivation(q)}a+=l.height}else if(n instanceof A.uml.sequence.model.SubDiagram)l=n,A.uml.sequence.view.ParticipantLifeline.addActivationEventsToLifelines(l,c,l.getDepthBelowLabel(a),d),a+=l.height;else if(n instanceof A.uml.sequence.model.ActivationGroup){l=n;q=(a+l.height)/d;for(n=0;n<l.getActivations().length;n++)g=l.getActivations()[n],c[g.participant].addActivation(q);for(n=0;n<l.getDeactivations().length;n++)g=l.getDeactivations()[n],c[g.participant].addDeactivation(q);
a+=l.height}else n instanceof A.uml.sequence.model.Note&&(a+=n.height)}};A.uml.sequence.view.ParticipantLifeline.getParticipantsInOrder=function(b,c){for(var a=[],d=0;d<b.length;d++)lucid.array.binaryInsert(a,b[d],function(a,b){return c[a].order-c[b].order});return a};A.uml.sequence.view.Note=function(b,c){this.model=b;this.participantLifelines=c;this.calculateTextSize()};A.uml.sequence.view.Note.horizontalPadding=40;
A.uml.sequence.view.Note.prototype.calculateTextSize=function(){var b=A.uml.sequence.model.size.padding,c=A.uml.sequence.model.Note.paddingAbove*b.segmentHeight;this.textSize=lucid.text.measure(lucid.text.styled(this.model.label,{}));this.textSize.w+=A.uml.sequence.view.Note.horizontalPadding;this.textSize.h=Math.max(this.textSize.h,this.model.height*b.segmentHeight-c)};
A.uml.sequence.view.Note.prototype.render=function(b,c,a,d){return lucid.plugin.addBlock(b,{className:"UMLNoteBlock",BoundingBox:this.getBoundingBox(c,a,d),Text:this.model.label,TextAlign:"center"})};A.uml.sequence.view.Note.prototype.getBoundingBox=function(b,c,a){return{x:this.calculateX(a),y:this.calculateY(b,c),w:this.textSize.w,h:this.textSize.h}};
A.uml.sequence.view.Note.prototype.calculateY=function(b,c){for(var a in this.participantLifelines)return a=this.participantLifelines[a].line,a.yTop+(b+this.model.height)/c*(a.yBot-a.yTop)-this.textSize.h;return 0};A.uml.sequence.view.Note.prototype.calculateX=function(){return 0};A.uml.sequence.view.SideNote=function(b,c,a){A.uml.sequence.view.Note.call(this,b,a);this.line=c};v.inherits(A.uml.sequence.view.SideNote,A.uml.sequence.view.Note);A.uml.sequence.view.BlockNote=function(b,c){A.uml.sequence.view.SideNote.call(this,b,c[b.participant].line,c)};v.inherits(A.uml.sequence.view.BlockNote,A.uml.sequence.view.SideNote);A.uml.sequence.view.LeftBlockNote=function(b,c){A.uml.sequence.view.BlockNote.call(this,b,c)};v.inherits(A.uml.sequence.view.LeftBlockNote,A.uml.sequence.view.BlockNote);A.uml.sequence.view.LeftBlockNote.prototype.calculateX=function(){return this.line.x-A.uml.sequence.view.Note.horizontalPadding/2-this.textSize.w};
A.uml.sequence.view.RightBlockNote=function(b,c){A.uml.sequence.view.BlockNote.call(this,b,c)};v.inherits(A.uml.sequence.view.RightBlockNote,A.uml.sequence.view.BlockNote);A.uml.sequence.view.RightBlockNote.prototype.calculateX=function(){return this.line.x+A.uml.sequence.view.Note.horizontalPadding/2};A.common={};A.common.Swimlane={};A.common.Swimlane.ORIENTATIONS={VERTICAL:"vertical",HORIZONTAL:"horizontal"};A.common.Swimlane.getOrientationOptions=function(){return lucid.object.getValues(A.common.Swimlane.ORIENTATIONS)};
A.common.Swimlane.updateLanes=function(b,c,a,d,g){var l,m=lucid.plugin.getProperty(c,"Lanes"),k=lucid.plugin.getProperty(c,"BoundingBox"),n=lucid.plugin.getProperty(c,"Rotation")||0,r=[];if(m&&k){if("add"===b){void 0===a&&(a=m.length-1);var q=d?a:a+1;g=k.w*m[a].p;a=k.w+g;var u=[],x=0;for(b=0;b<m.length;b++)b>=q&&(x+=m[b].p),d={p:k.w*m[b].p/a,tid:m[b].tid},r.push(d),u.push(d.tid);for(;lucid.array.contains(u,b);)b++;r.splice(q,0,{p:g/a,tid:parseInt(b,10)});m=lucid.plugin.getProperty(c,"Vertical");d=
k.x+(1-x)*k.w;m||(l=lucid.math.Box.rotate(k,lucid.plugin.getProperty(c,"Rotation")).y+(1-x)*k.w);x=lucid.plugin.getContained(c);for(b=0;b<x.length;b++)if(q=lucid.plugin.getProperty(x[b],"BoundingBox"))m?q.x+.01>=d&&(q.x+=g):q.y+.01>=l&&(q.y+=g),lucid.plugin.setProperty(x[b],"BoundingBox",q)}else{l=m.pop();a=k.w*(1-l.p);for(b=0;b<m.length;b++)d={p:k.w*m[b].p/a,tid:m[b].tid},r.push(d);g&&lucid.plugin.setProperty(c,"Lane_"+l.tid,"Lane")}50>=r.length&&0<r.length&&(lucid.plugin.setProperty(c,"Lanes",r),
0!==n&&(k.x+=(k.w-a)/2,k.y-=(k.w-a)/2),k.w=a,lucid.plugin.setProperty(c,"BoundingBox",k))}};
A.common.Swimlane.setOrientation=function(b,c,a){function d(a,c){var d=lucid.plugin.getProperty(b,"Rotation")||0,k=lucid.math.Box.rotate(c,d);c=lucid.plugin.getContained(b);var g={x:k.x+k.w/2,y:k.y+k.h/2};lucid.array.forEach(c,function(b){var c=lucid.plugin.getProperty(b,"BoundingBox");var d=lucid.math.Point.rotate({x:c.x,y:c.y},g,"v"===a?Math.PI/2:-Math.PI/2);c={x:"v"===a?d.x-2*(d.x-(k.x+k.w/2)):d.x,y:"h"===a?d.y-2*(d.y-(k.y+k.h/2)):d.y,w:c.w,h:c.h,data:c.data};c.x-=(k.w-k.h)/2;c.y-=(k.h-k.w)/2;
lucid.plugin.setProperty(b,"BoundingBox",c);c=lucid.plugin.getIncomingLines(b);for(var l=lucid.plugin.getOutgoingLines(b),n=0;n<c.length;n++)d=lucid.plugin.getProperty(c[n],"Endpoint2"),b=d.LinkX,d.LinkX=d.LinkY,d.LinkY=b,lucid.plugin.setProperty(c[n],"Endpoint2",d);for(n=0;n<l.length;n++)d=lucid.plugin.getProperty(l[n],"Endpoint1"),b=d.LinkX,d.LinkX=d.LinkY,d.LinkY=b,lucid.plugin.setProperty(l[n],"Endpoint1",d)})}var g=lucid.plugin.getProperty(b,"VerticalText"),l=lucid.plugin.getProperty(b,"BoundingBox");
null!=c&&(d(a?"v":"h",l),(!c&&a||c&&!a)&&lucid.plugin.setProperty(b,"VerticalText",g?0:1));lucid.plugin.setProperty(b,"Rotation",a?0:-Math.PI/2);l.x+=a?(l.w-l.h)/2:-(l.w-l.h)/2;l.y+=a?(l.h-l.w)/2:-(l.h-l.w)/2;lucid.plugin.setProperty(b,"BoundingBox",l)};
A.common.Swimlane.beforeCreate=function(b,c,a){b=lucid.plugin.getChildren(b,function(b){return(b=lucid.plugin.getBlockClassName(b))&&0<=a.indexOf(b)});var d=c.BoundingBox;c=c.Rotation||0;for(var g in b){var l=b[g],m=lucid.plugin.getProperty(l,"BoundingBox"),k=lucid.plugin.getProperty(l,"Rotation")||0;if(!(0===k&&0!==c||0!==k&&0===c)){var n=lucid.math.Box.rotate(d,c),r=lucid.math.Box.rotate(m,k);if(lucid.math.Box.overlap(n,r)){n=lucid.plugin.getProperty(l,"Lanes");r=m.w*n[n.length-1].p;var q=m.w+r,
u=[],x=[],w;for(w=0;w<n.length;w++){var aa={p:m.w*n[w].p/q,tid:n[w].tid};u.push(aa);x.push(aa.tid)}for(;lucid.array.contains(x,w);)w++;u.push({p:r/q,tid:parseInt(w)});if(50>=u.length&&0<u.length)return lucid.plugin.setProperty(l,"Lanes",u),0!==k&&(m.x+=(m.w-q)/2,m.y-=(m.w-q)/2),m.w=q,lucid.plugin.setProperty(l,"BoundingBox",m),!1}}}return!0};
A.common.Swimlane.getLinkPoints=function(b){var c=lucid.plugin.getProperty(b,"Lanes"),a=0,d=[];if(lucid.plugin.getProperty(b,"Vertical"))for(var g=0;g<c.length;g++)b=a+c[g].p/2,d.push({x:b,y:0}),a+=c[g].p;else for(g=c.length-1;0<=g;g--)b=a+c[g].p/2,d.push({x:b,y:0}),a+=c[g].p;return d};
A.common.Swimlane.spatialControls=function(b,c){function a(){var a=lucid.plugin.getProperty(b,"Lanes"),c=lucid.plugin.getProperty(b,"Vertical");return a?c?a:a.reverse():null}function d(a,c){var d=lucid.plugin.getProperty(b,"Vertical");c.h&&(d||(a.x-=(a.h-c.h)/2,a.y+=(a.h-c.h)/2),a.h=c.h);c.w&&(d||(a.x+=(a.w-c.w)/2,a.y-=(a.w-c.w)/2),a.w=c.w);lucid.plugin.setProperty(b,"BoundingBox",a)}function g(a){var c=0;lucid.plugin.getProperty(b,"Vertical")||a--;for(var d=0;d<=a;d++)c+=m[d].p;return c}function l(c){return{logAction:"chart.viewport.selection.spatialControls.flowchart.swimlaneWidth",
location:function(){m=a();var d=lucid.plugin.getProperty(b,"BoundingBox"),k=lucid.plugin.getProperty(b,"mainTitleHeight",!0);return{x:d.x+d.w*g(c)-10,y:d.y+(!!k&&k),w:20,h:d.h-(!!k&&k)}},moved:function(k){var l;m=a();var n=lucid.plugin.getProperty(b,"BoundingBox"),q=lucid.plugin.getProperty(b,"Vertical"),r=g(c),ba=n.x+r*n.w;k=q?k.x-ba:ba-k.x;q||(l=lucid.math.Box.rotate(n,lucid.plugin.getProperty(b,"Rotation")).y+(1-r)*n.w);r=n.w+k;for(var y=0;y<m.length;y++)m[y].p=y===c?(m[y].p*n.w+k)/r:m[y].p*n.w/
r;var Ia=lucid.plugin.getContained(b);for(y=0;y<Ia.length;y++){var B=lucid.plugin.getProperty(Ia[y],"BoundingBox");B&&(q?B.x+.01>=ba&&(B.x+=k):B.y+.01>=l&&(B.y+=k),lucid.plugin.setProperty(Ia[y],"BoundingBox",B))}d(n,{w:r});l=m;n=lucid.plugin.getProperty(b,"Vertical");lucid.plugin.setProperty(b,"Lanes",n?l:l.reverse())},path:function(){m=a();var d=lucid.plugin.getProperty(b,"BoundingBox"),k=lucid.plugin.getProperty(b,"Vertical");return[{x:k?d.x+d.w*g(c-1)+20:d.x+d.w*g(c+1)-20,y:d.y+d.h/2},{x:k?1E8:
-1E8,y:d.y+d.h/2}]},cursor:function(){return lucid.plugin.getProperty(b,"Rotation")?"s-resize":"e-resize"},snap:!0,snapToGuides:!0,color:"none"}}var m=a(),k=[];if(m){for(var n=0;n<m.length;n++)k.push(l(n));k.push({logAction:"chart.viewport.selection.spatialControls."+c?"uml":"flowchart.swimlaneHeight",location:function(){var a=lucid.plugin.getProperty(b,"BoundingBox");return{x:a.x,y:a.y+a.h-10,w:a.w,h:20}},moved:function(a){var c=lucid.plugin.getProperty(b,"BoundingBox");d(c,{h:c.h-(c.y+c.h-a.y)})},
path:function(){m=a();var c=lucid.plugin.getProperty(b,"BoundingBox");return[{x:c.x+c.w/2,y:c.y+20+lucid.plugin.getProperty(b,"titleHeight",!0)||40},{x:c.x+c.w/2,y:1E8}]},cursor:function(){return lucid.plugin.getProperty(b,"Vertical")?"s-resize":"e-resize"},snap:!0,snapToGuides:!0,color:"none"})}return k};A.common.Swimlane.getLaneCountOfSwimLaneBlock=function(b){return lucid.plugin.getProperty(b,"Lanes").length};
A.common.Swimlane.setLaneCountOfSwimLaneBlock=function(b,c,a){for(var d=lucid.plugin.getProperty(b,"Lanes").length,g=Math.abs(a-d),l=0;l<g;l++)A.common.Swimlane.updateLanes(d<a?"add":"remove",b,void 0,void 0,c)};A.common.Swimlane.getOrientationOfSwimLaneBlock=function(b){return lucid.plugin.getProperty(b,"Vertical")?A.common.Swimlane.ORIENTATIONS.VERTICAL:A.common.Swimlane.ORIENTATIONS.HORIZONTAL};
A.common.Swimlane.setOrientationOfSwimLaneBlock=function(b,c,a){var d=lucid.plugin.getProperty(b,"Vertical");a=a==A.common.Swimlane.ORIENTATIONS.VERTICAL?1:0;d!=a&&(lucid.plugin.setProperty(b,"Vertical",a),c&&A.common.Swimlane.setOrientation(b,d,a))};A.uml.sequence.model.SubDiagram=function(b){A.uml.sequence.model.SequenceDiagram.call(this,b);this.height=this.calculateHeight()};v.inherits(A.uml.sequence.model.SubDiagram,A.uml.sequence.model.SequenceDiagram);A.uml.sequence.model.SubDiagram.prototype.remeasureDepth=function(){A.uml.sequence.model.SequenceDiagram.prototype.remeasureDepth.call(this);this.height=this.calculateHeight()};A.uml.sequence.model.SubDiagram.prototype.calculateHeight=function(){return this.totalDepth};
A.uml.sequence.model.SubDiagram.prototype.getBoundingBox=function(){};A.uml.sequence.model.SubDiagram.prototype.getTopDepth=function(b){return b};A.uml.sequence.model.SubDiagram.prototype.getDepthBelowLabel=function(b){return b};A.uml.sequence.model.SubDiagram.prototype.getBottomDepth=function(b){return b+this.height};A.uml.sequence.view.OverBlockNote=function(b,c){A.uml.sequence.view.Note.call(this,b,c)};v.inherits(A.uml.sequence.view.OverBlockNote,A.uml.sequence.view.Note);A.uml.sequence.view.OverBlockNote.prototype.calculateTextSize=function(){A.uml.sequence.view.Note.prototype.calculateTextSize.call(this);var b=this.calculateMinWidthAndCenter(),c=b[1];this.textSize.w=Math.max(b[0],this.textSize.w);this.precalculatedX=c-this.textSize.w/2};
A.uml.sequence.view.OverBlockNote.prototype.calculateMinWidthAndCenter=function(){var b=A.uml.sequence.view.Note.horizontalPadding,c=this.findOutsideParticipantsX(),a=c[0]-b;b=c[1]+b-a;return[b,a+b/2]};A.uml.sequence.view.OverBlockNote.prototype.findOutsideParticipantsX=function(){var b=A.uml.sequence.view.ParticipantLifeline.getParticipantsInOrder(this.model.participants,this.participantLifelines);return[this.participantLifelines[b[0]].line.x,this.participantLifelines[b[b.length-1]].line.x]};
A.uml.sequence.view.OverBlockNote.prototype.calculateX=function(){return this.precalculatedX};A.uml.sequence.model.ElseGroup=function(b,c){if(this.label=A.uml.Label.processMessageGroupLabel(c))this.label="["+this.label+"]";A.uml.sequence.model.SubDiagram.call(this,b)};v.inherits(A.uml.sequence.model.ElseGroup,A.uml.sequence.model.SubDiagram);A.uml.sequence.model.ElseGroup.textLineHeight=.5;
A.uml.sequence.model.ElseGroup.prototype.calculateHeight=function(){var b=A.uml.sequence.model.SubDiagram.prototype.calculateHeight.call(this),c=A.uml.sequence.model.size.verticalSegments,a=A.uml.sequence.model.ElseGroup.textLineHeight;this.labelHeight=this.label?this.label.split("\n").length*a*c:0;return this.labelHeight+b};A.uml.sequence.model.ElseGroup.prototype.getDepthBelowLabel=function(b){return A.uml.sequence.model.SubDiagram.prototype.getTopDepth.call(this,b)+this.labelHeight};A.uml.sequence.model.AltGroup=function(b){A.uml.sequence.model.SubDiagram.call(this,b);this.height=this.calculateHeight()};v.inherits(A.uml.sequence.model.AltGroup,A.uml.sequence.model.SubDiagram);A.uml.sequence.model.AltGroup.aboveBlockHeight=.5;A.uml.sequence.model.AltGroup.titleHeight=1;A.uml.sequence.model.AltGroup.aboveDividerLineHeight=.5;A.uml.sequence.model.AltGroup.belowDividerLineHeight=0;
A.uml.sequence.model.AltGroup.prototype.calculateHeight=function(){var b=A.uml.sequence.model.SubDiagram.prototype.calculateHeight.call(this),c=A.uml.sequence.model.size.verticalSegments,a=A.uml.sequence.model.AltGroup;this.aboveBlockHeight=a.aboveBlockHeight*c;var d=a.titleHeight*c;this.topHeight=this.aboveBlockHeight+d;this.depthBetweenActions=a.aboveDividerLineHeight*c+a.belowDividerLineHeight*c;for(var g=0,l=1;l<this.actions.length;l++)g+=this.depthBetweenActions;c*=a.aboveDividerLineHeight;a=
this.topHeight+g+b+c;this.calculateBoundaries(d,d+g+b+c);return a};
A.uml.sequence.model.AltGroup.prototype.calculateBoundaries=function(b,c){var a=A.uml.sequence.model.size.verticalSegments,d=A.uml.sequence.model.AltGroup,g=d.aboveDividerLineHeight*a;a*=d.belowDividerLineHeight;this.boundaries=[];this.condition=null;if(1<=this.actions.length)for(this.condition=this.actions[0].label,b+=this.actions[0].height+g,d=1;d<this.actions.length;d++)this.boundaries.push({height:b/c,text:this.actions[d].label||""}),b+=a+this.actions[d].height+g};
A.uml.sequence.model.AltGroup.prototype.getTopDepth=function(b){return A.uml.sequence.model.SubDiagram.prototype.getTopDepth.call(this,b)+this.aboveBlockHeight};A.uml.sequence.model.AltGroup.prototype.getDepthBelowLabel=function(b){return A.uml.sequence.model.SubDiagram.prototype.getTopDepth.call(this,b)+this.topHeight};A.uml.sequence.model.MessageGroup=function(b,c,a){if(this.label=A.uml.Label.processMessageGroupLabel(a))this.label="["+this.label+"]";this.type=A.uml.Label.processMessageGroupLabel(b);this.type||(this.type="Group");A.uml.sequence.model.SubDiagram.call(this,c)};v.inherits(A.uml.sequence.model.MessageGroup,A.uml.sequence.model.SubDiagram);
A.uml.sequence.model.MessageGroup.prototype.calculateHeight=function(){var b=A.uml.sequence.model.SubDiagram.prototype.calculateHeight.call(this),c=A.uml.sequence.model.size.verticalSegments;this.aboveTopLine=.5*c;this.belowTopLine=.5*c+.5*c*this.type.split("\n").length;null!==this.label&&(belowTopLine=.5*c*Math.max(this.label.split("\n").length,2));this.aboveBottomLine=.5*c;this.belowBottomLine=0;return this.aboveTopLine+this.belowTopLine+b+this.aboveBottomLine+this.belowBottomLine};
A.uml.sequence.model.MessageGroup.prototype.getTopDepth=function(b){return A.uml.sequence.model.SubDiagram.prototype.getTopDepth.call(this,b)+this.aboveTopLine};A.uml.sequence.model.MessageGroup.prototype.getDepthBelowLabel=function(b){return this.getTopDepth(b)+this.belowTopLine};A.uml.sequence.model.MessageGroup.prototype.getBottomDepth=function(b){return A.uml.sequence.model.SubDiagram.prototype.getBottomDepth.call(this,b)-this.belowBottomLine};A.uml.sequence.model.Ignore=function(){};A.uml.sequence.model.PartialNote=function(b,c){this.position=b;this.arrangement=c};A.uml.sequence.model.PartialNote.prototype.toNote=function(){return null};A.uml.sequence.model.PartialSideNote=function(b,c){A.uml.sequence.model.PartialNote.call(this,b,c)};v.inherits(A.uml.sequence.model.PartialSideNote,A.uml.sequence.model.PartialNote);A.uml.sequence.model.PartialInlineNote=function(b){A.uml.sequence.model.PartialSideNote.call(this,b,A.uml.sequence.model.NoteArrangement.Inline)};
v.inherits(A.uml.sequence.model.PartialInlineNote,A.uml.sequence.model.PartialSideNote);A.uml.sequence.model.PartialLeftInlineNote=function(){A.uml.sequence.model.PartialInlineNote.call(this,A.uml.sequence.model.NotePosition.Left)};v.inherits(A.uml.sequence.model.PartialLeftInlineNote,A.uml.sequence.model.PartialInlineNote);A.uml.sequence.model.PartialLeftInlineNote.prototype.toNote=function(b){return new A.uml.sequence.model.LeftInlineNote(b)};
A.uml.sequence.model.PartialRightInlineNote=function(){A.uml.sequence.model.PartialInlineNote.call(this,A.uml.sequence.model.NotePosition.Right)};v.inherits(A.uml.sequence.model.PartialRightInlineNote,A.uml.sequence.model.PartialInlineNote);A.uml.sequence.model.PartialRightInlineNote.prototype.toNote=function(b){return new A.uml.sequence.model.RightInlineNote(b)};
A.uml.sequence.model.PartialBlockNote=function(b,c){A.uml.sequence.model.PartialSideNote.call(this,b,A.uml.sequence.model.NoteArrangement.Block);this.participant=c};v.inherits(A.uml.sequence.model.PartialBlockNote,A.uml.sequence.model.PartialSideNote);A.uml.sequence.model.PartialLeftBlockNote=function(b){A.uml.sequence.model.PartialBlockNote.call(this,A.uml.sequence.model.NotePosition.Left,b)};v.inherits(A.uml.sequence.model.PartialLeftBlockNote,A.uml.sequence.model.PartialBlockNote);
A.uml.sequence.model.PartialLeftBlockNote.prototype.toNote=function(b){return new A.uml.sequence.model.LeftBlockNote(b,this.participant)};A.uml.sequence.model.PartialRightBlockNote=function(b){A.uml.sequence.model.PartialBlockNote.call(this,A.uml.sequence.model.NotePosition.Right,b)};v.inherits(A.uml.sequence.model.PartialRightBlockNote,A.uml.sequence.model.PartialBlockNote);A.uml.sequence.model.PartialRightBlockNote.prototype.toNote=function(b){return new A.uml.sequence.model.RightBlockNote(b,this.participant)};
A.uml.sequence.model.PartialOverNote=function(b){A.uml.sequence.model.PartialNote.call(this,A.uml.sequence.model.NotePosition.Over,A.uml.sequence.model.NoteArrangement.Block);this.participants=b};v.inherits(A.uml.sequence.model.PartialOverNote,A.uml.sequence.model.PartialNote);A.uml.sequence.model.PartialOverNote.prototype.toNote=function(b){return new A.uml.sequence.model.OverNote(b,this.participants)};A.uml.sequence.model.PartialNote.LeftInlineNote=A.uml.sequence.model.PartialLeftInlineNote;
A.uml.sequence.model.PartialNote.RightInlineNote=A.uml.sequence.model.PartialRightInlineNote;A.uml.sequence.model.PartialNote.LeftBlockNote=A.uml.sequence.model.PartialLeftBlockNote;A.uml.sequence.model.PartialNote.RightBlockNote=A.uml.sequence.model.PartialRightBlockNote;A.uml.sequence.model.PartialNote.OverBlockNote=A.uml.sequence.model.PartialOverNote;A.uml.sequence.peg=function(){function b(c,a,d,g){this.message=c;this.expected=a;this.found=d;this.location=g;this.name="SyntaxError";"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,b)}(function(b,a){function c(){this.constructor=b}c.prototype=a.prototype;b.prototype=new c})(b,Error);return{SyntaxError:b,parse:function(c){function a(a,b){b=b.map(function(a){return a[3]});b.unshift(a);return b}function d(a,b){b=b.map(function(a){return a[1]});b.unshift(a);return new Gb(b)}
function g(a){throw n(a,null,c.substring(t,h),m(t,h));}function l(a){var b=wa[a],d;if(!b){for(d=a-1;!wa[d];)d--;b=wa[d];for(b={line:b.line,column:b.column,seenCR:b.seenCR};d<a;){var f=c.charAt(d);"\n"===f?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1);d++}wa[a]=b}return b}function m(a,b){var c=l(a),d=l(b);return{start:{offset:a,line:c.line,column:c.column},end:{offset:b,line:d.line,column:d.column}}}function k(a){h<
M||(h>M&&(M=h,Ja=[]),Ja.push(a))}function n(a,c,d,f){function k(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function h(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,
function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0100-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1000-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d=Array(a.length),f;for(f=0;f<a.length;f++)d[f]=a[f].description;a=1<a.length?d.slice(0,-1).join(", ")+" or "+d[a.length-1]:d[0];b=b?'"'+c(b)+'"':"end of input";return"Expected "+a+" but "+b+" found."}null!==c&&k(c);return new b(null!==a?a:h(c,d),c,d,f)}function r(){var a;var b=h;var c=
[];for(a=q();a!==f;)c.push(a),a=q();if(c!==f)if(a=u(),a!==f){c=[];var k=h;var g=[];var n=q();if(n!==f)for(;n!==f;)g.push(n),n=q();else g=f;g!==f?(n=u(),n!==f?k=g=[g,n]:(h=k,k=f)):(h=k,k=f);for(;k!==f;){c.push(k);k=h;g=[];n=q();if(n!==f)for(;n!==f;)g.push(n),n=q();else g=f;g!==f?(n=u(),n!==f?k=g=[g,n]:(h=k,k=f)):(h=k,k=f)}if(c!==f){k=[];for(g=q();g!==f;)k.push(g),g=q();k!==f?(g=z(),g===f&&(g=null),g!==f?(t=b,b=c=d(a,c)):(h=b,b=f)):(h=b,b=f)}else h=b,b=f}else h=b,b=f;else h=b,b=f;return b}function q(){var a=
h;var b=z();b===f&&(b=null);if(b!==f){var c=da();c!==f?a=b=[b,c]:(h=a,a=f)}else h=a,a=f;return a}function u(){var a=h;var b=z();b===f&&(b=null);if(b!==f){var d;var n=h;if(c.substr(h,3)===Ac){var l=Ac;h+=3}else l=f,0===p&&k(Ad);if(l!==f){var m=C();if(m!==f){var q=da();if(q!==f){var u=r();if(u!==f){var Ga=[];for(d=x();d!==f;)Ga.push(d),d=x();if(Ga!==f)if(c.substr(h,3)===N?(d=N,h+=3):(d=f,0===p&&k(xa)),d!==f){t=n;var Y=new Bc(u,m);Ga.unshift(Y);n=l=new Bd(Ga)}else h=n,n=f;else h=n,n=f}else h=n,n=f}else h=
n,n=f}else h=n,n=f}else h=n,n=f;var ca=n;if(ca===f){var R=h;if(c.substr(h,8)===Cc){var M=Cc;h+=8}else M=f,0===p&&k(Cd);if(M!==f){var eb=C();if(eb!==f){var Cb=da();if(Cb!==f){var ua=r();if(ua!==f){if(c.substr(h,3)===N){var wa=N;h+=3}else wa=f,0===p&&k(xa);wa!==f?(t=R,R=M=new ob("Critical",ua,eb)):(h=R,R=f)}else h=R,R=f}else h=R,R=f}else h=R,R=f}else h=R,R=f;ca=R;if(ca===f){var S=h;if(c.substr(h,5)===Dc){var ta=Dc;h+=5}else ta=f,0===p&&k(Dd);if(ta!==f){var Ma=C();if(Ma!==f){var Na=da();if(Na!==f){var Oa=
r();if(Oa!==f){if(c.substr(h,3)===N){var Ha=N;h+=3}else Ha=f,0===p&&k(xa);Ha!==f?(t=S,lucid.kissMetrics.record(lucid.kissMetrics.Events.umlSequenceMarkupNamedGroups),g(i18n.get("plugin-umlparser-no-named-groups")),S=ta=void 0):(h=S,S=f)}else h=S,S=f}else h=S,S=f}else h=S,S=f}else h=S,S=f;ca=S;if(ca===f){var T=h;if(c.substr(h,4)===Ec){var va=Ec;h+=4}else va=f,0===p&&k(Ed);if(va!==f){var Ja=C();if(Ja!==f){var nb=da();if(nb!==f){var Ya=r();if(Ya!==f){if(c.substr(h,3)===N){var Za=N;h+=3}else Za=f,0===
p&&k(xa);Za!==f?(t=T,T=va=new ob("Loop",Ya,Ja)):(h=T,T=f)}else h=T,T=f}else h=T,T=f}else h=T,T=f}else h=T,T=f;ca=T;if(ca===f){var U=h;if(c.substr(h,3)===Fc){var Hb=Fc;h+=3}else Hb=f,0===p&&k(Fd);if(Hb!==f){var $a=C();if($a!==f){var Ab=da();if(Ab!==f){var ab=r();if(ab!==f){if(c.substr(h,3)===N){var bb=N;h+=3}else bb=f,0===p&&k(xa);bb!==f?(t=U,U=Hb=new ob("Opt",ab,$a)):(h=U,U=f)}else h=U,U=f}else h=U,U=f}else h=U,U=f}else h=U,U=f;ca=U;if(ca===f){var V=h;if(c.substr(h,3)===Gc){var Ib=Gc;h+=3}else Ib=
f,0===p&&k(Gd);if(Ib!==f){var cb=C();if(cb!==f){var Bb=da();if(Bb!==f){var db=r();if(db!==f){if(c.substr(h,3)===N){var fb=N;h+=3}else fb=f,0===p&&k(xa);fb!==f?(t=V,V=Ib=new ob("Par",db,cb)):(h=V,V=f)}else h=V,V=f}else h=V,V=f}else h=V,V=f}else h=V,V=f;ca=V}}}}}var D=ca;if(D===f){var F=h;var Jb=w();if(Jb!==f){var Kb=z();Kb===f&&(Kb=null);if(Kb!==f){var ha=h;var ya=h;if(c.substr(h,2)===Hc){var ia=Hc;h+=2}else ia=f,0===p&&k(Hd);ia!==f&&(t=ya,ia=Ka.open);ya=ia;ya===f&&(ya=h,60===c.charCodeAt(h)?(ia=Id,
h++):(ia=f,0===p&&k(Jd)),ia!==f&&(t=ya,ia=Ka.closed),ya=ia);var Ra=ya;Ra===f&&(Ra=null);if(Ra!==f){var za=h;if(c.substr(h,2)===Ic){var ja=Ic;h+=2}else ja=f,0===p&&k(Kd);ja!==f&&(t=za,ja=Jc.dash);za=ja;za===f&&(za=h,45===c.charCodeAt(h)?(ja=Kc,h++):(ja=f,0===p&&k(Lc)),ja!==f&&(t=za,ja=Jc.solid),za=ja);var gb=za;if(gb!==f){var Aa=h;if(c.substr(h,2)===Mc){var ka=Mc;h+=2}else ka=f,0===p&&k(Ld);ka!==f&&(t=Aa,ka=Ka.open);Aa=ka;Aa===f&&(Aa=h,62===c.charCodeAt(h)?(ka=Md,h++):(ka=f,0===p&&k(Nd)),ka!==f&&(t=
Aa,ka=Ka.closed),Aa=ka);var pb=Aa;pb===f&&(pb=null);pb!==f?(t=ha,ha=Ra=new Od(gb,Ra||Ka.none,pb||Ka.none)):(h=ha,ha=f)}else h=ha,ha=f}else h=ha,ha=f;var hb=ha;if(hb!==f){var Lb=z();Lb===f&&(Lb=null);if(Lb!==f){var ib=w();if(ib!==f){var Mb=z();Mb===f&&(Mb=null);if(Mb!==f){var la=h;if(58===c.charCodeAt(h)){var Nb=Nc;h++}else Nb=f,0===p&&k(Oc);if(Nb!==f){var Ob=z();Ob===f&&(Ob=null);if(Ob!==f){var jb=C();jb!==f?(t=la,la=Nb=jb):(h=la,la=f)}else h=la,la=f}else h=la,la=f;var qb=la;qb===f&&(qb=null);qb!==
f?(t=F,F=Jb=new Pd(Jb,ib,hb,qb)):(h=F,F=f)}else h=F,F=f}else h=F,F=f}else h=F,F=f}else h=F,F=f}else h=F,F=f}else h=F,F=f;D=F;if(D===f){var ea=h;if(c.substr(h,11)===Pc){var kb=Pc;h+=11}else kb=f,0===p&&k(Qd);var lb=kb;if(lb!==f){var Db=z();if(Db!==f){var mb=B();if(mb!==f){var rb=aa();rb===f&&(rb=null);rb!==f?(t=ea,ea=lb=new Rd(mb,rb)):(h=ea,ea=f)}else h=ea,ea=f}else h=ea,ea=f}else h=ea,ea=f;var Pb=ea;if(Pb===f){var fa=h;if(c.substr(h,5)===Qc){var O=Qc;h+=5}else O=f,0===p&&k(Sd);O===f&&(c.substr(h,
8)===Rc?(O=Rc,h+=8):(O=f,0===p&&k(Td)),O===f&&(c.substr(h,7)===Sc?(O=Sc,h+=7):(O=f,0===p&&k(Ud)),O===f&&(c.substr(h,6)===Tc?(O=Tc,h+=6):(O=f,0===p&&k(Vd)),O===f&&(c.substr(h,8)===Uc?(O=Uc,h+=8):(O=f,0===p&&k(Wd))))));var Qb=O;if(Qb!==f){var Gb=z();if(Gb!==f){var kc=B();if(kc!==f){var Rb=aa();Rb===f&&(Rb=null);Rb!==f?(t=fa,g(i18n.get("plugin-umlparser-no-participant-type",{participantType:Qb})),fa=Qb=void 0):(h=fa,fa=f)}else h=fa,fa=f}else h=fa,fa=f}else h=fa,fa=f;Pb=fa}D=Pb;if(D===f){var lc=h;if(c.substr(h,
9)===Vc){var Sa=Vc;h+=9}else Sa=f,0===p&&k(Xd);Sa===f&&(c.substr(h,7)===Wc?(Sa=Wc,h+=7):(Sa=f,0===p&&k(Yd)));var Sb=Sa;Sb!==f&&(t=lc,Sb=new Zd);D=Sb;if(D===f){var J=h;if(c.substr(h,4)===La){var Tb=La;h+=4}else Tb=f,0===p&&k(Ub);if(Tb!==f){var mc=z();if(mc!==f){var Xc=y();if(Xc!==f){var Vb=z();Vb===f&&(Vb=null);if(Vb!==f){if(58===c.charCodeAt(h)){var Yc=Nc;h++}else Yc=f,0===p&&k(Oc);if(Yc!==f){var Zc=C();Zc!==f?(t=J,J=Tb=Xc.toNote(Zc)):(h=J,J=f)}else h=J,J=f}else h=J,J=f}else h=J,J=f}else h=J,J=f}else h=
J,J=f;var Wb=J;if(Wb===f){var K=h;if(c.substr(h,4)===La){var Xb=La;h+=4}else Xb=f,0===p&&k(Ub);if(Xb!==f){var nc=z();if(nc!==f){var $c=y();if($c!==f){var oc=da();if(oc!==f){var pc=h;var Ta=[];var L=h;var Ua=Ia();if(Ua!==f){var Yb=da();Yb!==f?(t=L,L=Ua):(h=L,L=f)}else h=L,L=f;for(;L!==f;)Ta.push(L),L=h,Ua=Ia(),Ua!==f?(Yb=da(),Yb!==f?(t=L,L=Ua):(h=L,L=f)):(h=L,L=f);Ta!==f&&(t=pc,Ta=Ta.join("\n"));var ad=Ta;if(ad!==f){var qa=h;if(c.substr(h,3)===N){var sb=N;h+=3}else sb=f,0===p&&k(xa);if(sb!==f){var bd=
z();if(bd!==f){if(c.substr(h,4)===La){var Zb=La;h+=4}else Zb=f,0===p&&k(Ub);Zb!==f?qa=sb=[sb,bd,Zb]:(h=qa,qa=f)}else h=qa,qa=f}else h=qa,qa=f;var qc=qa;qc!==f?(t=K,K=Xb=$c.toNote(ad)):(h=K,K=f)}else h=K,K=f}else h=K,K=f}else h=K,K=f}else h=K,K=f}else h=K,K=f;Wb=K}D=Wb;if(D===f){var tb;p++;var ra=h;if(c.substr(h,5)===cd){var $b=cd;h+=5}else $b=f,0===p&&k($d);if($b!==f){var dd=[];for(tb=Ba();tb!==f;)dd.push(tb),tb=Ba();dd!==f?(t=ra,lucid.kissMetrics.record(lucid.kissMetrics.Events.umlSequenceMarkupTitle),
g(i18n.get("plugin-umlparser-no-title")),ra=$b=void 0):(h=ra,ra=f)}else h=ra,ra=f;p--;ra===f&&0===p&&k(ae);D=ra;if(D===f){var ub;p++;var sa=h;if(c.substr(h,7)===ed){var ac=ed;h+=7}else ac=f,0===p&&k(be);if(ac!==f){var fd=[];for(ub=Ba();ub!==f;)fd.push(ub),ub=Ba();fd!==f?(t=sa,lucid.kissMetrics.record(lucid.kissMetrics.Events.umlSequenceMarkupCaption),g(i18n.get("plugin-umlparser-no-caption")),sa=ac=void 0):(h=sa,sa=f)}else h=sa,sa=f;p--;sa===f&&0===p&&k(ce);D=sa;if(D===f){var ma=h;if(c.substr(h,8)===
gd){var bc=gd;h+=8}else bc=f,0===p&&k(de);if(bc!==f){var rc=z();if(rc!==f){var hd=B();hd!==f?(t=ma,ma=bc=new ee(hd)):(h=ma,ma=f)}else h=ma,ma=f}else h=ma,ma=f;var Va=ma;if(Va===f){var na=h;if(c.substr(h,10)===id){var cc=id;h+=10}else cc=f,0===p&&k(fe);if(cc!==f){var sc=z();if(sc!==f){var jd=B();jd!==f?(t=na,na=cc=new ge(jd)):(h=na,na=f)}else h=na,na=f}else h=na,na=f;Va=na;if(Va===f){var oa=h;if(c.substr(h,7)===kd){var dc=kd;h+=7}else dc=f,0===p&&k(he);if(dc!==f){var tc=z();if(tc!==f){var uc=B();uc!==
f?(t=oa,lucid.kissMetrics.record(lucid.kissMetrics.Events.umlSequenceMarkupDestroy),g(i18n.get("plugin-umlparser-no-destruction")),oa=dc=void 0):(h=oa,oa=f)}else h=oa,oa=f}else h=oa,oa=f;Va=oa}}D=Va;if(D===f){var vc=h;if(c.substr(h,15)===ld){var vb=ld;h+=15}else vb=f,0===p&&k(ie);vb!==f&&(t=vc,vb=new je);var Wa=vb;if(Wa===f){var Ca=h;if(c.substr(h,17)===md){var ec=md;h+=17}else ec=f,0===p&&k(ke);if(ec!==f){var wb=ba();wb===f&&(wb=null);if(wb!==f){t=Ca;var xb=wb;xb=xb||[];Ca=ec=new le(xb[0],xb[1])}else h=
Ca,Ca=f}else h=Ca,Ca=f;Wa=Ca;if(Wa===f){var Da=h;if(c.substr(h,10)===nd){var fc=nd;h+=10}else fc=f,0===p&&k(me);if(fc!==f){var pa=h;var od=z();if(od!==f){var pd=G();if(pd!==f){var yb=ba();yb===f&&(yb=null);yb!==f?(t=pa,pa=od=[pd].concat(yb)):(h=pa,pa=f)}else h=pa,pa=f}else h=pa,pa=f;var zb=pa;zb===f&&(zb=null);if(zb!==f){t=Da;var Xa=zb;Xa=Xa||[];Da=fc=new ne(Xa[0],Xa[1],Xa[2])}else h=Da,Da=f}else h=Da,Da=f;Wa=Da}}D=Wa;if(D===f){var Ea=h;if(c.substr(h,7)===qd){var gc=qd;h+=7}else gc=f,0===p&&k(oe);
if(gc!==f){var hc=C();hc===f&&(hc=null);hc!==f?(t=Ea,lucid.kissMetrics.record(lucid.kissMetrics.Events.umlSequenceMarkupPageSplit),g(i18n.get("plugin-umlparser-no-page-splits")),Ea=gc=void 0):(h=Ea,Ea=f)}else h=Ea,Ea=f;D=Ea;if(D===f){var Fa=h;if(33===c.charCodeAt(h)){var ic=pe;h++}else ic=f,0===p&&k(qe);if(ic!==f){var wc=C();wc!==f?(t=Fa,lucid.kissMetrics.record(lucid.kissMetrics.Events.umlSequenceMarkupPreprocessingDirective),g(i18n.get("plugin-umlparser-no-preprecessing-directives")),Fa=ic=void 0):
(h=Fa,Fa=f)}else h=Fa,Fa=f;D=Fa}}}}}}}}}}if(D!==f){var jc=z();jc===f&&(jc=null);jc!==f?(t=a,a=b=D):(h=a,a=f)}else h=a,a=f}else h=a,a=f;return a}function x(){var a=h;if(c.substr(h,4)===Ya){var b=Ya;h+=4}else b=f,0===p&&k(kc);if(b!==f)if(b=C(),b!==f){var d=da();d!==f?(d=r(),d!==f?(t=a,a=b=new Bc(d,b)):(h=a,a=f)):(h=a,a=f)}else h=a,a=f;else h=a,a=f;return a}function w(){p++;var a=h;if(91===c.charCodeAt(h)){var b=lc;h++}else b=f,0===p&&k(mc);b===f&&(93===c.charCodeAt(h)?(b=nc,h++):(b=f,0===p&&k(oc)));
b!==f&&(t=a,lucid.kissMetrics.record(lucid.kissMetrics.Events.umlSequenceMarkupExternalArrows),g(i18n.get("plugin-umlparser-no-external-arrows")),b=void 0);a=b;a===f&&(a=h,b=B(),b!==f?(b=aa(),b!==f?(t=a,lucid.kissMetrics.record(lucid.kissMetrics.Events.umlSequenceMarkupAliasOutsideParticipantDeclaration),g(i18n.get("plugin-umlparser-no-alias-outside")),a=void 0):(h=a,a=f)):(h=a,a=f),a===f&&(a=h,b=B(),b!==f&&(t=a),a=b));p--;a===f&&0===p&&k(Za);return a}function aa(){var a=h;var b=z();if(b!==f)if(c.substr(h,
2)===ta?(b=ta,h+=2):(b=f,0===p&&k($a)),b!==f)if(b=z(),b!==f)if(b=B(),b!==f){var d=Ba();d!==f?(t=a,g(i18n.get("plugin-umlparser-bad-alias",{aliasPartial:b})),a=void 0):(h=a,a=f)}else h=a,a=f;else h=a,a=f;else h=a,a=f;else h=a,a=f;a===f&&(a=h,b=z(),b!==f?(c.substr(h,2)===ta?(b=ta,h+=2):(b=f,0===p&&k($a)),b!==f?(b=z(),b!==f?(b=B(),b!==f?(t=a,a=b):(h=a,a=f)):(h=a,a=f)):(h=a,a=f)):(h=a,a=f));return a}function ba(){var a=h;var b=z();if(b!==f)if(b=G(),b!==f){var c=h;var d=Y();d!==f&&(t=c,lucid.kissMetrics.record(lucid.kissMetrics.Events.umlSequenceMarkupFormattedAutonumberStrings),
g(i18n.get("plugin-umlparser-no-formatted-autonumber")),d=void 0);c=d;c===f&&(c=null);c!==f?(t=a,a=b=[b,c]):(h=a,a=f)}else h=a,a=f;else h=a,a=f;return a}function y(){var b=h;if(c.substr(h,4)===Ab){var d=Ab;h+=4}else d=f,0===p&&k(pc);if(d!==f)if(d=z(),d!==f){d=h;var g=B();if(g!==f){var n=[];var l=h;var m=z();m===f&&(m=null);if(m!==f){if(44===c.charCodeAt(h)){var q=ab;h++}else q=f,0===p&&k(bb);if(q!==f){var r=z();r===f&&(r=null);if(r!==f){var u=B();u!==f?l=m=[m,q,r,u]:(h=l,l=f)}else h=l,l=f}else h=
l,l=f}else h=l,l=f;for(;l!==f;)n.push(l),l=h,m=z(),m===f&&(m=null),m!==f?(44===c.charCodeAt(h)?(q=ab,h++):(q=f,0===p&&k(bb)),q!==f?(r=z(),r===f&&(r=null),r!==f?(u=B(),u!==f?l=m=[m,q,r,u]:(h=l,l=f)):(h=l,l=f)):(h=l,l=f)):(h=l,l=f);n!==f?(t=d,d=g=a(g,n)):(h=d,d=f)}else h=d,d=f;d!==f?(t=b,b=d=new ua.OverBlockNote(d)):(h=b,b=f)}else h=b,b=f;else h=b,b=f;b===f&&(b=h,c.substr(h,4)===Ma?(d=Ma,h+=4):(d=f,0===p&&k(cb)),d!==f?(d=z(),d!==f?(c.substr(h,2)===Na?(d=Na,h+=2):(d=f,0===p&&k(Bb)),d!==f?(d=z(),d!==
f?(d=B(),d!==f?(t=b,b=d=new ua.LeftBlockNote(d)):(h=b,b=f)):(h=b,b=f)):(h=b,b=f)):(h=b,b=f)):(h=b,b=f),b===f&&(b=h,c.substr(h,5)===Oa?(d=Oa,h+=5):(d=f,0===p&&k(db)),d!==f?(d=z(),d!==f?(c.substr(h,2)===Na?(d=Na,h+=2):(d=f,0===p&&k(Bb)),d!==f?(d=z(),d!==f?(d=B(),d!==f?(t=b,b=d=new ua.RightBlockNote(d)):(h=b,b=f)):(h=b,b=f)):(h=b,b=f)):(h=b,b=f)):(h=b,b=f),b===f&&(b=h,c.substr(h,4)===Ma?(d=Ma,h+=4):(d=f,0===p&&k(cb)),d!==f&&(t=b,d=new ua.LeftInlineNote),b=d,b===f&&(b=h,c.substr(h,5)===Oa?(d=Oa,h+=5):
(d=f,0===p&&k(db)),d!==f&&(t=b,d=new ua.RightInlineNote),b=d))));return b}function Ia(){var a=h;var b=C();b!==f&&(t=a,a=b,b=/^\s*end\s+note\s*$/.test(a)?f:a.trim());return b}function B(){var a;p++;var b=h;p++;p++;if(qc.test(c.charAt(h))){var d=c.charAt(h);h++}else d=f,0===p&&k(rc);p--;d===f&&0===p&&k(sc);d===f&&(d=Cb());p--;d===f&&0===p&&k(tc);if(d!==f){var g=[];for(a=Ga();a!==f;)g.push(a),a=Ga();g!==f?(t=b,b=d=Ha(d,g)):(h=b,b=f)}else h=b,b=f;b===f&&(b=Y());p--;b===f&&0===p&&k(Za);return b}function C(){var a;
p++;var b=h;var c=[];for(a=Ba();a!==f;)c.push(a),a=Ba();c!==f&&(t=b,c=Ha(c));b=c;p--;b===f&&0===p&&k(uc);return b}function G(){p++;var a=h;if(45===c.charCodeAt(h)){var b=Kc;h++}else b=f,0===p&&k(Lc);b===f&&(b=null);if(b!==f){var d=[];var g=eb();if(g!==f)for(;g!==f;)d.push(g),g=eb();else d=f;d!==f?(t=a,a=b=parseInt(Ha(b,d),10)):(h=a,a=f)}else h=a,a=f;p--;a===f&&0===p&&k(vc);return a}function Y(){p++;var a=h;var b=fb();if(b!==f){b=[];if(gb.test(c.charAt(h))){var d=c.charAt(h);h++}else d=f,0===p&&k(hb);
if(d!==f)for(;d!==f;)b.push(d),gb.test(c.charAt(h))?(d=c.charAt(h),h++):(d=f,0===p&&k(hb));else b=f;b!==f?(d=fb(),d!==f?(t=a,a=b=Ha(b)):(h=a,a=f)):(h=a,a=f)}else h=a,a=f;p--;a===f&&0===p&&k(wc);return a}function Ga(){p++;p++;if(re.test(c.charAt(h))){var a=c.charAt(h);h++}else a=f,0===p&&k(se);p--;a===f&&0===p&&k(te);a===f&&(a=Cb(),a===f&&(ue.test(c.charAt(h))?(a=c.charAt(h),h++):(a=f,0===p&&k(ve)),a===f&&(we.test(c.charAt(h))?(a=c.charAt(h),h++):(a=f,0===p&&k(xe)))));p--;a===f&&0===p&&k(ye);return a}
function Cb(){if(ze.test(c.charAt(h))){var a=c.charAt(h);h++}else a=f,0===p&&k(Ae);a===f&&(Be.test(c.charAt(h))?(a=c.charAt(h),h++):(a=f,0===p&&k(Ce)),a===f&&(De.test(c.charAt(h))?(a=c.charAt(h),h++):(a=f,0===p&&k(Ee)),a===f&&(Fe.test(c.charAt(h))?(a=c.charAt(h),h++):(a=f,0===p&&k(Ge)))));return a}function eb(){p++;if(He.test(c.charAt(h))){var a=c.charAt(h);h++}else a=f,0===p&&k(Ie);p--;a===f&&0===p&&k(Je);return a}function da(){p++;var a=[];if(ib.test(c.charAt(h))){var b=c.charAt(h);h++}else b=f,
0===p&&k(jb);if(b!==f)for(;b!==f;)a.push(b),ib.test(c.charAt(h))?(b=c.charAt(h),h++):(b=f,0===p&&k(jb));else a=f;p--;a===f&&0===p&&k(Ke);return a}function Ba(){p++;if(Le.test(c.charAt(h))){var a=c.charAt(h);h++}else a=f,0===p&&k(Me);p--;a===f&&0===p&&k(Ne);return a}function z(){p++;var a=[];if(kb.test(c.charAt(h))){var b=c.charAt(h);h++}else b=f,0===p&&k(lb);if(b!==f)for(;b!==f;)a.push(b),kb.test(c.charAt(h))?(b=c.charAt(h),h++):(b=f,0===p&&k(lb));else a=f;p--;a===f&&0===p&&k(Oe);return a}function fb(){p++;
if(Pe.test(c.charAt(h))){var a=c.charAt(h);h++}else a=f,0===p&&k(Qe);p--;a===f&&0===p&&k(Re);return a}function Ha(){return(1===arguments.length?[arguments[0]]:Array.apply(null,arguments)).map(function(a){return Array.isArray(a)?a.join(""):"string"==typeof a?a:""}).join("")}var va=1<arguments.length?arguments[1]:{},f={},Db={diagram:r},mb=r,Cc="critical",Cd={type:"literal",value:"critical",description:'"critical"'},N="end",xa={type:"literal",value:"end",description:'"end"'},Ec="loop",Ed={type:"literal",
value:"loop",description:'"loop"'},Fc="opt",Fd={type:"literal",value:"opt",description:'"opt"'},Gc="par",Gd={type:"literal",value:"par",description:'"par"'},Dc="group",Dd={type:"literal",value:"group",description:'"group"'},Ac="alt",Ad={type:"literal",value:"alt",description:'"alt"'},Ya="else",kc={type:"literal",value:"else",description:'"else"'},Vc="@startuml",Xd={type:"literal",value:"@startuml",description:'"@startuml"'},Wc="@enduml",Yd={type:"literal",value:"@enduml",description:'"@enduml"'},
Za={type:"other",description:"identifier"},lc="[",mc={type:"literal",value:"[",description:'"["'},nc="]",oc={type:"literal",value:"]",description:'"]"'},Hc="<<",Hd={type:"literal",value:"<<",description:'"<<"'},Id="<",Jd={type:"literal",value:"<",description:'"<"'},Ic="--",Kd={type:"literal",value:"--",description:'"--"'},Kc="-",Lc={type:"literal",value:"-",description:'"-"'},Mc=">>",Ld={type:"literal",value:">>",description:'">>"'},Md=">",Nd={type:"literal",value:">",description:'">"'},Nc=":",Oc=
{type:"literal",value:":",description:'":"'},Pc="participant",Qd={type:"literal",value:"participant",description:'"participant"'},Qc="actor",Sd={type:"literal",value:"actor",description:'"actor"'},Rc="boundary",Td={type:"literal",value:"boundary",description:'"boundary"'},Sc="control",Ud={type:"literal",value:"control",description:'"control"'},Tc="entity",Vd={type:"literal",value:"entity",description:'"entity"'},Uc="database",Wd={type:"literal",value:"database",description:'"database"'},ta="as",$a=
{type:"literal",value:"as",description:'"as"'},nd="autonumber",me={type:"literal",value:"autonumber",description:'"autonumber"'},ld="autonumber stop",ie={type:"literal",value:"autonumber stop",description:'"autonumber stop"'},md="autonumber resume",ke={type:"literal",value:"autonumber resume",description:'"autonumber resume"'},La="note",Ub={type:"literal",value:"note",description:'"note"'},Ab="over",pc={type:"literal",value:"over",description:'"over"'},Ma="left",cb={type:"literal",value:"left",description:'"left"'},
Na="of",Bb={type:"literal",value:"of",description:'"of"'},Oa="right",db={type:"literal",value:"right",description:'"right"'},ab=",",bb={type:"literal",value:",",description:'","'},ae={type:"other",description:"title"},cd="title",$d={type:"literal",value:"title",description:'"title"'},ce={type:"other",description:"caption"},ed="caption",be={type:"literal",value:"caption",description:'"caption"'},gd="activate",de={type:"literal",value:"activate",description:'"activate"'},id="deactivate",fe={type:"literal",
value:"deactivate",description:'"deactivate"'},kd="destroy",he={type:"literal",value:"destroy",description:'"destroy"'},qd="newpage",oe={type:"literal",value:"newpage",description:'"newpage"'},pe="!",qe={type:"literal",value:"!",description:'"!"'},uc={type:"other",description:"text description"},vc={type:"other",description:"an integer"},wc={type:"other",description:"a quoted string"},gb=/^[^"\r\n]/,hb={type:"class",value:'[^"\\r\\n]',description:'[^"\\r\\n]'},tc={type:"other",description:"a letter"},
ye={type:"other",description:"a letter or number"},sc={type:"other",description:"an ascii letter"},qc=/^[a-zA-Z]/,rc={type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},te={type:"other",description:"an ascii letter or integer"},re=/^[a-zA-Z0-9]/,se={type:"class",value:"[a-zA-Z0-9]",description:"[a-zA-Z0-9]"},Je={type:"other",description:"a number"},He=/^[0-9]/,Ie={type:"class",value:"[0-9]",description:"[0-9]"},Ke={type:"other",description:"a new line"},ib=/^[\r\n]/,jb={type:"class",value:"[\\r\\n]",
description:"[\\r\\n]"},Ne={type:"other",description:"any character except a new line"},Le=/^[^\r\n]/,Me={type:"class",value:"[^\\r\\n]",description:"[^\\r\\n]"},Oe={type:"other",description:"whitespace"},kb=/^[ \t]/,lb={type:"class",value:"[ \\t]",description:"[ \\t]"},Re={type:"other",description:"a quote"},Pe=/^['"]/,Qe={type:"class",value:"[\\'\\\"]",description:"[\\'\\\"]"},ze=/^[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137-\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148-\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C-\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA-\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC-\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF-\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F-\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0-\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB-\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE-\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0561-\u0587\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FC7\u1FD0-\u1FD3\u1FD6-\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6-\u1FF7\u210A\u210E-\u210F\u2113\u212F\u2134\u2139\u213C-\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65-\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73-\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3-\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7FA\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]/,
Ae={type:"class",value:"[\\u0061-\\u007A\\u00B5\\u00DF-\\u00F6\\u00F8-\\u00FF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137-\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148-\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C-\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA-\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9-\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC-\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF-\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F-\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F-\\u0293\\u0295-\\u02AF\\u0371\\u0373\\u0377\\u037B-\\u037D\\u0390\\u03AC-\\u03CE\\u03D0-\\u03D1\\u03D5-\\u03D7\\u03D9\\u03DB\\u03DD\\u03DF\\u03E1\\u03E3\\u03E5\\u03E7\\u03E9\\u03EB\\u03ED\\u03EF-\\u03F3\\u03F5\\u03F8\\u03FB-\\u03FC\\u0430-\\u045F\\u0461\\u0463\\u0465\\u0467\\u0469\\u046B\\u046D\\u046F\\u0471\\u0473\\u0475\\u0477\\u0479\\u047B\\u047D\\u047F\\u0481\\u048B\\u048D\\u048F\\u0491\\u0493\\u0495\\u0497\\u0499\\u049B\\u049D\\u049F\\u04A1\\u04A3\\u04A5\\u04A7\\u04A9\\u04AB\\u04AD\\u04AF\\u04B1\\u04B3\\u04B5\\u04B7\\u04B9\\u04BB\\u04BD\\u04BF\\u04C2\\u04C4\\u04C6\\u04C8\\u04CA\\u04CC\\u04CE-\\u04CF\\u04D1\\u04D3\\u04D5\\u04D7\\u04D9\\u04DB\\u04DD\\u04DF\\u04E1\\u04E3\\u04E5\\u04E7\\u04E9\\u04EB\\u04ED\\u04EF\\u04F1\\u04F3\\u04F5\\u04F7\\u04F9\\u04FB\\u04FD\\u04FF\\u0501\\u0503\\u0505\\u0507\\u0509\\u050B\\u050D\\u050F\\u0511\\u0513\\u0515\\u0517\\u0519\\u051B\\u051D\\u051F\\u0521\\u0523\\u0525\\u0527\\u0561-\\u0587\\u1D00-\\u1D2B\\u1D6B-\\u1D77\\u1D79-\\u1D9A\\u1E01\\u1E03\\u1E05\\u1E07\\u1E09\\u1E0B\\u1E0D\\u1E0F\\u1E11\\u1E13\\u1E15\\u1E17\\u1E19\\u1E1B\\u1E1D\\u1E1F\\u1E21\\u1E23\\u1E25\\u1E27\\u1E29\\u1E2B\\u1E2D\\u1E2F\\u1E31\\u1E33\\u1E35\\u1E37\\u1E39\\u1E3B\\u1E3D\\u1E3F\\u1E41\\u1E43\\u1E45\\u1E47\\u1E49\\u1E4B\\u1E4D\\u1E4F\\u1E51\\u1E53\\u1E55\\u1E57\\u1E59\\u1E5B\\u1E5D\\u1E5F\\u1E61\\u1E63\\u1E65\\u1E67\\u1E69\\u1E6B\\u1E6D\\u1E6F\\u1E71\\u1E73\\u1E75\\u1E77\\u1E79\\u1E7B\\u1E7D\\u1E7F\\u1E81\\u1E83\\u1E85\\u1E87\\u1E89\\u1E8B\\u1E8D\\u1E8F\\u1E91\\u1E93\\u1E95-\\u1E9D\\u1E9F\\u1EA1\\u1EA3\\u1EA5\\u1EA7\\u1EA9\\u1EAB\\u1EAD\\u1EAF\\u1EB1\\u1EB3\\u1EB5\\u1EB7\\u1EB9\\u1EBB\\u1EBD\\u1EBF\\u1EC1\\u1EC3\\u1EC5\\u1EC7\\u1EC9\\u1ECB\\u1ECD\\u1ECF\\u1ED1\\u1ED3\\u1ED5\\u1ED7\\u1ED9\\u1EDB\\u1EDD\\u1EDF\\u1EE1\\u1EE3\\u1EE5\\u1EE7\\u1EE9\\u1EEB\\u1EED\\u1EEF\\u1EF1\\u1EF3\\u1EF5\\u1EF7\\u1EF9\\u1EFB\\u1EFD\\u1EFF-\\u1F07\\u1F10-\\u1F15\\u1F20-\\u1F27\\u1F30-\\u1F37\\u1F40-\\u1F45\\u1F50-\\u1F57\\u1F60-\\u1F67\\u1F70-\\u1F7D\\u1F80-\\u1F87\\u1F90-\\u1F97\\u1FA0-\\u1FA7\\u1FB0-\\u1FB4\\u1FB6-\\u1FB7\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FC7\\u1FD0-\\u1FD3\\u1FD6-\\u1FD7\\u1FE0-\\u1FE7\\u1FF2-\\u1FF4\\u1FF6-\\u1FF7\\u210A\\u210E-\\u210F\\u2113\\u212F\\u2134\\u2139\\u213C-\\u213D\\u2146-\\u2149\\u214E\\u2184\\u2C30-\\u2C5E\\u2C61\\u2C65-\\u2C66\\u2C68\\u2C6A\\u2C6C\\u2C71\\u2C73-\\u2C74\\u2C76-\\u2C7B\\u2C81\\u2C83\\u2C85\\u2C87\\u2C89\\u2C8B\\u2C8D\\u2C8F\\u2C91\\u2C93\\u2C95\\u2C97\\u2C99\\u2C9B\\u2C9D\\u2C9F\\u2CA1\\u2CA3\\u2CA5\\u2CA7\\u2CA9\\u2CAB\\u2CAD\\u2CAF\\u2CB1\\u2CB3\\u2CB5\\u2CB7\\u2CB9\\u2CBB\\u2CBD\\u2CBF\\u2CC1\\u2CC3\\u2CC5\\u2CC7\\u2CC9\\u2CCB\\u2CCD\\u2CCF\\u2CD1\\u2CD3\\u2CD5\\u2CD7\\u2CD9\\u2CDB\\u2CDD\\u2CDF\\u2CE1\\u2CE3-\\u2CE4\\u2CEC\\u2CEE\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\uA641\\uA643\\uA645\\uA647\\uA649\\uA64B\\uA64D\\uA64F\\uA651\\uA653\\uA655\\uA657\\uA659\\uA65B\\uA65D\\uA65F\\uA661\\uA663\\uA665\\uA667\\uA669\\uA66B\\uA66D\\uA681\\uA683\\uA685\\uA687\\uA689\\uA68B\\uA68D\\uA68F\\uA691\\uA693\\uA695\\uA697\\uA723\\uA725\\uA727\\uA729\\uA72B\\uA72D\\uA72F-\\uA731\\uA733\\uA735\\uA737\\uA739\\uA73B\\uA73D\\uA73F\\uA741\\uA743\\uA745\\uA747\\uA749\\uA74B\\uA74D\\uA74F\\uA751\\uA753\\uA755\\uA757\\uA759\\uA75B\\uA75D\\uA75F\\uA761\\uA763\\uA765\\uA767\\uA769\\uA76B\\uA76D\\uA76F\\uA771-\\uA778\\uA77A\\uA77C\\uA77F\\uA781\\uA783\\uA785\\uA787\\uA78C\\uA78E\\uA791\\uA793\\uA7A1\\uA7A3\\uA7A5\\uA7A7\\uA7A9\\uA7FA\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFF41-\\uFF5A]",
description:"[\\u0061-\\u007A\\u00B5\\u00DF-\\u00F6\\u00F8-\\u00FF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137-\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148-\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C-\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA-\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9-\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC-\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF-\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F-\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F-\\u0293\\u0295-\\u02AF\\u0371\\u0373\\u0377\\u037B-\\u037D\\u0390\\u03AC-\\u03CE\\u03D0-\\u03D1\\u03D5-\\u03D7\\u03D9\\u03DB\\u03DD\\u03DF\\u03E1\\u03E3\\u03E5\\u03E7\\u03E9\\u03EB\\u03ED\\u03EF-\\u03F3\\u03F5\\u03F8\\u03FB-\\u03FC\\u0430-\\u045F\\u0461\\u0463\\u0465\\u0467\\u0469\\u046B\\u046D\\u046F\\u0471\\u0473\\u0475\\u0477\\u0479\\u047B\\u047D\\u047F\\u0481\\u048B\\u048D\\u048F\\u0491\\u0493\\u0495\\u0497\\u0499\\u049B\\u049D\\u049F\\u04A1\\u04A3\\u04A5\\u04A7\\u04A9\\u04AB\\u04AD\\u04AF\\u04B1\\u04B3\\u04B5\\u04B7\\u04B9\\u04BB\\u04BD\\u04BF\\u04C2\\u04C4\\u04C6\\u04C8\\u04CA\\u04CC\\u04CE-\\u04CF\\u04D1\\u04D3\\u04D5\\u04D7\\u04D9\\u04DB\\u04DD\\u04DF\\u04E1\\u04E3\\u04E5\\u04E7\\u04E9\\u04EB\\u04ED\\u04EF\\u04F1\\u04F3\\u04F5\\u04F7\\u04F9\\u04FB\\u04FD\\u04FF\\u0501\\u0503\\u0505\\u0507\\u0509\\u050B\\u050D\\u050F\\u0511\\u0513\\u0515\\u0517\\u0519\\u051B\\u051D\\u051F\\u0521\\u0523\\u0525\\u0527\\u0561-\\u0587\\u1D00-\\u1D2B\\u1D6B-\\u1D77\\u1D79-\\u1D9A\\u1E01\\u1E03\\u1E05\\u1E07\\u1E09\\u1E0B\\u1E0D\\u1E0F\\u1E11\\u1E13\\u1E15\\u1E17\\u1E19\\u1E1B\\u1E1D\\u1E1F\\u1E21\\u1E23\\u1E25\\u1E27\\u1E29\\u1E2B\\u1E2D\\u1E2F\\u1E31\\u1E33\\u1E35\\u1E37\\u1E39\\u1E3B\\u1E3D\\u1E3F\\u1E41\\u1E43\\u1E45\\u1E47\\u1E49\\u1E4B\\u1E4D\\u1E4F\\u1E51\\u1E53\\u1E55\\u1E57\\u1E59\\u1E5B\\u1E5D\\u1E5F\\u1E61\\u1E63\\u1E65\\u1E67\\u1E69\\u1E6B\\u1E6D\\u1E6F\\u1E71\\u1E73\\u1E75\\u1E77\\u1E79\\u1E7B\\u1E7D\\u1E7F\\u1E81\\u1E83\\u1E85\\u1E87\\u1E89\\u1E8B\\u1E8D\\u1E8F\\u1E91\\u1E93\\u1E95-\\u1E9D\\u1E9F\\u1EA1\\u1EA3\\u1EA5\\u1EA7\\u1EA9\\u1EAB\\u1EAD\\u1EAF\\u1EB1\\u1EB3\\u1EB5\\u1EB7\\u1EB9\\u1EBB\\u1EBD\\u1EBF\\u1EC1\\u1EC3\\u1EC5\\u1EC7\\u1EC9\\u1ECB\\u1ECD\\u1ECF\\u1ED1\\u1ED3\\u1ED5\\u1ED7\\u1ED9\\u1EDB\\u1EDD\\u1EDF\\u1EE1\\u1EE3\\u1EE5\\u1EE7\\u1EE9\\u1EEB\\u1EED\\u1EEF\\u1EF1\\u1EF3\\u1EF5\\u1EF7\\u1EF9\\u1EFB\\u1EFD\\u1EFF-\\u1F07\\u1F10-\\u1F15\\u1F20-\\u1F27\\u1F30-\\u1F37\\u1F40-\\u1F45\\u1F50-\\u1F57\\u1F60-\\u1F67\\u1F70-\\u1F7D\\u1F80-\\u1F87\\u1F90-\\u1F97\\u1FA0-\\u1FA7\\u1FB0-\\u1FB4\\u1FB6-\\u1FB7\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FC7\\u1FD0-\\u1FD3\\u1FD6-\\u1FD7\\u1FE0-\\u1FE7\\u1FF2-\\u1FF4\\u1FF6-\\u1FF7\\u210A\\u210E-\\u210F\\u2113\\u212F\\u2134\\u2139\\u213C-\\u213D\\u2146-\\u2149\\u214E\\u2184\\u2C30-\\u2C5E\\u2C61\\u2C65-\\u2C66\\u2C68\\u2C6A\\u2C6C\\u2C71\\u2C73-\\u2C74\\u2C76-\\u2C7B\\u2C81\\u2C83\\u2C85\\u2C87\\u2C89\\u2C8B\\u2C8D\\u2C8F\\u2C91\\u2C93\\u2C95\\u2C97\\u2C99\\u2C9B\\u2C9D\\u2C9F\\u2CA1\\u2CA3\\u2CA5\\u2CA7\\u2CA9\\u2CAB\\u2CAD\\u2CAF\\u2CB1\\u2CB3\\u2CB5\\u2CB7\\u2CB9\\u2CBB\\u2CBD\\u2CBF\\u2CC1\\u2CC3\\u2CC5\\u2CC7\\u2CC9\\u2CCB\\u2CCD\\u2CCF\\u2CD1\\u2CD3\\u2CD5\\u2CD7\\u2CD9\\u2CDB\\u2CDD\\u2CDF\\u2CE1\\u2CE3-\\u2CE4\\u2CEC\\u2CEE\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\uA641\\uA643\\uA645\\uA647\\uA649\\uA64B\\uA64D\\uA64F\\uA651\\uA653\\uA655\\uA657\\uA659\\uA65B\\uA65D\\uA65F\\uA661\\uA663\\uA665\\uA667\\uA669\\uA66B\\uA66D\\uA681\\uA683\\uA685\\uA687\\uA689\\uA68B\\uA68D\\uA68F\\uA691\\uA693\\uA695\\uA697\\uA723\\uA725\\uA727\\uA729\\uA72B\\uA72D\\uA72F-\\uA731\\uA733\\uA735\\uA737\\uA739\\uA73B\\uA73D\\uA73F\\uA741\\uA743\\uA745\\uA747\\uA749\\uA74B\\uA74D\\uA74F\\uA751\\uA753\\uA755\\uA757\\uA759\\uA75B\\uA75D\\uA75F\\uA761\\uA763\\uA765\\uA767\\uA769\\uA76B\\uA76D\\uA76F\\uA771-\\uA778\\uA77A\\uA77C\\uA77F\\uA781\\uA783\\uA785\\uA787\\uA78C\\uA78E\\uA791\\uA793\\uA7A1\\uA7A3\\uA7A5\\uA7A7\\uA7A9\\uA7FA\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFF41-\\uFF5A]"},
Be=/^[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0977\u0979-\u097F\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58-\u0C59\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A-\uA62B\uA66E\uA6A0-\uA6E5\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Ce={type:"class",value:"[\\u00AA\\u00BA\\u01BB\\u01C0-\\u01C3\\u0294\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u063F\\u0641-\\u064A\\u066E-\\u066F\\u0671-\\u06D3\\u06D5\\u06EE-\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u0800-\\u0815\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0972-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F-\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC-\\u09DD\\u09DF-\\u09E1\\u09F0-\\u09F1\\u0A05-\\u0A0A\\u0A0F-\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32-\\u0A33\\u0A35-\\u0A36\\u0A38-\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2-\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0-\\u0AE1\\u0B05-\\u0B0C\\u0B0F-\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32-\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C-\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99-\\u0B9A\\u0B9C\\u0B9E-\\u0B9F\\u0BA3-\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58-\\u0C59\\u0C60-\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0-\\u0CE1\\u0CF1-\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32-\\u0E33\\u0E40-\\u0E45\\u0E81-\\u0E82\\u0E84\\u0E87-\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA-\\u0EAB\\u0EAD-\\u0EB0\\u0EB2-\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065-\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10D0-\\u10FA\\u10FD-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17DC\\u1820-\\u1842\\u1844-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE-\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C77\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5-\\u1CF6\\u2135-\\u2138\\u2D30-\\u2D67\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3006\\u303C\\u3041-\\u3096\\u309F\\u30A1-\\u30FA\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA014\\uA016-\\uA48C\\uA4D0-\\uA4F7\\uA500-\\uA60B\\uA610-\\uA61F\\uA62A-\\uA62B\\uA66E\\uA6A0-\\uA6E5\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA6F\\uAA71-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5-\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADC\\uAAE0-\\uAAEA\\uAAF2\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40-\\uFB41\\uFB43-\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF66-\\uFF6F\\uFF71-\\uFF9D\\uFFA0-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]",
description:"[\\u00AA\\u00BA\\u01BB\\u01C0-\\u01C3\\u0294\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u063F\\u0641-\\u064A\\u066E-\\u066F\\u0671-\\u06D3\\u06D5\\u06EE-\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u0800-\\u0815\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0972-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F-\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC-\\u09DD\\u09DF-\\u09E1\\u09F0-\\u09F1\\u0A05-\\u0A0A\\u0A0F-\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32-\\u0A33\\u0A35-\\u0A36\\u0A38-\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2-\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0-\\u0AE1\\u0B05-\\u0B0C\\u0B0F-\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32-\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C-\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99-\\u0B9A\\u0B9C\\u0B9E-\\u0B9F\\u0BA3-\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58-\\u0C59\\u0C60-\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0-\\u0CE1\\u0CF1-\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32-\\u0E33\\u0E40-\\u0E45\\u0E81-\\u0E82\\u0E84\\u0E87-\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA-\\u0EAB\\u0EAD-\\u0EB0\\u0EB2-\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065-\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10D0-\\u10FA\\u10FD-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17DC\\u1820-\\u1842\\u1844-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE-\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C77\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5-\\u1CF6\\u2135-\\u2138\\u2D30-\\u2D67\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3006\\u303C\\u3041-\\u3096\\u309F\\u30A1-\\u30FA\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA014\\uA016-\\uA48C\\uA4D0-\\uA4F7\\uA500-\\uA60B\\uA610-\\uA61F\\uA62A-\\uA62B\\uA66E\\uA6A0-\\uA6E5\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA6F\\uAA71-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5-\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADC\\uAAE0-\\uAAEA\\uAAF2\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40-\\uFB41\\uFB43-\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF66-\\uFF6F\\uFF71-\\uFF9D\\uFFA0-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"},
De=/^[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,Ee={type:"class",value:"[\\u01C5\\u01C8\\u01CB\\u01F2\\u1F88-\\u1F8F\\u1F98-\\u1F9F\\u1FA8-\\u1FAF\\u1FBC\\u1FCC\\u1FFC]",description:"[\\u01C5\\u01C8\\u01CB\\u01F2\\u1F88-\\u1F8F\\u1F98-\\u1F9F\\u1FA8-\\u1FAF\\u1FBC\\u1FCC\\u1FFC]"},Fe=/^[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178-\u0179\u017B\u017D\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018B\u018E-\u0191\u0193-\u0194\u0196-\u0198\u019C-\u019D\u019F-\u01A0\u01A2\u01A4\u01A6-\u01A7\u01A9\u01AC\u01AE-\u01AF\u01B1-\u01B3\u01B5\u01B7-\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A-\u023B\u023D-\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u0386\u0388-\u038A\u038C\u038E-\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9-\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0-\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D-\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA\uFF21-\uFF3A]/,
Ge={type:"class",value:"[\\u0041-\\u005A\\u00C0-\\u00D6\\u00D8-\\u00DE\\u0100\\u0102\\u0104\\u0106\\u0108\\u010A\\u010C\\u010E\\u0110\\u0112\\u0114\\u0116\\u0118\\u011A\\u011C\\u011E\\u0120\\u0122\\u0124\\u0126\\u0128\\u012A\\u012C\\u012E\\u0130\\u0132\\u0134\\u0136\\u0139\\u013B\\u013D\\u013F\\u0141\\u0143\\u0145\\u0147\\u014A\\u014C\\u014E\\u0150\\u0152\\u0154\\u0156\\u0158\\u015A\\u015C\\u015E\\u0160\\u0162\\u0164\\u0166\\u0168\\u016A\\u016C\\u016E\\u0170\\u0172\\u0174\\u0176\\u0178-\\u0179\\u017B\\u017D\\u0181-\\u0182\\u0184\\u0186-\\u0187\\u0189-\\u018B\\u018E-\\u0191\\u0193-\\u0194\\u0196-\\u0198\\u019C-\\u019D\\u019F-\\u01A0\\u01A2\\u01A4\\u01A6-\\u01A7\\u01A9\\u01AC\\u01AE-\\u01AF\\u01B1-\\u01B3\\u01B5\\u01B7-\\u01B8\\u01BC\\u01C4\\u01C7\\u01CA\\u01CD\\u01CF\\u01D1\\u01D3\\u01D5\\u01D7\\u01D9\\u01DB\\u01DE\\u01E0\\u01E2\\u01E4\\u01E6\\u01E8\\u01EA\\u01EC\\u01EE\\u01F1\\u01F4\\u01F6-\\u01F8\\u01FA\\u01FC\\u01FE\\u0200\\u0202\\u0204\\u0206\\u0208\\u020A\\u020C\\u020E\\u0210\\u0212\\u0214\\u0216\\u0218\\u021A\\u021C\\u021E\\u0220\\u0222\\u0224\\u0226\\u0228\\u022A\\u022C\\u022E\\u0230\\u0232\\u023A-\\u023B\\u023D-\\u023E\\u0241\\u0243-\\u0246\\u0248\\u024A\\u024C\\u024E\\u0370\\u0372\\u0376\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u038F\\u0391-\\u03A1\\u03A3-\\u03AB\\u03CF\\u03D2-\\u03D4\\u03D8\\u03DA\\u03DC\\u03DE\\u03E0\\u03E2\\u03E4\\u03E6\\u03E8\\u03EA\\u03EC\\u03EE\\u03F4\\u03F7\\u03F9-\\u03FA\\u03FD-\\u042F\\u0460\\u0462\\u0464\\u0466\\u0468\\u046A\\u046C\\u046E\\u0470\\u0472\\u0474\\u0476\\u0478\\u047A\\u047C\\u047E\\u0480\\u048A\\u048C\\u048E\\u0490\\u0492\\u0494\\u0496\\u0498\\u049A\\u049C\\u049E\\u04A0\\u04A2\\u04A4\\u04A6\\u04A8\\u04AA\\u04AC\\u04AE\\u04B0\\u04B2\\u04B4\\u04B6\\u04B8\\u04BA\\u04BC\\u04BE\\u04C0-\\u04C1\\u04C3\\u04C5\\u04C7\\u04C9\\u04CB\\u04CD\\u04D0\\u04D2\\u04D4\\u04D6\\u04D8\\u04DA\\u04DC\\u04DE\\u04E0\\u04E2\\u04E4\\u04E6\\u04E8\\u04EA\\u04EC\\u04EE\\u04F0\\u04F2\\u04F4\\u04F6\\u04F8\\u04FA\\u04FC\\u04FE\\u0500\\u0502\\u0504\\u0506\\u0508\\u050A\\u050C\\u050E\\u0510\\u0512\\u0514\\u0516\\u0518\\u051A\\u051C\\u051E\\u0520\\u0522\\u0524\\u0526\\u0531-\\u0556\\u10A0-\\u10C5\\u10C7\\u10CD\\u1E00\\u1E02\\u1E04\\u1E06\\u1E08\\u1E0A\\u1E0C\\u1E0E\\u1E10\\u1E12\\u1E14\\u1E16\\u1E18\\u1E1A\\u1E1C\\u1E1E\\u1E20\\u1E22\\u1E24\\u1E26\\u1E28\\u1E2A\\u1E2C\\u1E2E\\u1E30\\u1E32\\u1E34\\u1E36\\u1E38\\u1E3A\\u1E3C\\u1E3E\\u1E40\\u1E42\\u1E44\\u1E46\\u1E48\\u1E4A\\u1E4C\\u1E4E\\u1E50\\u1E52\\u1E54\\u1E56\\u1E58\\u1E5A\\u1E5C\\u1E5E\\u1E60\\u1E62\\u1E64\\u1E66\\u1E68\\u1E6A\\u1E6C\\u1E6E\\u1E70\\u1E72\\u1E74\\u1E76\\u1E78\\u1E7A\\u1E7C\\u1E7E\\u1E80\\u1E82\\u1E84\\u1E86\\u1E88\\u1E8A\\u1E8C\\u1E8E\\u1E90\\u1E92\\u1E94\\u1E9E\\u1EA0\\u1EA2\\u1EA4\\u1EA6\\u1EA8\\u1EAA\\u1EAC\\u1EAE\\u1EB0\\u1EB2\\u1EB4\\u1EB6\\u1EB8\\u1EBA\\u1EBC\\u1EBE\\u1EC0\\u1EC2\\u1EC4\\u1EC6\\u1EC8\\u1ECA\\u1ECC\\u1ECE\\u1ED0\\u1ED2\\u1ED4\\u1ED6\\u1ED8\\u1EDA\\u1EDC\\u1EDE\\u1EE0\\u1EE2\\u1EE4\\u1EE6\\u1EE8\\u1EEA\\u1EEC\\u1EEE\\u1EF0\\u1EF2\\u1EF4\\u1EF6\\u1EF8\\u1EFA\\u1EFC\\u1EFE\\u1F08-\\u1F0F\\u1F18-\\u1F1D\\u1F28-\\u1F2F\\u1F38-\\u1F3F\\u1F48-\\u1F4D\\u1F59\\u1F5B\\u1F5D\\u1F5F\\u1F68-\\u1F6F\\u1FB8-\\u1FBB\\u1FC8-\\u1FCB\\u1FD8-\\u1FDB\\u1FE8-\\u1FEC\\u1FF8-\\u1FFB\\u2102\\u2107\\u210B-\\u210D\\u2110-\\u2112\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u2130-\\u2133\\u213E-\\u213F\\u2145\\u2183\\u2C00-\\u2C2E\\u2C60\\u2C62-\\u2C64\\u2C67\\u2C69\\u2C6B\\u2C6D-\\u2C70\\u2C72\\u2C75\\u2C7E-\\u2C80\\u2C82\\u2C84\\u2C86\\u2C88\\u2C8A\\u2C8C\\u2C8E\\u2C90\\u2C92\\u2C94\\u2C96\\u2C98\\u2C9A\\u2C9C\\u2C9E\\u2CA0\\u2CA2\\u2CA4\\u2CA6\\u2CA8\\u2CAA\\u2CAC\\u2CAE\\u2CB0\\u2CB2\\u2CB4\\u2CB6\\u2CB8\\u2CBA\\u2CBC\\u2CBE\\u2CC0\\u2CC2\\u2CC4\\u2CC6\\u2CC8\\u2CCA\\u2CCC\\u2CCE\\u2CD0\\u2CD2\\u2CD4\\u2CD6\\u2CD8\\u2CDA\\u2CDC\\u2CDE\\u2CE0\\u2CE2\\u2CEB\\u2CED\\u2CF2\\uA640\\uA642\\uA644\\uA646\\uA648\\uA64A\\uA64C\\uA64E\\uA650\\uA652\\uA654\\uA656\\uA658\\uA65A\\uA65C\\uA65E\\uA660\\uA662\\uA664\\uA666\\uA668\\uA66A\\uA66C\\uA680\\uA682\\uA684\\uA686\\uA688\\uA68A\\uA68C\\uA68E\\uA690\\uA692\\uA694\\uA696\\uA722\\uA724\\uA726\\uA728\\uA72A\\uA72C\\uA72E\\uA732\\uA734\\uA736\\uA738\\uA73A\\uA73C\\uA73E\\uA740\\uA742\\uA744\\uA746\\uA748\\uA74A\\uA74C\\uA74E\\uA750\\uA752\\uA754\\uA756\\uA758\\uA75A\\uA75C\\uA75E\\uA760\\uA762\\uA764\\uA766\\uA768\\uA76A\\uA76C\\uA76E\\uA779\\uA77B\\uA77D-\\uA77E\\uA780\\uA782\\uA784\\uA786\\uA78B\\uA78D\\uA790\\uA792\\uA7A0\\uA7A2\\uA7A4\\uA7A6\\uA7A8\\uA7AA\\uFF21-\\uFF3A]",
description:"[\\u0041-\\u005A\\u00C0-\\u00D6\\u00D8-\\u00DE\\u0100\\u0102\\u0104\\u0106\\u0108\\u010A\\u010C\\u010E\\u0110\\u0112\\u0114\\u0116\\u0118\\u011A\\u011C\\u011E\\u0120\\u0122\\u0124\\u0126\\u0128\\u012A\\u012C\\u012E\\u0130\\u0132\\u0134\\u0136\\u0139\\u013B\\u013D\\u013F\\u0141\\u0143\\u0145\\u0147\\u014A\\u014C\\u014E\\u0150\\u0152\\u0154\\u0156\\u0158\\u015A\\u015C\\u015E\\u0160\\u0162\\u0164\\u0166\\u0168\\u016A\\u016C\\u016E\\u0170\\u0172\\u0174\\u0176\\u0178-\\u0179\\u017B\\u017D\\u0181-\\u0182\\u0184\\u0186-\\u0187\\u0189-\\u018B\\u018E-\\u0191\\u0193-\\u0194\\u0196-\\u0198\\u019C-\\u019D\\u019F-\\u01A0\\u01A2\\u01A4\\u01A6-\\u01A7\\u01A9\\u01AC\\u01AE-\\u01AF\\u01B1-\\u01B3\\u01B5\\u01B7-\\u01B8\\u01BC\\u01C4\\u01C7\\u01CA\\u01CD\\u01CF\\u01D1\\u01D3\\u01D5\\u01D7\\u01D9\\u01DB\\u01DE\\u01E0\\u01E2\\u01E4\\u01E6\\u01E8\\u01EA\\u01EC\\u01EE\\u01F1\\u01F4\\u01F6-\\u01F8\\u01FA\\u01FC\\u01FE\\u0200\\u0202\\u0204\\u0206\\u0208\\u020A\\u020C\\u020E\\u0210\\u0212\\u0214\\u0216\\u0218\\u021A\\u021C\\u021E\\u0220\\u0222\\u0224\\u0226\\u0228\\u022A\\u022C\\u022E\\u0230\\u0232\\u023A-\\u023B\\u023D-\\u023E\\u0241\\u0243-\\u0246\\u0248\\u024A\\u024C\\u024E\\u0370\\u0372\\u0376\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u038F\\u0391-\\u03A1\\u03A3-\\u03AB\\u03CF\\u03D2-\\u03D4\\u03D8\\u03DA\\u03DC\\u03DE\\u03E0\\u03E2\\u03E4\\u03E6\\u03E8\\u03EA\\u03EC\\u03EE\\u03F4\\u03F7\\u03F9-\\u03FA\\u03FD-\\u042F\\u0460\\u0462\\u0464\\u0466\\u0468\\u046A\\u046C\\u046E\\u0470\\u0472\\u0474\\u0476\\u0478\\u047A\\u047C\\u047E\\u0480\\u048A\\u048C\\u048E\\u0490\\u0492\\u0494\\u0496\\u0498\\u049A\\u049C\\u049E\\u04A0\\u04A2\\u04A4\\u04A6\\u04A8\\u04AA\\u04AC\\u04AE\\u04B0\\u04B2\\u04B4\\u04B6\\u04B8\\u04BA\\u04BC\\u04BE\\u04C0-\\u04C1\\u04C3\\u04C5\\u04C7\\u04C9\\u04CB\\u04CD\\u04D0\\u04D2\\u04D4\\u04D6\\u04D8\\u04DA\\u04DC\\u04DE\\u04E0\\u04E2\\u04E4\\u04E6\\u04E8\\u04EA\\u04EC\\u04EE\\u04F0\\u04F2\\u04F4\\u04F6\\u04F8\\u04FA\\u04FC\\u04FE\\u0500\\u0502\\u0504\\u0506\\u0508\\u050A\\u050C\\u050E\\u0510\\u0512\\u0514\\u0516\\u0518\\u051A\\u051C\\u051E\\u0520\\u0522\\u0524\\u0526\\u0531-\\u0556\\u10A0-\\u10C5\\u10C7\\u10CD\\u1E00\\u1E02\\u1E04\\u1E06\\u1E08\\u1E0A\\u1E0C\\u1E0E\\u1E10\\u1E12\\u1E14\\u1E16\\u1E18\\u1E1A\\u1E1C\\u1E1E\\u1E20\\u1E22\\u1E24\\u1E26\\u1E28\\u1E2A\\u1E2C\\u1E2E\\u1E30\\u1E32\\u1E34\\u1E36\\u1E38\\u1E3A\\u1E3C\\u1E3E\\u1E40\\u1E42\\u1E44\\u1E46\\u1E48\\u1E4A\\u1E4C\\u1E4E\\u1E50\\u1E52\\u1E54\\u1E56\\u1E58\\u1E5A\\u1E5C\\u1E5E\\u1E60\\u1E62\\u1E64\\u1E66\\u1E68\\u1E6A\\u1E6C\\u1E6E\\u1E70\\u1E72\\u1E74\\u1E76\\u1E78\\u1E7A\\u1E7C\\u1E7E\\u1E80\\u1E82\\u1E84\\u1E86\\u1E88\\u1E8A\\u1E8C\\u1E8E\\u1E90\\u1E92\\u1E94\\u1E9E\\u1EA0\\u1EA2\\u1EA4\\u1EA6\\u1EA8\\u1EAA\\u1EAC\\u1EAE\\u1EB0\\u1EB2\\u1EB4\\u1EB6\\u1EB8\\u1EBA\\u1EBC\\u1EBE\\u1EC0\\u1EC2\\u1EC4\\u1EC6\\u1EC8\\u1ECA\\u1ECC\\u1ECE\\u1ED0\\u1ED2\\u1ED4\\u1ED6\\u1ED8\\u1EDA\\u1EDC\\u1EDE\\u1EE0\\u1EE2\\u1EE4\\u1EE6\\u1EE8\\u1EEA\\u1EEC\\u1EEE\\u1EF0\\u1EF2\\u1EF4\\u1EF6\\u1EF8\\u1EFA\\u1EFC\\u1EFE\\u1F08-\\u1F0F\\u1F18-\\u1F1D\\u1F28-\\u1F2F\\u1F38-\\u1F3F\\u1F48-\\u1F4D\\u1F59\\u1F5B\\u1F5D\\u1F5F\\u1F68-\\u1F6F\\u1FB8-\\u1FBB\\u1FC8-\\u1FCB\\u1FD8-\\u1FDB\\u1FE8-\\u1FEC\\u1FF8-\\u1FFB\\u2102\\u2107\\u210B-\\u210D\\u2110-\\u2112\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u2130-\\u2133\\u213E-\\u213F\\u2145\\u2183\\u2C00-\\u2C2E\\u2C60\\u2C62-\\u2C64\\u2C67\\u2C69\\u2C6B\\u2C6D-\\u2C70\\u2C72\\u2C75\\u2C7E-\\u2C80\\u2C82\\u2C84\\u2C86\\u2C88\\u2C8A\\u2C8C\\u2C8E\\u2C90\\u2C92\\u2C94\\u2C96\\u2C98\\u2C9A\\u2C9C\\u2C9E\\u2CA0\\u2CA2\\u2CA4\\u2CA6\\u2CA8\\u2CAA\\u2CAC\\u2CAE\\u2CB0\\u2CB2\\u2CB4\\u2CB6\\u2CB8\\u2CBA\\u2CBC\\u2CBE\\u2CC0\\u2CC2\\u2CC4\\u2CC6\\u2CC8\\u2CCA\\u2CCC\\u2CCE\\u2CD0\\u2CD2\\u2CD4\\u2CD6\\u2CD8\\u2CDA\\u2CDC\\u2CDE\\u2CE0\\u2CE2\\u2CEB\\u2CED\\u2CF2\\uA640\\uA642\\uA644\\uA646\\uA648\\uA64A\\uA64C\\uA64E\\uA650\\uA652\\uA654\\uA656\\uA658\\uA65A\\uA65C\\uA65E\\uA660\\uA662\\uA664\\uA666\\uA668\\uA66A\\uA66C\\uA680\\uA682\\uA684\\uA686\\uA688\\uA68A\\uA68C\\uA68E\\uA690\\uA692\\uA694\\uA696\\uA722\\uA724\\uA726\\uA728\\uA72A\\uA72C\\uA72E\\uA732\\uA734\\uA736\\uA738\\uA73A\\uA73C\\uA73E\\uA740\\uA742\\uA744\\uA746\\uA748\\uA74A\\uA74C\\uA74E\\uA750\\uA752\\uA754\\uA756\\uA758\\uA75A\\uA75C\\uA75E\\uA760\\uA762\\uA764\\uA766\\uA768\\uA76A\\uA76C\\uA76E\\uA779\\uA77B\\uA77D-\\uA77E\\uA780\\uA782\\uA784\\uA786\\uA78B\\uA78D\\uA790\\uA792\\uA7A0\\uA7A2\\uA7A4\\uA7A6\\uA7A8\\uA7AA\\uFF21-\\uFF3A]"},
ue=/^[0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]/,ve={type:"class",value:"[\\u0030-\\u0039\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]",
description:"[\\u0030-\\u0039\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]"},
we=/^[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]/,xe={type:"class",value:"[\\u16EE-\\u16F0\\u2160-\\u2182\\u2185-\\u2188\\u3007\\u3021-\\u3029\\u3038-\\u303A\\uA6E6-\\uA6EF]",description:"[\\u16EE-\\u16F0\\u2160-\\u2182\\u2185-\\u2188\\u3007\\u3021-\\u3029\\u3038-\\u303A\\uA6E6-\\uA6EF]"},h=0,t=0,wa=[{line:1,column:1,seenCR:!1}],M=0,Ja=[],p=0;if("startRule"in va){if(!(va.startRule in Db))throw Error("Can't start parsing from rule \""+va.startRule+'".');mb=
Db[va.startRule]}var ee=A.uml.sequence.model.Activate,Bd=A.uml.sequence.model.AltGroup,Ka=A.uml.sequence.model.ArrowType,le=A.uml.sequence.model.AutonumberResume,ne=A.uml.sequence.model.AutonumberStart,je=A.uml.sequence.model.AutonumberStop,Od=A.uml.sequence.model.Connector,ge=A.uml.sequence.model.Deactivate,Bc=A.uml.sequence.model.ElseGroup,Zd=A.uml.sequence.model.Ignore,Jc=A.uml.sequence.model.LineType,Pd=A.uml.sequence.model.Message,ob=A.uml.sequence.model.MessageGroup,ua=A.uml.sequence.model.PartialNote,
Rd=A.uml.sequence.model.Participant,Gb=A.uml.sequence.model.SequenceDiagram;var nb=mb();if(nb!==f&&h===c.length)return nb;nb!==f&&h<c.length&&k({type:"end",description:"end of input"});throw n(null,Ja,M<c.length?c.charAt(M):null,M<c.length?m(M,M+1):m(M,M));}}}();A.uml.sequence.Parser={};A.uml.sequence.Parser.parse=function(b){try{return A.uml.sequence.Parser.parseSuccess(A.uml.sequence.peg.parse(b))}catch(c){if(c instanceof A.uml.sequence.peg.SyntaxError)return A.uml.sequence.Parser.parseError(c);throw c;}};A.uml.sequence.Parser.parseSuccess=function(b){return new A.uml.sequence.Parser.ParseSuccess(b)};A.uml.sequence.Parser.parseError=function(b){return new A.uml.sequence.Parser.ParseFailure(b.message,b.location)};A.uml.sequence.Parser.ParseResult=function(){};
A.uml.sequence.Parser.ParseSuccess=function(b){this.diagram=b;this.diagram.doAutonumbering()};A.uml.sequence.Parser.ParseFailure=function(b,c){this.message=b;this.location=c};A.uml.sequence.Parser.ParseFailure.prototype.getErrorMessage=function(){return i18n.get("plugin-umlparser-message",{message:new I18nSafeString(this.message),line:this.location.start.line,column:this.location.start.column})};A.uml.sequence.Parser.ParseFailure.prototype.getErrorLine=function(){return this.location.start.line};A.uml.sequence.view.InlineNote=function(b,c,a){A.uml.sequence.view.SideNote.call(this,b,this.getLine(c,a),a)};v.inherits(A.uml.sequence.view.InlineNote,A.uml.sequence.view.SideNote);A.uml.sequence.view.InlineNote.prototype.getLine=function(){return null};A.uml.sequence.view.LeftInlineNote=function(b,c,a){A.uml.sequence.view.InlineNote.call(this,b,c,a)};v.inherits(A.uml.sequence.view.LeftInlineNote,A.uml.sequence.view.InlineNote);
A.uml.sequence.view.LeftInlineNote.prototype.getLine=function(b,c){b=A.uml.sequence.view.ParticipantLifeline.getParticipantsInOrder([b.sender,b.recipient],c);return c[b[0]].line};A.uml.sequence.view.LeftInlineNote.prototype.calculateX=function(){return this.line.x-A.uml.sequence.view.Note.horizontalPadding/2-this.textSize.w};A.uml.sequence.view.RightInlineNote=function(b,c,a){A.uml.sequence.view.InlineNote.call(this,b,c,a)};v.inherits(A.uml.sequence.view.RightInlineNote,A.uml.sequence.view.InlineNote);
A.uml.sequence.view.RightInlineNote.prototype.getLine=function(b,c){b=A.uml.sequence.view.ParticipantLifeline.getParticipantsInOrder([b.sender,b.recipient],c);return c[b[b.length-1]].line};A.uml.sequence.view.RightInlineNote.prototype.calculateX=function(b){return this.line.x+(b||0)+A.uml.sequence.view.Note.horizontalPadding/2};A.uml.sequence.view.Message=function(b){this.model=b;this.rightPadding=this.textWidth=0;this.model.label&&(this.textWidth=lucid.text.measure(lucid.text.styled("M"+b.label+"M",{})).w);this.model.isSelfMessage()&&(this.rightPadding=A.uml.sequence.view.Message.selfMessageWidth+this.textWidth)};A.uml.sequence.view.Message.selfMessageWidth=120;
A.uml.sequence.view.Message.prototype.render=function(b,c,a,d){var g=[],l=c[this.model.sender],m=c[this.model.recipient],k=this.renderMessageLine(b,l,m,a,d);this.renderMessageLabel(l,m,k);g.push(k);this.model.note&&(b=this.renderNote(b,c,a,d),g.push(b));return g};
A.uml.sequence.view.Message.prototype.renderMessageLine=function(b,c,a,d,g){var l={Endpoint1:{Style:this.model.connector.leftArrow},Endpoint2:{Style:this.model.connector.rightArrow},StrokeStyle:this.model.connector.lineType,Shape:"elbow",LineJumps:!1};c.setEndpoint1ConnectData(l,this.getPercent1(d,g),a.order);a.setEndpoint2ConnectData(l,this.getPercent2(d,g),c.order);this.model.isSelfMessage()&&(l.XPlanes=[c.line.x+A.uml.sequence.view.Message.selfMessageWidth]);return lucid.plugin.addLine(b,l)};
A.uml.sequence.view.Message.prototype.getPercent1=function(b,c){return(b+(this.model.arrowHeight-this.model.paddingAboveRecipient))/c};A.uml.sequence.view.Message.prototype.getPercent2=function(b,c){return(b+this.model.arrowHeight)/c};A.uml.sequence.view.Message.prototype.renderMessageLabel=function(b,c,a){if(this.model.label){var d=-1;b.order>c.order&&(d=1);lucid.plugin.addLineTextArea(a,{id:"label",value:this.model.label,side:d,location:.5})}};
A.uml.sequence.view.Message.prototype.renderNote=function(b,c,a,d){var g;this.model.note instanceof A.uml.sequence.model.LeftInlineNote?g=new A.uml.sequence.view.LeftInlineNote(this.model.note,this.model,c):this.model.note instanceof A.uml.sequence.model.RightInlineNote&&(g=new A.uml.sequence.view.RightInlineNote(this.model.note,this.model,c));return g.render(b,a+(this.model.height-this.model.note.height),d,this.rightPadding)};
A.uml.sequence.view.Message.prototype.getBoundingBox=function(b,c,a){var d=[this.getMessageBoundingBox(b[this.model.sender],b[this.model.recipient],c,a)];this.model.note&&(b=this.getNoteBoundingBox(b,c,a),d.push(b));return lucid.math.Box.combine(d)};
A.uml.sequence.view.Message.prototype.getMessageBoundingBox=function(b,c,a,d){var g=a/d*(b.line.yBot-b.line.yTop);return{x:Math.min(b.line.x,c.line.x),y:b.line.yTop+g,w:Math.abs(b.line.x-c.line.x)+this.rightPadding,h:(a+this.model.height)/d*(b.line.yBot-b.line.yTop)-g}};
A.uml.sequence.view.Message.prototype.getNoteBoundingBox=function(b,c,a){var d;this.model.note instanceof A.uml.sequence.model.LeftInlineNote?d=new A.uml.sequence.view.LeftInlineNote(this.model.note,this.model,b):this.model.note instanceof A.uml.sequence.model.RightInlineNote&&(d=new A.uml.sequence.view.RightInlineNote(this.model.note,this.model,b));return d.getBoundingBox(c,a,this.rightPadding)};function E(b,c,a){return{Action:"line",x:b.x+b.w*c,y:b.y+b.h*a}}function H(b,c){return{Action:"line",x:b,y:c}}function I(b,c,a){return{Action:"move",x:b.x+b.w*c,y:b.y+b.h*a}}function Qa(b,c){return{Action:"move",x:b,y:c}}function Eb(b,c,a,d,g,l,m){return{Action:"curve",Control:lucid.math.ellipseArcControlPoints(b.x+b.w*c,b.y+b.h*a,d*b.w,g*b.h,l*Math.PI,m*Math.PI)}}function P(){return{Action:"close"}}function Q(){return lucid.plugin.getProperty(null,"Version")||0}
function W(b,c,a){return 1<Q()?a(b):c(b)}var Fb=!1;function xc(b,c){for(var a=lucid.plugin.getProperty(b,"Rows"),d=lucid.plugin.getProperty(b,"BoundingBox");c!=a.length;)c<a.length?(d.h-=a[a.length-1].height,a=a.slice(0,a.length-1)):c>a.length&&(d.h+=a[a.length-1].height,a.push({id:a.length,height:a[a.length-1].height}));lucid.plugin.setProperty(b,"Rows",a);lucid.plugin.setProperty(b,"BoundingBox",d)}
function yc(b,c){for(var a=lucid.plugin.getProperty(b,"Columns"),d=lucid.plugin.getProperty(b,"BoundingBox");c!=a.length;)c<a.length?(d.w-=a[a.length-1].width,a=a.slice(0,a.length-1)):c>a.length&&(d.w+=a[a.length-1].width,a.push({id:a.length,width:a[a.length-1].width}));lucid.plugin.setProperty(b,"Columns",a);lucid.plugin.setProperty(b,"BoundingBox",d)}
lucid.plugin.onDocumentLoaded(function(){function b(a){return a.className&&0==a.className.search("UMLMultiLanePool")}function c(a){function b(a){return a?(a=lucid.plugin.getBlockClassName(a))&&0==a.search("UML"):!1}var c=lucid.plugin.getProperty(a,"Endpoint1");a=lucid.plugin.getProperty(a,"Endpoint2");return b(c.Block)||b(a.Block)}function a(a,b,c){function d(a,d){d||(b.change?lucid.array.forEach(b.ids,function(c){b.change(a,d,c)}):(lucid.array.forEach(b.ids,function(c){lucid.plugin.setPropertyIfChanged(c,
b.prop,a)}),c()))}function k(a,b){a=parseInt(a||0,10);d(a,b)}m&&!b.nospace&&a.spacer();m=!0;if("button"==b.type)a.openGrid({prefix:2,suffix:2,width:8}),a.addButton({onClick:function(){lucid.array.forEach(b.ids,function(a){b.onClick(a)})},label:b.name}),a.close();else if("spinner"==b.type)a.addGrid({width:6,content:{text:b.name+":",classes:"crop ralign"}}),a.openGrid({width:3,suffix:3}),a.addInput({type:"spinner",min:1,max:50,step:1,value:b.value(b.ids[0]),defaultVal:" ",onChange:d}),a.close();else if("select"==
b.type){a.addGrid({width:6,content:{text:b.name+":",classes:"crop ralign"}});var g=[];lucid.object.forEach(b.options,function(a,b){g.push({label:a,value:b})});a.openGrid({width:6});a.addInput({type:"select",options:g,onChange:k}).setValue(b.value(b.ids[0]));a.close()}}function d(n){function r(){d(n);k&&k.refresh&&k.refresh()}n=lucid.array.filter(n,function(a){return a.isLine?c(a.id):b(a)||"UMLMultidimensionalSwimlane"==a.className?!0:!1});var q=!1;m=!1;var u=lucid.template.builder();if(1==n.length&&
b(n[0])){var x=n[0].id;var w={laneCount:{ids:[],name:i18n.get("plugin-uml-option-lanes"),type:"spinner",prop:"Lanes",value:function(){return lucid.plugin.getProperty(x,"Lanes").length},change:function(a,b,c){b=lucid.plugin.getProperty(c,"Lanes").length;if(b<a)for(;b<a;b++)A.common.Swimlane.updateLanes("add",c,void 0,void 0,!0);else if(b>a)for(;b>a;b--)A.common.Swimlane.updateLanes("remove",c,void 0,void 0,!0)}},poolOrientation:{ids:[],name:i18n.get("plugin-uml-option-orientation"),type:"select",prop:"Vertical",
options:{0:i18n.get("plugin-uml-horizontal"),1:i18n.get("plugin-uml-vertical")},value:function(){return lucid.plugin.getProperty(x,"Vertical")},change:function(a,b,c){""!==a&&(b=lucid.plugin.getProperty(c,"Vertical"),a=parseInt(a,10),a!=b&&lucid.plugin.setProperty(c,"Vertical",a))}}}}else 1==n.length&&"UMLMultidimensionalSwimlane"==n[0].className?(x=n[0].id,w={rows:{ids:[],name:i18n.get("plugin-uml-option-rows"),type:"spinner",prop:"Rows",value:function(){return lucid.plugin.getProperty(x,"Rows").length},
change:xc.bind(null,x)},columns:{ids:[],name:i18n.get("plugin-uml-option-columns"),type:"spinner",prop:"Columns",value:function(){return lucid.plugin.getProperty(n[0].id,"Columns").length},change:yc.bind(null,x)}}):w={multiplicity:{ids:[],type:"button",name:i18n.get("plugin-uml-option-multiplicity"),onClick:function(a){var b=lucid.plugin.getProperty(a,"TextAreas"),c={};if(null===b.m1||void 0===b.m1)c.m1={Location:0,Side:1,Value:"0..*"};if(null===b.m2||void 0===b.m2)c.m2={Location:1,Side:-1,Value:"0..*"};
(c.m1||c.m2)&&lucid.plugin.setPropertyIfChanged(a,"TextAreas",c)}},swapEndPoints:{ids:[],type:"button",name:i18n.get("plugin-uml-option-line-reverse"),onClick:function(a){function b(a,b,c){for(var d=0;d<c.length;d++)a[c[d]]=b[c[d]]}var c=lucid.plugin.getProperty(a,"Endpoint1"),d=lucid.plugin.getProperty(a,"Endpoint2"),k=lucid.object.copy(c),g=lucid.object.copy(d);b(k,d,["Style","Padding"]);b(g,c,["Style","Padding"]);lucid.plugin.setPropertyIfChanged(a,"Endpoint1",k);lucid.plugin.setPropertyIfChanged(a,
"Endpoint2",g);c=lucid.plugin.getProperty(a,"TextAreas");for(var l in c)c[l]&&null!==c[l].Location&&(c[l].Location=1-c[l].Location);0<lucid.object.size(c)&&lucid.plugin.setPropertyIfChanged(a,"TextAreas",c)}}};lucid.array.forEach(n,function(a){lucid.object.forEach(w,function(b){(a.isLine&&null==b.prop||!a.isLine&&null!=b.prop)&&b.ids.push(a.id)})});lucid.object.forEach(w,function(b){0<b.ids.length&&(a(u,b,r),q=!0)});g.getElement(l).setContent(u);return q}var g=lucid.template.builder();lucid.marketingeventsdispatcher.recordEvent("uml-shape-library-enabled",
"uml-shape-library-enabled");lucid.kissMetrics.record(lucid.kissMetrics.Events.umlShapeLibraryEnabled);var l=g.add({classes:"ios_inputs"}),m=!1,k=lucid.plugin.addCustomPanel("",null,[{content:g}],null,{isContextPanel:!0,checkShow:d,refreshProperties:["Vertical","Lanes"]})});lucid.plugin.onDocumentLoaded(function(){lucid.plugin.getAllGroupIds(function(b){return!!lucid.plugin.getProperty(b,"Markup")})});
lucid.plugin.initBlockClass({className:"UMLSwimLaneBlock",name:i18n.get("plugin-uml-swimlane"),searchKeywords:i18n.get("plugin-uml-swimlane-search-keywords"),container:!0,defaultSize:{w:320,h:400},defaultProperties:function(){return{Magnetize:!1}},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-swimlane-text"),getBoundingBox:function(b){return{x:b.x+20,y:b.y,w:b.w-40,h:40}}})},getLinkPoints:function(){return[{x:.5,y:0}]},getRenderDataKey:function(){return["FillColor",
"LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox,d=40;if(40>a.h||"sample"==c)d=a.h/4;return[{FillColor:b.FillColor||null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y+d/2},{Action:"line",x:a.x,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+d/2}]},{FillColor:b.FillColor||null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+
a.w,y:a.y+d},{Action:"line",x:a.x,y:a.y+d},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLTextBlock",name:i18n.get("plugin-uml-textblock"),searchKeywords:"",defaultSize:{w:160,h:40},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-textblock-text"),wantReturn:!0,getBoundingBox:function(c){return W(c,function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin")||0,hideOverflow:!0}})}});1<Q()&&(lucid.plugin.registerProperty(b,
"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b){var c=b.BoundingBox;return[{FillColor:b.FillColor,Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+c.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLCircleContainerBlock",name:i18n.get("plugin-uml-oval-container"),searchKeywords:i18n.get("plugin-uml-oval-container-search-keywords"),defaultSize:{w:320,h:480},partialContainer:{getContainerArea:function(b){return lucid.plugin.getProperty(b,"BoundingBox")}},defaultProperties:function(){return{Magnetize:!1}},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},
getRenderData:function(b){var c=b.BoundingBox;return[{FillColor:b.FillColor||null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x+c.w,y:c.y+c.h/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(c.x,c.y,c.w,c.h,0,2*Math.PI)},{Action:"close"}]}]},onInit:function(b){lucid.plugin.setProperty(b,"DisableAutoLink",!0)}});
lucid.plugin.initBlockClass({className:"UMLRectangleContainerBlock",name:i18n.get("plugin-uml-rectangle-container"),searchKeywords:i18n.get("plugin-uml-rectangle-container-search-keywords"),defaultSize:{w:320,h:240},partialContainer:{getContainerArea:function(b){return lucid.plugin.getProperty(b,"BoundingBox")}},defaultProperties:function(){return{Magnetize:!1}},onInit:function(b){lucid.plugin.setProperty(b,"DisableAutoLink",!0);lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-rectangle-container-text"),
getBoundingBox:function(b){return{x:b.x+8,y:b.y+8,w:b.w-16,h:24}}})},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b){var c=b.BoundingBox;return[{FillColor:b.FillColor||null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+c.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLSendSignalBlock",name:i18n.get("plugin-uml-send-signal-block"),searchKeywords:i18n.get("plugin-uml-send-signal-block-search-keywords"),defaultSize:{w:180,h:60},onInit:function(b){lucid.plugin.setProperty(b,"DisableAutoLink",!0);lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-send-signal-block-text"),getBoundingBox:function(b){return{x:b.x+8,y:b.y+8,w:.75*b.w,h:b.h-16}}})},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},
{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b){var c=b.BoundingBox;return[{FillColor:b.FillColor||null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",x:c.x+.8*c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+c.h/2},{Action:"line",x:c.x+.8*c.w,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+c.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLReceiveSignalBlock",name:i18n.get("plugin-uml-receive-signal-block"),searchKeywords:i18n.get("plugin-uml-receive-signal-block-search-keywords"),defaultSize:{w:180,h:60},onInit:function(b){lucid.plugin.setProperty(b,"DisableAutoLink",!0);lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-receive-signal-block-text"),getBoundingBox:function(b){return{x:b.x+8,y:b.y+8,w:.75*b.w,h:b.h-16}}})},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,
y:1},{x:0,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b){var c=b.BoundingBox;return[{FillColor:b.FillColor||null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+.8*c.w,y:c.y+c.h/2},{Action:"line",x:c.x+c.w,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+c.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLNoteBlock",name:i18n.get("plugin-uml-note-block"),searchKeywords:"",defaultSize:{w:160,h:120},onInit:function(b){lucid.plugin.setProperty(b,"TextAlign","left",!1);lucid.plugin.setProperty(b,"DisableAutoLink",!0);lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",wantReturn:!0,getBoundingBox:function(c){return W(c,function(a){var b=.2*(a.h>a.w?a.w:a.h);return{x:a.x+.5*b,y:a.y+.5*b,w:a.w-b,h:a.h-.5*b}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,
"InsetMargin")||0,hideOverflow:!0}})}});1<Q()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1},{x:0,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox,d=.2*(a.h>a.w?a.w:a.h),g=lucid.color.darken(b.FillColor,.3);"sample"==c&&(d*=2);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,
Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w-d,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+d},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{FillColor:g,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+a.w-d,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+d},{Action:"line",x:a.x+a.w-.8*d,y:a.y+.8*d},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLClassBlock",name:i18n.get("plugin-uml-class-block"),searchKeywords:"",defaultSize:{w:360,h:240},variants:{UMLClassBlockSimple:{tooltip:i18n.get("plugin-uml-class-block-simple-tooltip"),searchKeywords:"",defaultProperties:function(){return{Simple:1}},defaultSize:{w:160,h:120}},UMLInterfaceBlock:{searchKeywords:"",defaultProperties:function(){return{Attributes:0,Title:'<span style="font-weight:bold;">'+i18n.get("plugin-uml-class-interface-block-text",{newline:"\n"},
["&lt;&lt;{}&gt;&gt;"])+"</span>",TitleHeight:52}},defaultSize:{w:360,h:240},tooltip:i18n.get("plugin-uml-class-interface-block-tooltip")},UMLInterfaceBlockSimple:{searchKeywords:"",defaultProperties:function(){return{Title:'<span style="font-weight:bold;">'+i18n.get("plugin-uml-class-interface-block-text",{newline:"\n"},["&lt;&lt;{}&gt;&gt;"])+"</span>",Simple:1}},defaultSize:{w:160,h:120},tooltip:i18n.get("plugin-uml-class-interface-block-simple-tooltip")}},onPaste:function(b){if(!lucid.plugin.getProperty(b,
"Simple")){var c=lucid.plugin.getProperty(b,"BoundingBox");if(c){var a=lucid.text.getSize(b,"Title"),d=lucid.plugin.getProperty(b,"Attributes")?lucid.text.getSize(b,"Text1"):null,g=lucid.text.getSize(b,"Text2");d=d?d.h+16:8;lucid.plugin.setPropertyIfChanged(b,"Text1Percent",(c.h-(a?a.h+16:0))*d/(d+(g?g.h+16:0))/c.h)}}},onInit:function(b){function c(){if(!lucid.plugin.getProperty(b,"Simple")){var a=lucid.text.getSize(b,"Title"),c=lucid.plugin.getProperty(b,"Attributes")?lucid.text.getSize(b,"Text1"):
null,g=lucid.text.getSize(b,"Text2");a=a?a.h+16:0;c=c?c.h+16:8;var l=g?g.h+16:0,m=lucid.plugin.snapToGrid(b,a+c+l,1,"ceil");if(g=lucid.plugin.getProperty(b,"BoundingBox"))m>g.h&&(g.h=m),c=(g.h-a)*c/(c+l)/g.h,lucid.plugin.setPropertyIfChanged(b,"TitleHeight",a),lucid.plugin.setPropertyIfChanged(b,"Text1Percent",c),lucid.plugin.setPropertyIfChanged(b,"BoundingBox",g)}}lucid.plugin.registerProperty(b,"TitleHeight",26);lucid.plugin.registerProperty(b,"Text1Percent",.4);lucid.plugin.registerProperty(b,
"Simple",0);lucid.plugin.registerProperty(b,"Attributes",1);lucid.plugin.setProperty(b,"TextAlign","left");lucid.plugin.setProperty(b,"TitleHeight",26);lucid.plugin.setProperty(b,"defaultHeight",240,!0);lucid.plugin.addBlockTextArea(b,{id:"Title",value:'<span style="font-weight:bold;">'+i18n.get("plugin-uml-class-block-title-text")+"</span>",getBoundingBox:function(a){if(lucid.plugin.getProperty(b,"Simple"))return lucid.math.Box.pad(a,-8);var c=lucid.plugin.getProperty(b,"TitleHeight");return{x:a.x+
8,y:a.y,w:a.w-16,h:c}},wantReturn:!1,readOnly:!1,align:"center"});lucid.plugin.addBlockTextArea(b,{id:"Text1",value:i18n.get("plugin-uml-class-block-text1",{newline:"\n"}),getBoundingBox:function(a){if(lucid.plugin.getProperty(b,"Simple")||!lucid.plugin.getProperty(b,"Attributes"))return null;var c=lucid.plugin.getProperty(b,"TitleHeight"),g=lucid.plugin.getProperty(b,"Text1Percent");return{x:a.x+12,y:a.y+c+8,w:a.w-24,h:a.h*g-16}},wantReturn:!0});lucid.plugin.addBlockTextArea(b,{id:"Text2",value:i18n.get("plugin-uml-class-block-text1",
{newline:"\n"}),getBoundingBox:function(a){if(lucid.plugin.getProperty(b,"Simple"))return null;var c=lucid.plugin.getProperty(b,"TitleHeight");if(lucid.plugin.getProperty(b,"Attributes")){var g=lucid.plugin.getProperty(b,"Text1Percent");return{x:a.x+12,y:a.y+c+a.h*g+8,w:a.w-24,h:a.h*(1-g)-c-16}}lucid.plugin.setBlockTextAreasOrder(b,["Title","Text2","Text1"]);return{x:a.x+12,y:a.y+c+8,w:a.w-24,h:a.h-c-16}},wantReturn:!0});lucid.plugin.hookPropertyPostSave(b,"Title",function(){c()});lucid.plugin.hookPropertyPostSave(b,
"Text1",function(){c()});lucid.plugin.hookPropertyPostSave(b,"Text2",function(){c()})},getLinkPoints:function(){return[{x:0,y:.5},{x:.5,y:1},{x:1,y:.5},{x:.5,y:0}]},getRenderDataKey:function(){return"FillColor LineColor LineWidth TitleHeight defaultHeight Text1Percent Simple Attributes".split(" ")},getRenderData:function(b,c){var a=b.BoundingBox,d=b.TitleHeight,g=b.defaultHeight,l=b.Text1Percent;"sample"==c&&(d*=2*a.h/g);c=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",
x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}];0==b.Simple&&(b.Attributes?c.push({StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:Math.round(a.y+d)},{Action:"line",x:a.x+a.w,y:Math.round(a.y+d)},{Action:"move",x:a.x,y:Math.round(a.y+d+a.h*l)},{Action:"line",x:a.x+a.w,y:Math.round(a.y+d+a.h*l)}]}):c.push({StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:Math.round(a.y+
d)},{Action:"line",x:a.x+a.w,y:Math.round(a.y+d)}]}));return c}});
lucid.plugin.initBlockClass({className:"UMLActiveClassBlock",name:i18n.get("plugin-uml-active-class-block"),searchKeywords:"",defaultSize:{w:160,h:120},onInit:function(b){lucid.plugin.registerProperty(b,"Side",.1);lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-active-class-block-text"),getBoundingBox:function(c){var a=lucid.plugin.getProperty(b,"Side");return{x:c.x+c.w*(a+.025),y:c.y,w:c.w*(1-2*(a+.025)),h:c.h}}})},spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.uml.activeClass",
location:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"Side");return{x:c.x+c.w*a-5,y:c.y+c.h-5,w:10,h:10}},moved:function(c){var a=lucid.plugin.getProperty(b,"BoundingBox");lucid.plugin.setProperty(b,"Side",(c.x-a.x)/a.w)},path:function(){var c=lucid.plugin.getProperty(b,"BoundingBox");return[{x:c.x+5,y:c.y},{x:c.x+c.w/3,y:c.y}]},snap:2}]},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor",
"LineColor","LineWidth","Side"]},getRenderData:function(b){var c=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+c.h},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x+c.w*b.Side,y:c.y},{Action:"line",x:c.x+c.w*b.Side,y:c.y+c.h},{Action:"move",x:c.x+c.w*(1-b.Side),y:c.y},{Action:"line",
x:c.x+c.w*(1-b.Side),y:c.y+c.h}]}]}});
lucid.plugin.initBlockClass({className:"UMLMultiplicityBlock",name:i18n.get("plugin-uml-multiplicity-block"),searchKeywords:i18n.get("plugin-uml-multiplicity-block-search-keywords"),defaultSize:{w:160,h:120},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-multiplicity-block-text"),getBoundingBox:function(c){var a=.1*Math.min(c.h,c.w);return W(c,function(a){return{x:a.x+20,y:a.y+.1*a.h,w:a.w-40-.1*a.w,h:a.h-.1*a.h}},function(c){return{x:c.x,y:c.y+a,w:c.w-a,
h:c.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin")||0,hideOverflow:!0}})}});1<Q()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox,d=.1*Math.min(a.h,a.w),g=.01*d;"sample"==c&&(d*=2);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,
Actions:[{Action:"move",x:a.x+d,y:a.y+d},{Action:"line",x:a.x+d,y:a.y+d-g},{Action:"line",x:a.x+d,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h-d},{Action:"line",x:a.x+a.w-d,y:a.y+a.h-d},{Action:"line",x:a.x+a.w-d,y:a.y+a.h-d-g},{Action:"line",x:a.x+a.w-d,y:a.y+d},{Action:"line",x:a.x+d,y:a.y+d},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y+d},{Action:"line",x:a.x+a.w-d,y:a.y+d},{Action:"line",
x:a.x+a.w-d,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}]}});var X={},Z={};X.Generalization=function(b,c,a,d){a={StrokeColor:a,LineWidth:d,FillColor:"#ffffff",NoRounding:!0,Actions:[]};c=Math.atan2(c.y,c.x);a.Actions.push({Action:"move",x:b.x,y:b.y});a.Actions.push({Action:"line",x:b.x+25*Math.cos(c+.83*Math.PI),y:b.y+25*Math.sin(c+.83*Math.PI)});a.Actions.push({Action:"line",x:b.x+25*Math.cos(c-.83*Math.PI),y:b.y+25*Math.sin(c-.83*Math.PI)});a.Actions.push({Action:"close"});return[a]};
Z.Generalization=22;X["Big Open Arrow"]=function(b,c,a,d){a={StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[]};c=Math.atan2(c.y,c.x);a.Actions.push({Action:"move",x:b.x+21*Math.cos(c+.83*Math.PI),y:b.y+21*Math.sin(c+.83*Math.PI)});a.Actions.push({Action:"line",x:b.x,y:b.y});a.Actions.push({Action:"line",x:b.x+21*Math.cos(c-.83*Math.PI),y:b.y+21*Math.sin(c-.83*Math.PI)});return[a]};Z["Big Open Arrow"]=13;
X.Asynch1=function(b,c,a,d){a={StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[]};c=Math.atan2(c.y,c.x);a.Actions.push({Action:"move",x:b.x+21*Math.cos(c+.83*Math.PI),y:b.y+21*Math.sin(c+.83*Math.PI)});a.Actions.push({Action:"line",x:b.x,y:b.y});return[a]};Z.Asynch1=13;
X.Asynch2=function(b,c,a,d){a={StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[]};c=Math.atan2(c.y,c.x);a.Actions.push({Action:"move",x:b.x+21*Math.cos(c-.83*Math.PI),y:b.y+21*Math.sin(c-.83*Math.PI)});a.Actions.push({Action:"line",x:b.x,y:b.y});return[a]};Z.Asynch2=13;
X.Aggregation=function(b,c,a,d){a={StrokeColor:a,LineWidth:d,FillColor:"#ffffff",NoRounding:!0,Actions:[]};d=Math.atan2(c.y,c.x);a.Actions.push({Action:"move",x:b.x,y:b.y});a.Actions.push({Action:"line",x:b.x+21*Math.cos(d+.75*Math.PI),y:b.y+21*Math.sin(d+.75*Math.PI)});a.Actions.push({Action:"line",x:b.x-30*c.x,y:b.y-30*c.y});a.Actions.push({Action:"line",x:b.x+21*Math.cos(d-.75*Math.PI),y:b.y+21*Math.sin(d-.75*Math.PI)});a.Actions.push({Action:"close"});return[a]};Z.Aggregation=30;
X.Composition=function(b,c,a,d,g,l){b=X.Aggregation(b,c,a,d,g,l);b[0].FillColor=g;return b};Z.Composition=30;
X.BlockEnd=function(b,c,a,d){a={StrokeColor:a,LineWidth:d,FillColor:"#ffffff",NoRounding:!0,Actions:[]};c=Math.atan2(c.y,c.x);a.Actions.push({Action:"move",x:b.x+15*Math.cos(c+.5*Math.PI),y:b.y+15*Math.sin(c+.5*Math.PI)});a.Actions.push({Action:"line",x:b.x-30*Math.cos(c)+15*Math.cos(c+.5*Math.PI),y:b.y-30*Math.sin(c)+15*Math.sin(c+.5*Math.PI)});a.Actions.push({Action:"line",x:b.x-30*Math.cos(c)+15*Math.cos(c-.5*Math.PI),y:b.y-30*Math.sin(c)+15*Math.sin(c-.5*Math.PI)});a.Actions.push({Action:"line",
x:b.x+15*Math.cos(c-.5*Math.PI),y:b.y+15*Math.sin(c-.5*Math.PI)});a.Actions.push({Action:"close"});return[a]};Z.BlockEnd=30;
X.BlockEndFill=function(b,c,a,d){a={StrokeColor:a,LineWidth:d,FillColor:"#000000",NoRounding:!0,Actions:[]};c=Math.atan2(c.y,c.x);a.Actions.push({Action:"move",x:b.x+15*Math.cos(c+.5*Math.PI),y:b.y+15*Math.sin(c+.5*Math.PI)});a.Actions.push({Action:"line",x:b.x-30*Math.cos(c)+15*Math.cos(c+.5*Math.PI),y:b.y-30*Math.sin(c)+15*Math.sin(c+.5*Math.PI)});a.Actions.push({Action:"line",x:b.x-30*Math.cos(c)+15*Math.cos(c-.5*Math.PI),y:b.y-30*Math.sin(c)+15*Math.sin(c-.5*Math.PI)});a.Actions.push({Action:"line",
x:b.x+15*Math.cos(c-.5*Math.PI),y:b.y+15*Math.sin(c-.5*Math.PI)});a.Actions.push({Action:"close"});return[a]};Z.BlockEndFill=30;X.CircleOpen=function(b,c,a,d){a={StrokeColor:a,LineWidth:d,FillColor:"#ffffff",NoRounding:!0,Actions:[]};a.Actions.push({Action:"move",x:b.x-15*c.x+15,y:b.y-15*c.y});a.Actions.push({Action:"curve",Control:lucid.math.ellipseArcControlPoints(b.x-15*c.x-15,b.y-15*c.y-15,30,30,0,2*Math.PI)});a.Actions.push({Action:"close"});return[a]};Z.CircleOpen=30;
X.CircleClosed=function(b,c,a,d){a={StrokeColor:a,LineWidth:d,FillColor:"#000000",NoRounding:!0,Actions:[]};a.Actions.push({Action:"move",x:b.x-15*c.x+15,y:b.y-15*c.y});a.Actions.push({Action:"curve",Control:lucid.math.ellipseArcControlPoints(b.x-15*c.x-15,b.y-15*c.y-15,30,30,0,2*Math.PI)});a.Actions.push({Action:"close"});return[a]};Z.CircleClosed=30;
X.Nesting=function(b,c,a,d){a={StrokeColor:a,LineWidth:d,FillColor:"#ffffff",NoRounding:!0,Actions:[]};d=Math.atan2(c.y,c.x);a.Actions.push({Action:"move",x:b.x-15*c.x+15,y:b.y-15*c.y});a.Actions.push({Action:"curve",Control:lucid.math.ellipseArcControlPoints(b.x-15*c.x-15,b.y-15*c.y-15,30,30,0,2*Math.PI)});a.Actions.push({Action:"close"});a.Actions.push({Action:"move",x:b.x,y:b.y});a.Actions.push({Action:"line",x:b.x-30*c.x,y:b.y-30*c.y});a.Actions.push({Action:"close"});a.Actions.push({Action:"move",
x:b.x+21*Math.cos(d+.75*Math.PI),y:b.y+21*Math.sin(d+.75*Math.PI)});a.Actions.push({Action:"line",x:b.x+21*Math.cos(d-.75*Math.PI),y:b.y+21*Math.sin(d-.75*Math.PI)});a.Actions.push({Action:"close"});return[a]};Z.Nesting=30;lucid.line.addEndpointStyles("uml",X,Z,.8);
lucid.plugin.initBlockClass({className:"UMLConstraintBlock",name:i18n.get("plugin-uml-constraint-block"),searchKeywords:"",defaultSize:{w:160,h:40},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-constraint-block-text"),getBoundingBox:function(b){var a=.13*(b.h>b.w?b.w:b.h);return{x:b.x+1.5*a,y:b.y,w:b.w-3*a,h:b.h}}})},getLinkPoints:function(){return[{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["LineColor","LineWidth"]},disabledPropertyControls:["FillColor"],
getRenderData:function(b,c){var a=b.BoundingBox,d=.13*(a.h>a.w?a.w:a.h);"sample"==c&&(a.h=a.w,a.x=2,a.y=2,d=.2*(a.h>a.w?a.w:a.h));return[{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+2*d,y:a.y},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+d,a.y,2*d,2*d,1.5*Math.PI,Math.PI)},{Action:"line",x:a.x+d,y:a.y+a.h/2-d},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x-d,a.y+a.h/2-2*d,2*d,2*d,0,.5*Math.PI)},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x-
d,a.y+a.h/2,2*d,2*d,1.5*Math.PI,2*Math.PI)},{Action:"line",x:a.x+d,y:a.y+a.h-d},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+d,a.y+a.h-2*d,2*d,2*d,Math.PI,.5*Math.PI)},{Action:"move",x:a.x+a.w-2*d,y:a.y+a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-3*d,a.y+a.h-2*d,2*d,2*d,.5*Math.PI,0)},{Action:"line",x:a.x+a.w-d,y:a.y+a.h/2+d},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-d,a.y+a.h/2,2*d,2*d,Math.PI,1.5*Math.PI)},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+
a.w-d,a.y+a.h/2-2*d,2*d,2*d,.5*Math.PI,Math.PI)},{Action:"line",x:a.x+a.w-d,y:a.y+d},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-3*d,a.y,2*d,2*d,2*Math.PI,1.5*Math.PI)}]}]}});
lucid.plugin.initBlockClass({className:"UMLOptionLoopBlock",name:i18n.get("plugin-uml-option-loop-block"),searchKeywords:i18n.get("plugin-uml-option-loop-block-search-keywords"),defaultSize:{w:700,h:500},container:!0,defaultProperties:function(){return{Magnetize:!1}},minWidth:110,minHeight:80,variants:{UMLStateName:{searchKeywords:"",tooltip:"",defaultProperties:function(){return{Title:i18n.get("plugin-uml-state-name-block"),TitleWidth:115,Text:"",Magnetize:!1}}}},onInit:function(b){lucid.plugin.setProperty(b,
"DisableAutoLink",!0);lucid.plugin.registerProperty(b,"TitleHeight",30);lucid.plugin.registerProperty(b,"TitleWidth",100);lucid.plugin.setProperty(b,"TextAlign","left");lucid.plugin.addBlockTextArea(b,{id:"Title",value:i18n.get("plugin-uml-option-loop-block-text-title-value"),getBoundingBox:function(c){var a=lucid.plugin.getProperty(b,"TitleHeight"),d=lucid.plugin.getProperty(b,"TitleWidth");return{x:c.x+8,y:c.y,w:d-18,h:a}}});lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-option-loop-block-text-value"),
getBoundingBox:function(c){var a=lucid.plugin.getProperty(b,"TitleHeight"),d=lucid.text.getSize(b,"Text",{x:c.x+12,y:c.y+a+8,h:a,w:1E4});d=Math.min(Math.max(80,lucid.plugin.snapToGrid(b,d.w+8,1,"ceil")),c.w-24);return{x:c.x+12,y:c.y+a+8,w:d,h:a}}})},spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.uml.optionLoop",location:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"TitleHeight"),d=lucid.plugin.getProperty(b,"TitleWidth");
return{x:c.x+d-5,y:c.y+a-5,w:10,h:10}},moved:function(c){var a=lucid.plugin.getProperty(b,"BoundingBox");lucid.plugin.setProperty(b,"TitleWidth",c.x-a.x)},area:function(){var c=lucid.plugin.getProperty(b,"BoundingBox");return{x:c.x+80,y:c.y,w:c.w-80,h:c.h/2-5}},snap:4}]},getOffsetProperties:function(b,c,a){c=lucid.plugin.defaultOffsetProperties(b,c,a);if(!lucid.plugin.isPermanentObject(b))return c;a=c[b].BoundingBox;var d=lucid.plugin.getProperty(b,"TitleWidth"),g=a.w;d>a.w&&(c[b].TitleWidth=a.w);
a=lucid.text.getBoundingBox(b,"Text");a.w=g-16;a=lucid.text.getSize(b,"Text",a);lucid.plugin.snapToGrid(b,a.w+8,1,"ceil");return c},onResize:function(){},getRenderDataKey:function(){return"FillColor LineColor LineWidth TitleWidth TitleHeight lineWidth".split(" ")},getRenderData:function(b,c){var a=b.BoundingBox,d=b.TitleHeight,g=b.TitleWidth,l=10;"sample"==c&&(d*=4*a.h/500,g*=4*a.w/700,l=2);return[{FillColor:b.FillColor,StrokeColor:null,LineWidth:b.lineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",
x:a.x+g,y:a.y},{Action:"line",x:a.x+g,y:a.y+d-l},{Action:"line",x:a.x+g-l,y:a.y+d},{Action:"line",x:a.x,y:a.y+d},{Action:"close"}]},{FillColor:null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,NoRounding:!0,Actions:[{Action:"move",x:a.x+g,y:a.y},{Action:"line",x:a.x+g,y:a.y+
d-l},{Action:"line",x:a.x+g-l,y:a.y+d},{Action:"line",x:a.x,y:a.y+d}]}]}});
lucid.plugin.initBlockClass({className:"UMLAlternativeBlock",name:i18n.get("plugin-uml-alternative-block"),searchKeywords:"",defaultSize:{w:700,h:500},container:!0,defaultProperties:function(){return{Magnetize:!1}},minWidth:110,minHeight:120,onInit:function(b){lucid.plugin.registerProperty(b,"TitleHeight",30);lucid.plugin.registerProperty(b,"TitleWidth",100);lucid.plugin.registerProperty(b,"Boundary",.5);lucid.plugin.setProperty(b,"TextAlign","left");lucid.plugin.setProperty(b,"DisableAutoLink",!0);
lucid.plugin.addBlockTextArea(b,{id:"Title",value:i18n.get("plugin-uml-alternative-block-text-title-value"),getBoundingBox:function(c){var a=lucid.plugin.getProperty(b,"TitleHeight"),d=lucid.plugin.getProperty(b,"TitleWidth");return{x:c.x+8,y:c.y,w:d-18,h:a}}});lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-alternative-block-text-value"),getBoundingBox:function(c){var a=lucid.plugin.getProperty(b,"TitleHeight"),d=lucid.text.getSize(b,"Text",{x:c.x+12,y:c.y+a+8,h:a,w:1E4});d=
Math.min(Math.max(80,lucid.plugin.snapToGrid(b,d.w+8,1,"ceil")),c.w-24);return{x:c.x+12,y:c.y+a+8,w:d,h:a}}});lucid.plugin.addBlockTextArea(b,{id:"Else",value:i18n.get("plugin-uml-alternative-block-text-else-value"),getBoundingBox:function(c){var a=lucid.plugin.getProperty(b,"TitleHeight"),d=lucid.plugin.getProperty(b,"Boundary"),g=lucid.text.getSize(b,"Else",{x:c.x+12,y:c.y+c.h*d+8,h:a,w:1E4});g=Math.min(Math.max(80,lucid.plugin.snapToGrid(b,g.w+8,1,"ceil")),c.w-24);return{x:c.x+12,y:c.y+c.h*d+8,
w:g,h:a}}})},spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.uml.alternativeTitleWidth",location:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"TitleHeight"),d=lucid.plugin.getProperty(b,"TitleWidth");return{x:c.x+d-5,y:c.y+a-5,w:10,h:10}},moved:function(c){var a=lucid.plugin.getProperty(b,"BoundingBox");lucid.plugin.setProperty(b,"TitleWidth",c.x-a.x)},area:function(){var c=lucid.plugin.getProperty(b,"BoundingBox");
return{x:c.x+80,y:c.y,w:c.w-80,h:c.h/2-5}},snap:4},{logAction:"chart.viewport.selection.spatialControls.uml.alternativeSplit",location:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"Boundary");return{x:c.x-5,y:c.y+c.h*a-5,w:10,h:10}},moved:function(c){var a=lucid.plugin.getProperty(b,"BoundingBox");lucid.plugin.setProperty(b,"Boundary",(c.y-a.y)/a.h)},area:function(){var c=lucid.plugin.getProperty(b,"BoundingBox");return{x:c.x,y:c.y+80,w:10,h:c.h-120}},snap:4}]},
getOffsetProperties:function(b,c,a){c=lucid.plugin.defaultOffsetProperties(b,c,a);if(!lucid.plugin.isPermanentObject(b))return c;a=c[b].BoundingBox;var d=lucid.plugin.getProperty(b,"TitleWidth"),g=a.w;d>a.w&&(c[b].TitleWidth=a.w);d=lucid.plugin.getProperty(b,"Boundary");d*=a.h;80>d?c[b].Boundary=80/a.h:d>a.h-40&&(c[b].Boundary=(a.h-40)/a.h);a=lucid.text.getBoundingBox(b,"Text");a.w=g-16;lucid.text.getSize(b,"Text",a);return c},onResize:function(){},getRenderDataKey:function(){return"FillColor LineColor LineWidth TitleWidth TitleHeight Boundary lineWidth".split(" ")},
getRenderData:function(b,c){var a=b.BoundingBox,d=b.TitleHeight,g=b.TitleWidth,l=10,m=[20,15];"sample"==c&&(d*=4*a.h/500,g*=4*a.w/700,l=2,m=[2,2]);c=[];for(var k=a.x,n=a.y+a.h*b.Boundary;k<a.x+a.w;)c.push({Action:"move",x:Math.min(k,a.x+a.w),y:n}),k+=m[0],c.push({Action:"line",x:Math.min(k,a.x+a.w),y:n}),k+=m[1];return[{FillColor:b.FillColor,StrokeColor:null,LineWidth:b.lineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+g,y:a.y},{Action:"line",x:a.x+g,y:a.y+d-l},{Action:"line",x:a.x+
g-l,y:a.y+d},{Action:"line",x:a.x,y:a.y+d},{Action:"close"}]},{FillColor:null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,NoRounding:!0,Actions:[{Action:"move",x:a.x+g,y:a.y},{Action:"line",x:a.x+g,y:a.y+d-l},{Action:"line",x:a.x+g-l,y:a.y+d},{Action:"line",x:a.x,y:a.y+d}]},
{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:c}]}});A.uml.sequence.AlternativeBlock2={boundaryDashPattern:{draw:20,space:15},defaultHeight:500,defaultWidth:700,labelPaddingLeft:12,labelPaddingTop:8,sampleCornerCut:2,sampleDashPattern:{draw:2,space:2},titleCornerCut:10,titleTabMinimumWidth:80,titleTextPadding:8};
A.uml.sequence.AlternativeBlock2.onInit=function(b){A.uml.sequence.AlternativeBlock2.setInitialProperties(b);A.uml.sequence.AlternativeBlock2.createTitleTextArea(b);A.uml.sequence.AlternativeBlock2.createTitleConditionTextArea(b);A.uml.sequence.AlternativeBlock2.registerBoundariesProperty(b)};
A.uml.sequence.AlternativeBlock2.setInitialProperties=function(b){lucid.plugin.setProperty(b,"TextAlign","left");lucid.plugin.setProperty(b,"DisableAutoLink",!0);lucid.plugin.setProperty(b,"TitleHeight",30);lucid.plugin.setProperty(b,"TitleWidth",100)};
A.uml.sequence.AlternativeBlock2.createTitleTextArea=function(b){lucid.plugin.addBlockTextArea(b,{id:"Title",value:i18n.get("plugin-uml-alternative-block2-text-title-value"),getBoundingBox:function(c){var a=lucid.plugin.getProperty(b,"TitleHeight"),d=lucid.plugin.getProperty(b,"TitleWidth"),g=A.uml.sequence.AlternativeBlock2.titleTextPadding;return{x:c.x+g,y:c.y,w:d-(g+A.uml.sequence.AlternativeBlock2.titleCornerCut),h:a}}})};
A.uml.sequence.AlternativeBlock2.createTitleConditionTextArea=function(b){lucid.plugin.addBlockTextArea(b,{id:"Condition",value:i18n.get("plugin-uml-alternative-block2-text-value"),getBoundingBox:function(c){var a=lucid.plugin.getProperty(b,"TitleHeight");return A.uml.sequence.AlternativeBlock2.measureTextAreaBB(b,"Condition",c.x+A.uml.sequence.AlternativeBlock2.labelPaddingLeft,c.y+a+A.uml.sequence.AlternativeBlock2.labelPaddingTop,c.w,a)}})};
A.uml.sequence.AlternativeBlock2.registerBoundariesProperty=function(b){var c=[{height:.5,text:i18n.get("plugin-uml-alternative-block-text-else-value")}];lucid.plugin.registerProperty(b,"Boundaries",c,null,function(a,c){a=a||[];c=c||[];var d,l=Math.min(a.length,c.length);for(d=0;d<l;d++)lucid.plugin.setPropertyIfChanged(b,"Else"+d,c[d].text);for(d=l;d<a.length;d++)lucid.plugin.deleteBlockTextArea(b,"Else"+d);for(d=l;d<c.length;d++)A.uml.sequence.AlternativeBlock2.createBoundaryTextArea(b,"Else"+d,
c[d].text,d)})};A.uml.sequence.AlternativeBlock2.createBoundaryTextArea=function(b,c,a,d){var g=A.uml.sequence.AlternativeBlock2.labelPaddingLeft,l=A.uml.sequence.AlternativeBlock2.labelPaddingTop;lucid.plugin.addBlockTextArea(b,{id:c,value:a,getBoundingBox:function(a){var k=lucid.plugin.getProperty(b,"Boundaries"),n=lucid.plugin.getProperty(b,"TitleHeight");if(d<k.length)return A.uml.sequence.AlternativeBlock2.measureTextAreaBB(b,c,a.x+g,a.y+a.h*k[d].height+l,a.w,n)}})};
A.uml.sequence.AlternativeBlock2.measureTextAreaBB=function(b,c,a,d,g,l){c=lucid.text.getSize(b,c,{x:a,y:d,w:1E4,h:l});b=Math.min(Math.max(80,lucid.plugin.snapToGrid(b,c.w+8,1,"ceil")),g-2*A.uml.sequence.AlternativeBlock2.labelPaddingLeft);return{x:a,y:d,w:b,h:l}};A.uml.sequence.AlternativeBlock2.spatialControls=function(b){var c=[];c=c.concat(A.uml.sequence.AlternativeBlock2.getTitleSpatialControls(b));return c=c.concat(A.uml.sequence.AlternativeBlock2.getBoundariesSpatialControls(b))};
A.uml.sequence.AlternativeBlock2.getTitleSpatialControls=function(b){var c=A.uml.sequence.AlternativeBlock2.titleTabMinimumWidth;return{area:function(){var a=lucid.plugin.getProperty(b,"BoundingBox"),d=lucid.plugin.getProperty(b,"TitleHeight");return{x:a.x+c,y:a.y+d/2,w:a.w-c,h:0}},location:function(){var a=lucid.plugin.getProperty(b,"BoundingBox"),c=lucid.plugin.getProperty(b,"TitleHeight"),g=lucid.plugin.getProperty(b,"TitleWidth");return{x:a.x+g-5,y:a.y+c/2-5,w:10,h:10}},logAction:"chart.viewport.selection.spatialControls.uml.alternativeTitleWidth",
moved:function(a){var c=lucid.plugin.getProperty(b,"BoundingBox");lucid.plugin.setProperty(b,"TitleWidth",a.x-c.x)},snap:4}};A.uml.sequence.AlternativeBlock2.getBoundariesSpatialControls=function(b){for(var c=[],a=lucid.plugin.getProperty(b,"Boundaries").length,d=0;d<a;d++)c=c.concat(A.uml.sequence.AlternativeBlock2.getBoundarySpatialControls(b,a,d,10));return c};
A.uml.sequence.AlternativeBlock2.getBoundarySpatialControls=function(b,c,a,d){return{area:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),d=lucid.plugin.getProperty(b,"Boundaries"),m=lucid.plugin.getProperty(b,"TitleHeight");d=A.uml.sequence.AlternativeBlock2.getUpperAndLowerBounds(c,d,a,m);return{x:c.x,y:d.upperBound,w:0,h:d.lowerBound-d.upperBound}},location:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),l=lucid.plugin.getProperty(b,"Boundaries")[a];return{x:c.x,y:c.y+c.h*
l.height-d/2,w:d,h:d}},logAction:"chart.viewport.selection.spatialControls.uml.alternativeSplit",moved:function(c){var d=lucid.plugin.getProperty(b,"BoundingBox"),g=lucid.plugin.getProperty(b,"Boundaries");g[a].height=(c.y-d.y)/d.h;lucid.plugin.setProperty(b,"Boundaries",g)},snap:4}};
A.uml.sequence.AlternativeBlock2.getOffsetProperties=function(b,c,a){c=lucid.plugin.defaultOffsetProperties(b,c,a);if(lucid.plugin.isPermanentObject(b)){a=c[b].BoundingBox;var d=lucid.plugin.getProperty(b,"Boundaries"),g=lucid.plugin.getProperty(b,"TitleHeight");lucid.plugin.getProperty(b,"TitleWidth")>a.w&&(c[b].TitleWidth=a.w);for(var l=0;l<d.length;l++){var m=A.uml.sequence.AlternativeBlock2.getUpperAndLowerBounds(a,d,l,g),k=d[l],n=a.y+k.height*a.h;n>m.lowerBound?k.height=(m.lowerBound-a.y)/a.h:
n<m.upperBound&&(k.height=(m.upperBound-a.y)/a.h)}c[b].Boundaries=d}return c};A.uml.sequence.AlternativeBlock2.getUpperAndLowerBounds=function(b,c,a,d){var g=A.uml.sequence.AlternativeBlock2.labelPaddingTop;g=g+d+g;return{upperBound:0===a?b.y+d+g:b.y+b.h*c[a-1].height+g,lowerBound:a==c.length-1?b.y+b.h-g:b.y+b.h*c[a+1].height-g}};A.uml.sequence.AlternativeBlock2.getRenderDataKey=function(){return"Boundaries FillColor LineColor LineWidth TitleHeight TitleWidth".split(" ")};
A.uml.sequence.AlternativeBlock2.getRenderData=function(b,c){var a=b.Boundaries,d=b.BoundingBox,g=b.FillColor,l=b.LineColor,m=b.LineWidth,k=b.TitleHeight;b=b.TitleWidth;var n=A.uml.sequence.AlternativeBlock2.titleCornerCut,r=A.uml.sequence.AlternativeBlock2.boundaryDashPattern;"sample"==c&&(n=A.uml.sequence.AlternativeBlock2.sampleCornerCut,r=A.uml.sequence.AlternativeBlock2.sampleDashPattern,b*=d.w/A.uml.sequence.AlternativeBlock2.defaultWidth*4,k*=d.h/A.uml.sequence.AlternativeBlock2.defaultHeight*
4);c=[];c=c.concat(A.uml.sequence.AlternativeBlock2.getTitleTabRenderData({x:d.x,y:d.y,w:b,h:k},n,g,l,m));c=c.concat(A.uml.sequence.AlternativeBlock2.getBlockOutlineRenderData(d,l,m));return c=c.concat(A.uml.sequence.AlternativeBlock2.getBoundariesRenderData(d,a,r,l,m))};
A.uml.sequence.AlternativeBlock2.getTitleTabRenderData=function(b,c,a,d,g){return[{FillColor:a,StrokeColor:null,LineWidth:g,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+b.w,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+b.h-c},{Action:"line",x:b.x+b.w-c,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]},{FillColor:null,StrokeColor:d,LineWidth:g,NoRounding:!0,Actions:[{Action:"move",x:b.x+b.w,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+b.h-c},{Action:"line",x:b.x+b.w-c,y:b.y+b.h},{Action:"line",
x:b.x,y:b.y+b.h}]}]};A.uml.sequence.AlternativeBlock2.getBlockOutlineRenderData=function(b,c,a){return{FillColor:null,StrokeColor:c,LineWidth:a,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+b.w,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]}};
A.uml.sequence.AlternativeBlock2.getBoundariesRenderData=function(b,c,a,d,g){var l=b.x+b.w;return c.map(function(c){var k=b.x;c=b.y+b.h*c.height;for(var n=[];k<l;)n.push({Action:"move",x:Math.min(k,l),y:c}),k+=a.draw,n.push({Action:"line",x:Math.min(k,l),y:c}),k+=a.space;return{FillColor:null,StrokeColor:d,LineWidth:g,Actions:n}})};
lucid.plugin.initBlockClass({className:"UMLAlternativeBlock2",name:i18n.get("plugin-uml-alternative-block2"),searchKeywords:i18n.get("plugin-uml-alternative-block2-search-keywords"),defaultSize:{w:A.uml.sequence.AlternativeBlock2.defaultWidth,h:A.uml.sequence.AlternativeBlock2.defaultHeight},container:!0,defaultProperties:function(){return{Magnetize:!1}},minWidth:110,minHeight:120,onInit:A.uml.sequence.AlternativeBlock2.onInit,spatialControls:A.uml.sequence.AlternativeBlock2.spatialControls,getOffsetProperties:A.uml.sequence.AlternativeBlock2.getOffsetProperties,
getRenderDataKey:A.uml.sequence.AlternativeBlock2.getRenderDataKey,getRenderData:A.uml.sequence.AlternativeBlock2.getRenderData});
lucid.plugin.initBlockClass({className:"UMLSeqEntityBlock",name:i18n.get("plugin-uml-seq-entity-block"),searchKeywords:i18n.get("plugin-uml-seq-entity-block-search-keywords"),defaultSize:{w:100,h:120},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-seq-entity-block-text-value"),getBoundingBox:function(b){return{x:b.x-40,y:b.y+b.h-20,w:b.w+80,h:20}}})},getLinkPoints:function(b){b=lucid.plugin.getProperty(b,"BoundingBox");b=(b.h/2-10)/b.h;return[{x:.5,y:0},{x:.5,
y:1},{x:0,y:b},{x:1,y:b}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox,d=20;"sample"==c&&(d=2);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+a.w/2,y:a.y+a.h-d},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h-d,.5*Math.PI,2.5*Math.PI)},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y+
a.h-d},{Action:"line",x:a.x+a.w,y:a.y+a.h-d}]}]}});
lucid.plugin.initBlockClass({className:"UMLBoundaryBlock",name:i18n.get("plugin-uml-boundary-block"),searchKeywords:"",defaultSize:{w:120,h:120},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-boundary-block-text-value"),getBoundingBox:function(b){return{x:b.x-20,y:b.y+b.h-20,w:b.w+60,h:20}}})},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,
c){var a=b.BoundingBox,d=20;"sample"==c&&(d=2);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+a.w,y:a.y+a.h/2-d/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+d,a.y,a.w-d,a.h-d,0,2*Math.PI)},{Action:"close"}]},{NoRounding:!0,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x,y:a.y+a.h-d},{Action:"move",x:a.x,y:a.y+a.h/2-d/2},{Action:"line",x:a.x+d,y:a.y+a.h/2-d/2}]}]}});
lucid.plugin.initBlockClass({className:"UMLControlBlock",name:i18n.get("plugin-uml-control-block"),searchKeywords:"",defaultSize:{w:100,h:120},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-control-block-text-value"),getBoundingBox:function(b){return{x:b.x-40,y:b.y+b.h-20,w:b.w+80,h:20}}})},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,
c){var a=b.BoundingBox,d=20;"sample"==c&&(d=2);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+a.w,y:a.y+a.h/2-d/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h-d,0,2*Math.PI)},{Action:"close"}]},{NoRounding:!0,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+.6*a.w,y:a.y-.05*a.h},{Action:"line",x:a.x+a.w/2,y:a.y},{Action:"line",x:a.x+.6*a.w,y:a.y+.06*a.h}]}]}});
lucid.plugin.initBlockClass({className:"UMLPackageBlock",name:i18n.get("plugin-uml-package-block"),searchKeywords:"",defaultSize:{w:360,h:240},onInit:function(b){lucid.plugin.registerProperty(b,"TitleHeight",26);lucid.plugin.setProperty(b,"TextAlign","left");lucid.plugin.addBlockTextArea(b,{id:"Title",value:i18n.get("plugin-uml-package-block-text-title-value"),getBoundingBox:function(c){var a=lucid.plugin.getProperty(b,"TitleHeight");return{x:c.x+8,y:c.y,w:.6*c.w-24,h:a}}});lucid.plugin.addBlockTextArea(b,
{id:"Text",value:i18n.get("plugin-uml-package-block-text-value"),getBoundingBox:function(c){var a=lucid.plugin.getProperty(b,"TitleHeight");return{x:c.x+12,y:c.y+a+8,w:c.w-24,h:c.h-a-16}}})},getLinkPoints:function(){return[{x:0,y:.5},{x:0,y:.75},{x:.25,y:1},{x:.5,y:1},{x:.75,y:1},{x:1,y:.75},{x:1,y:.5}]},afterEditText:function(b){var c=lucid.text.getSize(b,"Title"),a=lucid.text.getSize(b,"Text"),d=lucid.plugin.getProperty(b,"BoundingBox");a=lucid.plugin.snapToGrid(b,c.h+a.h+32,1,"ceil");a>d.h&&(d.h=
a);lucid.plugin.setProperty(b,"TitleHeight",c.h+16);lucid.plugin.setProperty(b,"BoundingBox",d)},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth","TitleHeight"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.TitleHeight;"sample"==c&&(d*=2*a.h/240);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:Math.round(a.x+.63*a.w),y:Math.round(a.y+d)},{Action:"line",x:a.x+a.w,y:Math.round(a.y+d)},{Action:"line",x:a.x+a.w,y:a.y+a.h},
{Action:"line",x:a.x,y:a.y+a.h},{Action:"line",x:a.x,y:a.y},{Action:"line",x:Math.round(a.x+.6*a.w),y:a.y},{Action:"close"},{Action:"move",x:a.x,y:Math.round(a.y+d)},{Action:"line",x:Math.round(a.x+.63*a.w),y:Math.round(a.y+d)}]}]}});lucid.plugin.createNextBlockGroup("UMLClassBlock UMLActiveClassBlock UMLClassBlockSimple UMLInterfaceBlock UMLInterfaceBlockSimple UMLMultiplicityBlock".split(" "));
lucid.plugin.initBlockClass({className:"UMLActorBlock",name:i18n.get("plugin-uml-actor-block"),searchKeywords:i18n.get("plugin-uml-actor-block-search-keywords"),defaultSize:{w:80,h:180},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-actor-block-text-value"),getBoundingBox:function(b){return{x:b.x-80,y:b.y+b.h-22,w:b.w+160,h:22}}})},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor",
"LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox;"sample"!=c&&(a.h-=22);var d=Math.min(a.w/2,a.h/4);b=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+a.w/2+d/2,y:a.y+d/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w/2-d/2,a.y,d,d,0,2*Math.PI)},{Action:"close"}]},{Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},
{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+a.w/2,y:a.y+d},{Action:"line",x:a.x+a.w/2,y:a.y+.6*a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"move",x:a.x+a.w/2,y:a.y+.6*a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"move",x:a.x,y:a.y+1.5*d},{Action:"line",x:a.x+a.w,y:a.y+1.5*d}]}];"sample"==c&&b.splice(1,1);return b},lineDrawnProperties:function(){return{Endpoint2:{Style:"None"}}}});
lucid.plugin.initBlockClass({className:"UMLUseCaseBlock",name:i18n.get("plugin-uml-use-case-block"),defaultSize:{w:160,h:120},searchKeywords:"",unthemed:{TextStyle:!0},variants:{UMLUseCaseExt:{searchKeywords:i18n.get("plugin-uml-use-case-ext-search-keywords"),defaultProperties:function(){return{HasExtensionPoints:1,TextWrap:!1,InsetMargin:null}},defaultSize:{w:200,h:160},tooltip:i18n.get("plugin-uml-use-case-ext-tooltip")}},onInit:function(b){lucid.plugin.registerProperty(b,"HasExtensionPoints",0);
lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-use-case-block-text-value"),getBoundingBox:function(c){return lucid.plugin.getProperty(b,"HasExtensionPoints")?{x:c.x+.15*c.w,y:c.y+.1*c.h,w:.7*c.w,h:.4*c.h}:W(c,function(a){return{x:a.x+.15*a.w,y:a.y+.2*a.h,w:.7*a.w,h:.6*a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin")||0,hideOverflow:!0}})}});1<Q()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,
"InsetMargin",5));lucid.plugin.addBlockTextArea(b,{id:"ExtensionPoints",value:i18n.get("plugin-uml-use-case-block-text-extention-point"),getBoundingBox:function(c){return lucid.plugin.getProperty(b,"HasExtensionPoints")?{x:c.x+.15*c.w,y:c.y+.5*c.h+24,w:.7*c.w,h:.35*c.h-24}:null},wantReturn:!0});lucid.plugin.addBlockTextArea(b,{id:"ExtensionPointLabel",value:'<span style="font-weight:bold;">'+i18n.get("plugin-uml-use-case-ext-point-label")+"</span>",getBoundingBox:function(c){return lucid.plugin.getProperty(b,
"HasExtensionPoints")?{x:c.x,y:c.y+.5*c.h,w:c.w,h:24}:null},wantReturn:!1,readOnly:!0})},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth","HasExtensionPoints"]},getRenderData:function(b){var c=b.BoundingBox,a=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x+c.w,y:c.y+c.h/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(c.x,c.y,c.w,c.h,
0,2*Math.PI)},{Action:"close"}]}];b.HasExtensionPoints&&(a[0].Actions.push({Action:"move",x:c.x,y:c.y+c.h/2}),a[0].Actions.push({Action:"line",x:c.x+c.w,y:c.y+c.h/2}));return a},lineDrawnProperties:function(){return{Endpoint2:{Style:"Open Arrow"},StrokeStyle:"dashed"}}});lucid.plugin.createNextBlockGroup(["UMLActorBlock","UMLUseCaseBlock","UMLUseCaseExt"]);
lucid.plugin.initBlockClass({className:"UMLStateBlock",name:i18n.get("plugin-uml-state-name-block"),defaultSize:{w:160,h:80},searchKeywords:"",variants:{UMLStateBlockCmp:{searchKeywords:i18n.get("plugin-uml-state-block-cmp-search-keywords"),defaultProperties:function(){return{Composite:1}},defaultSize:{w:160,h:120},tooltip:i18n.get("plugin-uml-state-block-cmp-tooltip")},UMLStateBlockExt:{searchKeywords:i18n.get("plugin-uml-state-block-ext-search-keywords"),defaultProperties:function(){return{Rake:1,
State:"Activity"}},tooltip:i18n.get("plugin-uml-state-block-ext-tooltip")}},onInit:function(b){lucid.plugin.registerProperty(b,"TitleHeight",44);lucid.plugin.registerProperty(b,"Composite",0);lucid.plugin.registerProperty(b,"Rake",0);lucid.plugin.addBlockTextArea(b,{id:"State",value:i18n.get("plugin-uml-state-block-text-state"),getBoundingBox:function(c){if(lucid.plugin.getProperty(b,"Composite")){var a=lucid.plugin.getProperty(b,"TitleHeight");c={x:c.x+.2*c.w,y:c.y,w:.6*c.w,h:a}}else c=lucid.math.Box.pad(c,
-8);lucid.plugin.getProperty(b,"Rake")&&(c.x+=30,c.w-=30);return c}});lucid.plugin.addBlockTextArea(b,{id:"Action",value:i18n.get("plugin-uml-state-block-text-action"),getBoundingBox:function(c){if(lucid.plugin.getProperty(b,"Composite")){var a=lucid.plugin.getProperty(b,"TitleHeight");return{x:c.x+.1*c.w,y:c.y+a+16,w:.8*c.w,h:c.h-a-32}}return null}})},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},afterEditText:function(b){if(lucid.plugin.getProperty(b,"Composite")){var c=
lucid.text.getSize(b,"State"),a=lucid.text.getSize(b,"Action"),d=lucid.plugin.getProperty(b,"BoundingBox");a=lucid.plugin.snapToGrid(b,c.h+a.h+48,1,"ceil");a>d.h&&(d.h=a);lucid.plugin.setProperty(b,"TitleHeight",c.h+32);lucid.plugin.setProperty(b,"BoundingBox",d)}},getRenderDataKey:function(){return"FillColor LineColor LineWidth TitleHeight Composite Rake".split(" ")},getRenderData:function(b,c){var a=b.BoundingBox,d=.2*(a.h>a.w?a.w:a.h),g=b.TitleHeight;"sample"==c&&(g=a.h/3,d*=1.5);d=[{FillColor:b.FillColor,
StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+d,y:a.y},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,2*d,2*d,1.5*Math.PI,Math.PI)},{Action:"line",x:a.x,y:a.y+a.h-d},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y+a.h-2*d,2*d,2*d,Math.PI,.5*Math.PI)},{Action:"line",x:a.x+a.w-d,y:a.y+a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*d,a.y+a.h-2*d,2*d,2*d,.5*Math.PI,0)},{Action:"line",x:a.x+a.w,y:a.y+d},{Action:"curve",
Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*d,a.y,2*d,2*d,2*Math.PI,1.5*Math.PI)},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:Math.round(a.y+g)},{Action:"line",x:a.x+a.w,y:Math.round(a.y+g)}]}];b.Composite||d.splice(1,1);if(b.Rake){g=b.Composite?g/2:a.h/2;var l=20,m=8;"sample"==c&&(l=.4*a.h,m=.15*a.w);d.push({NoRounding:!0,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+l/2+m,y:a.y+g-l/2},{Action:"line",x:a.x+
l/2+m,y:a.y+g+l/2},{Action:"move",x:a.x+m,y:a.y+g+l/2},{Action:"line",x:a.x+m,y:a.y+g},{Action:"line",x:a.x+m+l,y:a.y+g},{Action:"line",x:a.x+m+l,y:a.y+g+l/2}]})}return d}});
lucid.plugin.initBlockClass({className:"UMLStartBlock",name:i18n.get("plugin-uml-start-block"),searchKeywords:"",defaultSize:{w:40,h:40},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["LineColor","LineWidth"]},disabledPropertyControls:["FillColor"],getRenderData:function(b,c){var a=b.BoundingBox;"sample"==c&&(a={x:Math.round(a.x+.25*a.w),y:Math.round(a.y+.25*a.h),w:Math.round(.5*a.w),h:Math.round(.5*a.h)});return[{FillColor:"#000000",
StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+a.w,y:a.y+a.h/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLEndBlock",name:i18n.get("plugin-uml-end-block"),searchKeywords:"",defaultSize:{w:40,h:40},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox;"sample"==c&&(a={x:Math.round(a.x+.25*a.w),y:Math.round(a.y+.25*a.h),w:Math.round(.5*a.w),h:Math.round(.5*a.h)});return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,
Actions:[{Action:"move",x:a.x+a.w,y:a.y+a.h/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:"close"}]},{FillColor:"#000000",StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+.8*a.w,y:a.y+a.h/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+.2*a.w,a.y+.2*a.h,.6*a.w,.6*a.h,0,2*Math.PI)},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLDecisionBlock",name:i18n.get("plugin-uml-decision-block"),searchKeywords:i18n.get("plugin-uml-decision-block-search-keywords"),defaultSize:{w:40,h:40},onInit:function(){},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},lineDrawnProperties:function(b,c){b=i18n.get("plugin-uml-decision-block-line-text-option");1==c&&(b=i18n.get("plugin-uml-decision-block-line-text-yes"));2==c&&(b=i18n.get("plugin-uml-decision-block-line-text-no"));
return{TextAreas:{Text:{Location:.5,Side:0,Value:b}}}},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox;"sample"==c&&(a=lucid.math.Box.pad(a,-a.w/5));c=a.x+a.w/2;var d=a.y+a.h/2;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c,y:a.y},{Action:"line",x:a.x+a.w,y:d},{Action:"line",x:c,y:a.y+a.h},{Action:"line",x:a.x,y:d},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLVForkJoinBlock",name:i18n.get("plugin-uml-fork-join-vertical-block"),searchKeywords:"",defaultSize:{w:20,h:160},onInit:function(){},getLinkPoints:function(){return[{x:0,y:.25},{x:0,y:.5},{x:0,y:.75},{x:1,y:.25},{x:1,y:.5},{x:1,y:.75}]},getRenderDataKey:function(){return["LineColor","LineWidth"]},disabledPropertyControls:["FillColor"],getRenderData:function(b){var c=b.BoundingBox;return[{FillColor:"#000000",StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",
x:c.x,y:c.y},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+c.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLHForkJoinBlock",name:i18n.get("plugin-uml-fork-join-horizontal-block"),searchKeywords:"",defaultSize:{w:160,h:20},onInit:function(){},getLinkPoints:function(){return[{x:.25,y:0},{x:.5,y:0},{x:.75,y:0},{x:.25,y:1},{x:.5,y:1},{x:.75,y:1}]},getRenderDataKey:function(){return["LineColor","LineWidth"]},disabledPropertyControls:["FillColor"],getRenderData:function(b){var c=b.BoundingBox;return[{FillColor:"#000000",StrokeColor:b.LineColor,LineWidth:b.LineWidth,
Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+c.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLHistoryStateBlock",name:i18n.get("plugin-uml-history-state-block"),searchKeywords:i18n.get("plugin-uml-history-state-block-search-keywords"),defaultSize:{w:40,h:40},onInit:function(){},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox;"sample"==c&&(a=lucid.math.Box.pad(a,-a.w/4));return[{FillColor:b.FillColor,
StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+a.w,y:a.y+a.h/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:"close"}]},{FillColor:null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+.35*a.w,y:a.y+.28*a.h},{Action:"line",x:a.x+.35*a.w,y:a.y+.72*a.h},{Action:"move",x:a.x+.65*a.w,y:a.y+.72*a.h},{Action:"line",x:a.x+.65*a.w,y:a.y+.28*a.h},{Action:"move",x:a.x+.35*a.w,y:a.y+.5*a.h},{Action:"line",
x:a.x+.65*a.w,y:a.y+.5*a.h}]}]}});
lucid.plugin.initBlockClass({className:"UMLFlowFinalBlock",name:i18n.get("plugin-uml-flow-final-block"),searchKeywords:"",defaultSize:{w:40,h:40},onInit:function(){},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox;"sample"==c&&(a=lucid.math.Box.pad(a,-a.w/4));return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",
x:a.x+a.w,y:a.y+a.h/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:"close"}]},{FillColor:null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+.1464*a.w,y:a.y+.1464*a.h},{Action:"line",x:a.x+.8536*a.w,y:a.y+.8536*a.h},{Action:"move",x:a.x+.8536*a.w,y:a.y+.1464*a.h},{Action:"line",x:a.x+.1464*a.w,y:a.y+.8536*a.h}]}]}});
lucid.plugin.initBlockClass({className:"UMLObjectBlock",name:i18n.get("plugin-uml-object-block"),searchKeywords:"",defaultSize:{w:160,h:80},variants:{UMLObjectBlockSeq:{searchKeywords:i18n.get("plugin-uml-object-block-seq-search-keywords"),defaultProperties:function(){return{Sequence:1,Text:'<span style="text-decoration:underline;">'+i18n.get("plugin-uml-object-block-seq-text")+"</span>"}},defaultSize:{w:160,h:120},tooltip:i18n.get("plugin-uml-object-block-seq-tooltip")}},onInit:function(b){lucid.plugin.registerProperty("Sequence",
0);lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-object-block-text"),getBoundingBox:function(c){return W(c,function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin")||0,hideOverflow:!0}})}});1<Q()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},allowPromptNextBlock:function(b){return!lucid.plugin.getProperty(b,"Sequence")},lineDrawnProperties:function(b){return lucid.plugin.getProperty(b,
"Sequence")?{Endpoint2:{Style:"None"},StrokeStyle:"dashed"}:{}},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b){var c=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+c.h},{Action:"close"}]}]}});lucid.plugin.createNextBlockGroup("UMLStartBlock UMLStateBlock UMLStateBlockCmp UMLStateBlockExt UMLObjectBlock UMLDecisionBlock UMLHForkJoinBlock UMLVForkJoinBlock UMLFlowFinalBlock UMLEndBlock UMLHistoryStateBlock UMLSendSignalBlock UMLReceiveSignalBlock".split(" "));
lucid.plugin.initBlockClass({className:"UMLEntityBlock",name:i18n.get("plugin-uml-entity-block"),searchKeywords:"",defaultSize:{w:160,h:120},onInit:function(b){lucid.plugin.registerProperty("Sequence",0);lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-entity-block-text"),getBoundingBox:function(c){return W(c,function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin")||0,hideOverflow:!0}})}});
1<Q()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b){var c=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+c.h},{Action:"line",
x:c.x,y:c.y+c.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLWeakEntityBlock",name:i18n.get("plugin-uml-weak-entity-block"),searchKeywords:"",defaultSize:{w:160,h:120},onInit:function(b){lucid.plugin.registerProperty("Sequence",0);lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-weak-entity-block-text"),getBoundingBox:function(c){return W(c,function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin")||0,hideOverflow:!0}})}});
1<Q()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox,d=.05*Math.min(a.h,a.w);"sample"==c&&(d*=5);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",
x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+d,y:a.y+d},{Action:"line",x:a.x+a.w-d,y:a.y+d},{Action:"line",x:a.x+a.w-d,y:a.y+a.h-d},{Action:"line",x:a.x+d,y:a.y+a.h-d},{Action:"close"}]},{FillColor:null,StrokeColor:null,LineWidth:null,Actions:[{Action:"move",x:a.x+d,y:a.y+d},{Action:"line",x:a.x+a.w-d,y:a.y+d},{Action:"line",x:a.x+a.w-d,y:a.y+a.h-d},{Action:"line",x:a.x+d,
y:a.y+a.h-d},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLAttributeBlock",name:i18n.get("plugin-uml-attribute-block"),defaultSize:{w:160,h:120},searchKeywords:i18n.get("plugin-uml-attribute-block-search-keywords"),onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-attribute-block-text"),getBoundingBox:function(c){return W(c,function(a){return{x:a.x+.15*a.w,y:a.y+.2*a.h,w:.7*a.w,h:.6*a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin")||
0,hideOverflow:!0}})}});1<Q()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b){var c=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x+c.w,y:c.y+c.h/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(c.x,
c.y,c.w,c.h,0,2*Math.PI)},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLMultivaluedAttributeBlock",name:i18n.get("plugin-uml-multivalued-attribute-block"),defaultSize:{w:160,h:120},searchKeywords:i18n.get("plugin-uml-multivalued-attribute-block-search-keywords"),onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-multivalued-attribute-block-text"),getBoundingBox:function(c){return W(c,function(a){return{x:a.x+.15*a.w,y:a.y+.2*a.h,w:.7*a.w,h:.6*a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,
fitShape:lucid.plugin.getProperty(b,"InsetMargin")||0,hideOverflow:!0}})}});1<Q()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox,d=.05*Math.min(a.h,a.w);"sample"==c&&(d*=5);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,
Actions:[{Action:"move",x:a.x+a.w,y:a.y+a.h/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+a.w-d,y:a.y+a.h/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+d,a.y+d,a.w-2*d,a.h-2*d,0,2*Math.PI)},{Action:"close"}]},{FillColor:null,StrokeColor:null,LineWidth:null,Actions:[{Action:"move",x:a.x+a.w-d,y:a.y+a.h/2},{Action:"curve",
Control:lucid.math.ellipseArcControlPoints(a.x+d,a.y+d,a.w-2*d,a.h-2*d,0,2*Math.PI)},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLRelationshipBlock",name:i18n.get("plugin-uml-relationship-block"),searchKeywords:i18n.get("plugin-uml-relationship-block-search-keywords"),defaultSize:{w:160,h:140},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-relationship-block-text"),getBoundingBox:function(c){return W(c,function(a){return{x:a.x+.25*a.w,y:a.y+.25*a.h,w:.5*a.w,h:.5*a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,
"InsetMargin")||0,hideOverflow:!0}})}});1<Q()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b){var c=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x+.5*c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+.5*c.h},
{Action:"line",x:c.x+.5*c.w,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+.5*c.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLWeakRelationshipBlock",name:i18n.get("plugin-uml-weak-relationship-block"),searchKeywords:i18n.get("plugin-uml-weak-relationship-block-search-keywords"),defaultSize:{w:160,h:140},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-weak-relationship-block-text"),getBoundingBox:function(c){return W(c,function(a){return{x:a.x+.25*a.w,y:a.y+.25*a.h,w:.5*a.w,h:.5*a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,
"InsetMargin")||0,hideOverflow:!0}})}});1<Q()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox,d=.05*a.w,g=.05*a.h;"sample"==c&&(d*=5,g*=5);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+.5*
a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+.5*a.h},{Action:"line",x:a.x+.5*a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+.5*a.h},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+.5*a.w,y:a.y+g},{Action:"line",x:a.x+a.w-d,y:a.y+.5*a.h},{Action:"line",x:a.x+.5*a.w,y:a.y+a.h-g},{Action:"line",x:a.x+d,y:a.y+.5*a.h},{Action:"close"}]},{FillColor:null,StrokeColor:null,LineWidth:null,Actions:[{Action:"move",x:a.x+.5*a.w,y:a.y+g},{Action:"line",
x:a.x+a.w-d,y:a.y+.5*a.h},{Action:"line",x:a.x+.5*a.w,y:a.y+a.h-g},{Action:"line",x:a.x+d,y:a.y+.5*a.h},{Action:"close"}]}]}});lucid.plugin.createNextBlockGroup("UMLEntityBlock UMLWeakEntityBlock UMLAttributeBlock UMLMultivaluedAttributeBlock UMLRelationshipBlock UMLWeakRelationshipBlock".split(" "));
lucid.plugin.initBlockClass({className:"UMLDeletionBlock",name:i18n.get("plugin-uml-deletion-block"),searchKeywords:i18n.get("plugin-uml-deletion-block-search-keywords"),defaultSize:{w:80,h:80},onInit:function(){},getLinkPoints:function(){return[{x:0,y:.5},{x:.5,y:0},{x:1,y:.5},{x:.5,y:1}]},disabledPropertyControls:["FillColor"],getRenderDataKey:function(){return["LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox,d=8;"sample"==c&&(a={x:Math.round(a.x+.25*a.w),y:Math.round(a.y+
.25*a.h),w:Math.round(.5*a.w),h:Math.round(.5*a.h)},d=2);return[{Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+.1*a.w,y:a.y+.1*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+.9*a.h},{Action:"move",x:a.x+.9*a.w,y:a.y+.1*a.h},{Action:"line",x:a.x+.1*a.w,y:a.y+.9*a.h}]}]}});
lucid.plugin.initBlockClass({className:"UMLActivationBlock",name:i18n.get("plugin-uml-activation-block"),searchKeywords:i18n.get("plugin-uml-activation-block-search-keywords"),defaultSize:{w:40,h:120},vLock:!0,hLock:!0,rLock:!0,onInit:function(b){lucid.plugin.setProperty(b,"DisableAutoLink",!0)},getLinkPoints:function(){return[]},lineDrawnProperties:function(){return{TextAreas:{Message:{Location:.5,Side:-1,Value:i18n.get("plugin-uml-activation-block-line-text")}}}},lineDrawn:function(b,c,a,d){d&&
lucid.plugin.editLineTextArea(c,"Message")},spatialControls:function(b){function c(a,c){function d(d,l){var n=lucid.plugin.getProperty(d,l);if(n&&n.Block==b){n.LinkY=(n.LinkY*k.h-a)/(k.h+c);if(0>n.LinkY||1<n.LinkY)n.LinkX=null,n.LinkY=null,n.Block=null;g[d][l]=n}}var g={},k=lucid.plugin.getProperty(b,"BoundingBox");g[b]={BoundingBox:{x:k.x,y:k.y+a,w:k.w,h:k.h+c}};for(var n=lucid.plugin.getConnectedLines(b),r=0;r<n.length;r++)g[n[r]]={},d(n[r],"Endpoint1"),d(n[r],"Endpoint2");return g}function a(a){return{logAction:"chart.viewport.selection.spatialControls.uml.activation",
location:function(){var c=lucid.plugin.getProperty(b,"BoundingBox");return{x:c.x+c.w/2-5,y:c.y+(a?0:c.h)-5,w:10,h:10}},moved:function(d){var g=lucid.plugin.getProperty(b,"BoundingBox");d=a?g.y-d.y:d.y-(g.y+g.h);d=a?c(-d,d):c(0,d);for(var m in d)for(var k in d[m])lucid.plugin.setProperty(m,k,d[m][k])},path:function(){var a=lucid.plugin.getProperty(b,"BoundingBox");return[{x:a.x+a.w/2,y:1E8},{x:a.x+a.w/2,y:-1E8}]},cursor:function(){return a?"n-resize":"s-resize"},snap:1}}return[a(!0),a(!1)]},getRenderDataKey:function(){return["FillColor",
"LineColor","LineWidth"]},getRenderData:function(b){var c=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+c.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLNodeBlock",name:i18n.get("plugin-uml-node-block"),searchKeywords:"",defaultSize:{w:360,h:360},variants:{UMLNodeDeployment:{searchKeywords:i18n.get("plugin-uml-node-deployment-search-keywords"),defaultProperties:function(){return{Title:'<span style="font-weight:bold;">'+i18n.get("plugin-uml-node-deployment-title")+"</span>"}},tooltip:i18n.get("plugin-uml-node-deployment-tooltip")},UMLNodeDeploymentInstance:{searchKeywords:i18n.get("plugin-uml-node-deployment-instance-search-keywords"),
defaultProperties:function(){return{Title:'<span style="text-decoration:underline;">'+i18n.get("plugin-uml-node-deployment-instance-title")+"</span>"}},tooltip:i18n.get("plugin-uml-node-deployment-instance-tooltip")}},onInit:function(b){lucid.plugin.registerProperty("TitleHeight",26);lucid.plugin.setProperty("TextAlign","left");lucid.plugin.setProperty(b,"DisableAutoLink",!0);lucid.plugin.addBlockTextArea(b,{id:"Title",value:i18n.get("plugin-uml-node-block-title"),getBoundingBox:function(b){return{x:b.x+
8,y:b.y+.1*b.h+8,w:.7*b.w,h:26}}})},getLinkPoints:function(){return[{x:0,y:.25},{x:0,y:.5},{x:0,y:.75},{x:.25,y:1},{x:.5,y:1},{x:.75,y:1},{x:1,y:.75},{x:1,y:.5},{x:1,y:.25},{x:.75,y:0},{x:.5,y:0},{x:.25,y:0}]},afterEditText:function(b){var c=lucid.text.getSize(b,"Title")+8;lucid.plugin.setProperty(b,"TitleHeight",c)},lineDrawnProperties:function(){return{TextAreas:{Connection:{Location:.5,Side:0,Value:i18n.get("plugin-uml-node-block-line-text")}}}},lineDrawn:function(b,c,a,d){d&&lucid.plugin.editLineTextArea(c,
"Connection")},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b){var c=b.BoundingBox,a=.1*(c.w<c.h?c.w:c.h);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x,y:c.y+a},{Action:"line",x:c.x+1.2*a,y:c.y},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+c.h-1.2*a},{Action:"line",x:c.x+c.w-a,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+c.h},{Action:"close"}]},{FillColor:lucid.color.darken(b.FillColor,
.1),StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x,y:c.y+a},{Action:"line",x:c.x+1.2*a,y:c.y},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w-a,y:c.y+a},{Action:"close"}]},{FillColor:lucid.color.darken(b.FillColor,.2),StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x+c.w-a,y:c.y+a},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+c.h-1.2*a},{Action:"line",x:c.x+c.w-a,y:c.y+c.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLComponentBlock",name:i18n.get("plugin-uml-component-block"),searchKeywords:"",defaultSize:{w:160,h:120},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Title",value:i18n.get("plugin-uml-component-block-title"),getBoundingBox:function(b){return{x:b.x+.2*b.w,y:b.y+.1*b.h,w:.7*b.w,h:.8*b.h}}})},variants:{UMLComponentDeployment:{searchKeywords:i18n.get("plugin-uml-component-deployment-block-search-keywords"),defaultProperties:function(){return{Title:'<span style="font-weight:bold;">'+
i18n.get("plugin-uml-component-deployment-block-title")+"</span>"}},tooltip:i18n.get("plugin-uml-component-deployment-block-tooltip")},UMLComponentDeploymentInstance:{searchKeywords:i18n.get("plugin-uml-component-deployment-instance-search-keywords"),defaultProperties:function(){return{Title:'<span style="text-decoration:underline;">'+i18n.get("plugin-uml-component-deployment-instance-title")+"</span>"}},tooltip:i18n.get("plugin-uml-component-deployment-instance-tooltip")}},getLinkPoints:function(){return[{x:0,
y:.25},{x:0,y:.75},{x:.25,y:1},{x:.5,y:1},{x:.75,y:1},{x:1,y:.75},{x:1,y:.5},{x:1,y:.25},{x:.75,y:0},{x:.5,y:0},{x:.25,y:0}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox,d=40,g=20;"sample"==c&&(g*=a.h/120,d=2*g);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+.5*d,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+.5*d,
y:a.y+a.h},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y+.25*a.h-.5*g},{Action:"line",x:a.x+d,y:a.y+.25*a.h-.5*g},{Action:"line",x:a.x+d,y:a.y+.25*a.h+.5*g},{Action:"line",x:a.x,y:a.y+.25*a.h+.5*g},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y+.75*a.h-.5*g},{Action:"line",x:a.x+d,y:a.y+.75*a.h-.5*g},{Action:"line",x:a.x+d,y:a.y+.75*a.h+.5*g},{Action:"line",
x:a.x,y:a.y+.75*a.h+.5*g},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLComponentBoxBlock",name:i18n.get("plugin-uml-component-box"),searchKeywords:"",defaultSize:{w:160,h:120},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Title",value:i18n.get("plugin-uml-component-box-title"),getBoundingBox:function(c){return W(c,function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin")||0,hideOverflow:!0}})}});1<Q()&&(lucid.plugin.registerProperty(b,
"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},getLinkPoints:function(){return[{x:0,y:.25},{x:0,y:.5},{x:0,y:.75},{x:.25,y:1},{x:.5,y:1},{x:.75,y:1},{x:1,y:.75},{x:1,y:.5},{x:1,y:.25},{x:.75,y:0},{x:.5,y:0},{x:.25,y:0}]},getRenderData:function(b,c){var a=b.BoundingBox;if("sample"==c){c=5;var d=1}else c=20,d=10;var g=a.y+d;d=a.x+a.w-d;var l=d-c/2;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[I(a,0,0),E(a,0,1),E(a,1,1),E(a,1,0),P()]},{FillColor:b.FillColor,
StrokeColor:b.LineColor,LineWidth:1,NoRounding:!0,Actions:[Qa(d,g),H(d-3*c/4,g),H(d-3*c/4,g+c),H(d,g+c),P()]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:1,NoRounding:!0,Actions:[Qa(l,g+c/6),H(l-c/2,g+c/6),H(l-c/2,g+c/3),H(l,g+c/3),P(),Qa(l,g+2*c/3),H(l-c/2,g+2*c/3),H(l-c/2,g+5*c/6),H(l,g+5*c/6),P()]}]}});
lucid.plugin.initBlockClass({className:"UMLComponentInterfaceBlock",name:i18n.get("plugin-uml-component-interface-block"),searchKeywords:i18n.get("plugin-uml-component-interface-block-search-keywords"),defaultSize:{w:40,h:40},onInit:function(){},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox;"sample"==c&&(a={x:Math.round(a.x+.25*a.w),y:Math.round(a.y+
.25*a.h),w:Math.round(.5*a.w),h:Math.round(.5*a.h)});return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+a.w,y:a.y+a.h/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLAssemblyConnectorBlock",name:i18n.get("plugin-uml-assembly-connector-block"),searchKeywords:i18n.get("plugin-uml-assembly-connector-block-search-keywords"),defaultSize:{w:50,h:40},onInit:function(){},getLinkPoints:function(){return[{x:0,y:.5},{x:1,y:.5}]},getRenderData:function(b){var c=b.BoundingBox;return[{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[I(c,0,.5),E(c,.5-.35*.8,.5),I(c,.5,1),Eb(c,.1,0,.8,1,.5,-.5),I(c,.9,.5),E(c,1,.5)]},{FillColor:b.FillColor,
StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[I(c,.5,.15),Eb(c,.5-.35*.8,.15,.7*.8,.7,-.5,1.5),P()]},{Actions:[I(c,.5,1),Eb(c,.1,0,.8,1,.5,-1.5),P()]}]}});
lucid.plugin.initBlockClass({className:"UMLProvidedInterfaceBlock",name:i18n.get("plugin-uml-provided-interface-block"),searchKeywords:"",defaultSize:{w:50,h:40},getLinkPoints:function(){return[{x:0,y:.5}]},getRenderData:function(b){var c=b.BoundingBox;return[{StrokeColor:b.LineColor,LineWidth:b.LineWidth,FillColor:b.FillColor,Actions:[I(c,0,.5),E(c,.2,.5),I(c,1,.5),Eb(c,.2,0,.8,1,0,2),P()]}]}});
lucid.plugin.initBlockClass({className:"UMLRequiredInterfaceBlock",name:i18n.get("plugin-uml-required-interface-block"),searchKeywords:"",defaultSize:{w:30,h:40},getLinkPoints:function(){return[{x:1,y:.5}]},getRenderData:function(b){var c=b.BoundingBox;return[{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[I(c,2/3,.5),E(c,1,.5),I(c,0,0),Eb(c,-2/3,0,4/3,1,-.5,.5)]},{Actions:[I(c,0,0),Eb(c,-2/3,0,4/3,1,-.5,.5),P()]}]}});
lucid.plugin.initBlockClass({className:"UMLAcceptTimeEventActionBlock",name:i18n.get("plugin-uml-accept-time-event-action-block"),searchKeywords:"",defaultSize:{w:40,h:60},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Title",value:i18n.get("plugin-uml-accept-time-event-action-block-title"),getBoundingBox:function(b){return{x:b.x-b.w,y:b.y+b.h+5,w:3*b.w,h:30}}})},getLinkPoints:function(){return[{x:.5,y:.5}]},getRenderData:function(b){var c=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,
LineWidth:b.LineWidth,NoRounding:!0,Actions:[I(c,0,0),E(c,1,0),E(c,.5,.5),E(c,1,1),E(c,0,1),E(c,.5,.5),P()]}]}});
lucid.plugin.initBlockClass({className:"UMLInterruptingEdgeBlock",name:i18n.get("plugin-uml-interrupting-edge-block"),searchKeywords:"",defaultSize:{w:40,h:20},getLinkPoints:function(){return[]},disabledPropertyControls:["FillColor"],getRenderDataKey:function(){return["LineColor","LineWidth"]},getRenderData:function(b){var c=b.BoundingBox;return[{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[I(c,0,0),E(c,1,0),E(c,0,.9),E(c,1,.9)]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,NoRounding:!0,
Actions:[I(c,.9,.8),E(c,1,.9),E(c,.9,1)]},{Actions:[I(c,0,0),E(c,1,0),E(c,1,1),E(c,0,1),P()]}]}});
lucid.plugin.initBlockClass({className:"UMLOffPageLinkBlock",name:i18n.get("plugin-uml-offpage-link-block"),searchKeywords:i18n.get("plugin-uml-offpage-link-block-search-keywords"),defaultSize:{w:120,h:120},defaultText:i18n.get("plugin-uml-offpage-link-block-default-text"),onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-uml-offpage-link-block-text"),getBoundingBox:function(c){return W(c,function(a){return{x:a.x+10,y:a.y,w:a.w-20,h:.8*a.h}},function(a){return{x:a.x,
y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin")||0,hideOverflow:!0}})}});1<Q()&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},onCreate:function(b){lucid.plugin.selectBlockLink(b)},getRenderData:function(b){var c=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",
x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+.6*c.h},{Action:"line",x:c.x+c.w/2,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+.6*c.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UMLExpansionNodeBlock",name:i18n.get("plugin-uml-expansion-node-block"),searchKeywords:"",defaultSize:{w:80,h:20},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderData:function(b){var c=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[I(c,0,0),E(c,1,0),E(c,1,1),E(c,0,1),P()]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[I(c,.25,0),E(c,.25,
1),I(c,.5,0),E(c,.5,1),I(c,.75,0),E(c,.75,1)]}]}});
lucid.plugin.initBlockClass({className:"UMLMultidimensionalSwimlane",container:!0,name:i18n.get("plugin-uml-multidimensional-swimlane"),searchKeywords:i18n.get("plugin-uml-multidimensional-swimlane-search-keywords"),defaultSize:{w:1140,h:840},rLock:!0,vLock:!0,hLock:!0,onInit:function(b){function c(a,c,l){lucid.plugin.addBlockTextArea(b,{id:c+"_"+a,rotation:"Row"==l?-Math.PI/2:0,value:c,getBoundingBox:function(c){var d=lucid.plugin.getProperty(b,"BoundingBox"),g=lucid.plugin.getProperty(b,"TitleHeight"),
m=lucid.plugin.getProperty(b,"TitleWidth");if("Row"==l){c=lucid.plugin.getProperty(b,"Rows");var q=null;g=d.y+g;for(var u=0;u<c.length;u++){if(c[u].id==a){q=c[u];break}g+=c[u].height}return q?{x:d.x,y:g,w:m,h:q.height}:null}d=lucid.plugin.getProperty(b,"Columns");q=null;m=c.x+m;for(u=0;u<d.length;u++){if(d[u].id==a){q=d[u];break}m+=d[u].width}return q?{x:m,y:c.y,w:q.width,h:g}:null}})}function a(a){return function(d,l){if(d!=l){var g=lucid.plugin.getBlockTextAreas(b);l.forEach(function(b){if(!lucid.array.contains(g,
a+"_"+b.id)){var d="Row"==a?i18n.get("plugin-uml-multidimensional-swimlane-row-title"):i18n.get("plugin-uml-multidimensional-swimlane-column-title");c(b.id,d,a)}});if(d){d=d.map(function(a){return a.id});var k=l.map(function(a){return a.id});d.forEach(function(c){lucid.array.contains(k,c)||(lucid.plugin.setProperty(b,a+"_"+c,a),lucid.plugin.deleteBlockTextArea(b,a+"_"+c))})}l=lucid.plugin.getProperty(b,"Rows");d=lucid.plugin.getProperty(b,"Columns");if(l&&d){l=l.length;d=d.length;for(var n=[],r=0;r<
d;r++)n.push("Column_"+r);for(r=0;r<l;r++)n.push("Row_"+r);lucid.plugin.setBlockTextAreasOrder(b,n)}}}}lucid.plugin.getProperty(b,"BoundingBox");lucid.plugin.registerProperty(b,"Rows",[{id:0,height:400},{id:1,height:400}],null,a("Row"));lucid.plugin.registerProperty(b,"Columns",[{id:0,width:550},{id:1,width:550}],null,a("Column"));lucid.plugin.registerProperty(b,"TitleHeight",40);lucid.plugin.registerProperty(b,"TitleWidth",40);lucid.plugin.registerProxyProperty(b,"RowCount",function(){return lucid.plugin.getProperty(b,
"Rows").length},xc.bind(null,b));lucid.plugin.registerProxyProperty(b,"ColumnCount",function(){return lucid.plugin.getProperty(b,"Columns").length},yc.bind(null,b));lucid.plugin.hookPropertyPostSave(b,"Rows",function(){lucid.plugin.proxyPropertyChanged(b,"RowCount")});lucid.plugin.hookPropertyPostSave(b,"Columns",function(){lucid.plugin.proxyPropertyChanged(b,"ColumnCount")})},getLinkPoints:function(){return[]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.Rows,g=b.Columns,l=b.TitleHeight,m=
b.TitleWidth;"preview"==c&&(d.forEach(function(b){b.height=(a.h-l)/d.length}),g.forEach(function(b){b.width=(a.w-m)/g.length}),lucid.plugin.setProperty(b.id,"Rows",d),lucid.plugin.setProperty(b.id,"Columns",g));if("sample"==c)return c=function(a){return{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:a}},[c([{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y},{Action:"close"}]),c([{Action:"move",x:a.x,y:a.y+.2*a.h},
{Action:"line",x:a.x+a.w,y:a.y+.2*a.h}]),c([{Action:"move",x:a.x+.2*a.w,y:a.y},{Action:"line",x:a.x+.2*a.w,y:a.y+a.h}]),c([{Action:"move",x:a.x+.6*a.w,y:a.y},{Action:"line",x:a.x+.6*a.w,y:a.y+a.h}]),c([{Action:"move",x:a.x,y:a.y+.6*a.h},{Action:"line",x:a.x+a.w,y:a.y+.6*a.h}])];var k=[{LineWidth:b.LineWidth,FillColor:b.FillColor,Actions:[{Action:"move",x:a.x+m,y:a.y+l},{Action:"line",x:a.x,y:a.y+l},{Action:"line",x:a.x,y:a.y+a.h},{Action:"line",x:a.x+m,y:a.y+a.h}]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,
NoRounding:!0,Actions:[{Action:"move",x:a.x+m,y:a.y+l},{Action:"line",x:a.x+m,y:a.y+a.h}]},{FillColor:b.FillColor,Actions:[{Action:"move",x:a.x+m,y:a.y+l},{Action:"line",x:a.x+m,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+l}]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+m,y:a.y+l},{Action:"line",x:a.x+a.w,y:a.y+l}]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+m,y:a.y+l},{Action:"line",x:a.x+m,y:a.y},{Action:"line",
x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+l},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+m,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+l},{Action:"line",x:a.x+m,y:a.y+l}]}],n=a.y+l;d.slice(0,-1).forEach(function(c){k.push({LineWidth:b.LineWidth,StrokeColor:b.LineColor,Actions:[{Action:"move",x:a.x,y:n+c.height},{Action:"line",x:a.x+a.w,y:n+c.height}]});n+=c.height});var r=a.x+m;g.slice(0,-1).forEach(function(c){k.push({LineWidth:b.LineWidth,StrokeColor:b.LineColor,
Actions:[{Action:"move",x:r+c.width,y:a.y},{Action:"line",x:r+c.width,y:a.y+a.h}]});r+=c.width});return k},spatialControls:function(b){function c(a){var c=lucid.plugin.getProperty(b,"BoundingBox"),k=lucid.plugin.getProperty(b,"TitleWidth"),g=lucid.plugin.getProperty(b,"Columns"),l=g.slice(0,a).reduce(function(a,b){return a+b.width},c.x+k),m=l+g[a].width;return{logAction:"chart.viewport.selection.spatialControls.uml.multidimensionalSwimlaneWidth",snap:!0,color:"none",location:function(){var a=lucid.plugin.getProperty(b,
"TitleHeight");return{x:m-10,y:c.y+a,w:20,h:c.h-a}},moved:function(c){var k=lucid.object.copy(g);k[a].width=c.x-l;c=lucid.plugin.getContained(b);var n=k[a].width-g[a].width;if(0!=n)for(var r=0;r<c.length;r++){var q=lucid.plugin.getProperty(c[r],"BoundingBox");q&&q.x>m&&(q.x+=n,lucid.plugin.setProperty(c[r],"BoundingBox",q))}lucid.plugin.setProperty(b,"Columns",k);d()},path:function(){return[{x:l+20,y:c.y},{x:m+1E3,y:c.y}]},cursor:function(){return"e-resize"}}}function a(a){var c=lucid.plugin.getProperty(b,
"BoundingBox"),k=lucid.plugin.getProperty(b,"TitleHeight"),g=lucid.plugin.getProperty(b,"Rows"),l=g.slice(0,a).reduce(function(a,b){return a+b.height},c.y+k),m=l+g[a].height;return{logAction:"chart.viewport.selection.spatialControls.uml.multidimensionalSwimlaneWidth",snap:!0,color:"none",location:function(){var a=lucid.plugin.getProperty(b,"TitleWidth");return{x:c.x+a,y:m-10,w:c.w-a,h:20}},moved:function(c){var k=lucid.object.copy(g);k[a].height=c.y-l;c=lucid.plugin.getContained(b);var n=k[a].height-
g[a].height;if(0!=n)for(var r=0;r<c.length;r++){var q=lucid.plugin.getProperty(c[r],"BoundingBox");q&&q.y>m&&(q.y+=n,lucid.plugin.setProperty(c[r],"BoundingBox",q))}lucid.plugin.setProperty(b,"Rows",k);d()},path:function(){return[{x:c.x,y:l+20},{x:c.x,y:m+1E3}]},cursor:function(){return"s-resize"}}}function d(){var a=lucid.plugin.getProperty(b,"Rows"),c=lucid.plugin.getProperty(b,"Columns"),d=lucid.plugin.getProperty(b,"BoundingBox"),g=lucid.plugin.getProperty(b,"TitleHeight"),l=lucid.plugin.getProperty(b,
"TitleWidth");a=g+a.reduce(function(a,b){return a+b.height},0);c=l+c.reduce(function(a,b){return a+b.width},0);if(d.w!=c||d.h!=a)d.w=c,d.h=a,lucid.plugin.setProperty(b,"BoundingBox",d)}for(var g=[],l=lucid.plugin.getProperty(b,"Rows").length,m=0;m<l;m++)g.push(a(m));l=lucid.plugin.getProperty(b,"Columns").length;for(m=0;m<l;m++)g.push(c(m));g.push({logAction:"chart.viewport.selection.spatialControls.uml.multidimensionalSwimlaneColumnHeader",snap:!0,color:"none",location:function(){var a=lucid.plugin.getProperty(b,
"BoundingBox"),c=lucid.plugin.getProperty(b,"TitleHeight"),d=lucid.plugin.getProperty(b,"TitleWidth");return{x:a.x+d,y:a.y+c-10,w:a.w-d,h:20}},moved:function(a){var c=lucid.plugin.getProperty(b,"BoundingBox"),k=lucid.plugin.getProperty(b,"TitleHeight");c=a.y-c.y;lucid.plugin.setProperty(b,"TitleHeight",c);a=lucid.plugin.getContained(b);k=c-k;if(0!=k)for(c=0;c<a.length;c++){var g=lucid.plugin.getProperty(a[c],"BoundingBox");g&&(g.y+=k,lucid.plugin.setProperty(a[c],"BoundingBox",g))}d()},path:function(){var a=
lucid.plugin.getProperty(b,"BoundingBox");return[{x:a.x,y:a.y+20},{x:a.x,y:a.y+1E3}]},cursor:function(){return"s-resize"}});g.push({logAction:"chart.viewport.selection.spatialControls.uml.multidimensionalSwimlaneRowHeader",snap:!0,color:"none",location:function(){var a=lucid.plugin.getProperty(b,"BoundingBox"),c=lucid.plugin.getProperty(b,"TitleHeight"),d=lucid.plugin.getProperty(b,"TitleWidth");return{x:a.x+d-10,y:a.y+c,w:20,h:a.h-c}},moved:function(a){var c=lucid.plugin.getProperty(b,"BoundingBox"),
k=lucid.plugin.getProperty(b,"TitleWidth");c=a.x-c.x;lucid.plugin.setProperty(b,"TitleWidth",c);a=lucid.plugin.getContained(b);k=c-k;if(0!=k)for(c=0;c<a.length;c++){var g=lucid.plugin.getProperty(a[c],"BoundingBox");g&&(g.x+=k,lucid.plugin.setProperty(a[c],"BoundingBox",g))}d()},path:function(){var a=lucid.plugin.getProperty(b,"BoundingBox");return[{x:a.x+20,y:a.y},{x:a.x+1E3,y:a.y}]},cursor:function(){return"e-resize"}});return g}});
lucid.plugin.registerStepperControl("UMLMultidimensionalSwimlane","RowCount",function(){return 1},function(){return 1},function(){return 50});lucid.plugin.registerStepperControl("UMLMultidimensionalSwimlane","ColumnCount",function(){return 1},function(){return 1},function(){return 50});lucid.plugin.createNextBlockGroup(["UMLSeqEntityBlock","UMLBoundaryBlock","UMLControlBlock"]);lucid.plugin.createNextBlockGroup(["UMLComponentBlock","UMLComponentInterfaceBlock"]);lucid.plugin.initBlockClass(zc());
lucid.plugin.initBlockClass(zc(!0));
lucid.plugin.addContextMenuItems(function(){function b(a,b,d){if(1==b.length&&b[0]){var k=lucid.plugin.getAllProperties(b[0]),g=k.Lanes.length-1;k.Vertical?(a=l(a,k),"r"===d&&a<g?c(b[0],a,a+1,k):"l"===d&&0<a&&c(b[0],a,a-1,k)):(a=l(a,k),"u"===d&&0<a?c(b[0],a,a-1,k):"d"===d&&a<g&&c(b[0],a,a+1,k))}}function c(b,c,l,m){var k=m.Lanes;if(c>l){var n=c;c=l;l=n}var q=lucid.plugin.getContained(b);n=d(c,q,m);q=d(l,q,m);var r=g(c,m),ba=g(l,m);a(b,ba.w,n,m);a(b,-r.w,q,m);c<k.length&&l<k.length&&(n=k[c],k[c]=k[l],
k[l]=n);lucid.plugin.setProperty(b,"Lanes",k)}function a(a,b,c,d){for(a=0;a<c.length;a++){var k=lucid.plugin.getProperty(c[a],"BoundingBox");k&&(d.Vertical?k.x+=b:k.y+=b,lucid.plugin.setProperty(c[a],"BoundingBox",k))}}function d(a,b,c,d){var k=c.Lanes,l=c.BoundingBox,m=[],n=lucid.math.Box.rotate(l,c.Rotation||0),q={x:n.x+n.w/2,y:n.y+n.h/2};if(a>k.length)return m;var r=g(a,c,d);c.Vertical||(r.x+=2*(l.x+l.w/2-(r.x+r.w/2)));lucid.array.forEach(b,function(a){var b=lucid.plugin.getProperty(a,"BoundingBox");
if(b){var d=lucid.plugin.getProperty(a,"Rotation")||0;b=lucid.math.Box.rotate(b,d);c.Vertical||(b=lucid.math.Box.rotate(b,Math.PI/2,q));lucid.math.Box.within(b,r)&&m.push(a)}});return m}function g(a,b,c){for(var d=b.BoundingBox,k={x:d.x,y:d.y,w:d.w*b.Lanes[a].p,h:d.h},g=0;g<a;g++)k.x+=d.w*b.Lanes[g].p;c&&(k.w=d.w-(k.x-d.x));return k}function l(a,b){var c=b.Lanes,d=b.BoundingBox,k=b.Rotation;b=d.w;var g=d.x;if(k)for(a=lucid.math.Point.rotate(a,lucid.math.Box.center(d),-k),k=c.length-1;0<=k;k--){d=
b*c[k].p;if(a.x>g&&a.x<g+d)break;g+=d}else for(k=0;k<c.length;k++){d=b*c[k].p;if(a.x>g&&a.x<g+d)break;g+=d}return k}function m(a,b,c){if(!a||1!=a.length)return!1;void 0===c&&(c=1);var d=lucid.plugin.getBlockClassName(a[0]),k=lucid.plugin.getProperty(a[0],"Lanes");return d&&-1<d.toLowerCase().indexOf("umlmultilane")&&k&&k.length>=c&&(b?!lucid.plugin.getProperty(a[0],"Vertical"):!!lucid.plugin.getProperty(a[0],"Vertical"))}return[{external:!0,label:i18n.get("plugin-uml-swimlane-context-menu-insert-lane-before"),
logAction:"chart.viewport.context.uml.multiswimlane.insertLaneBefore",action:function(a,b){if(1==b.length&&b[0]){var c=lucid.plugin.getAllProperties(b[0]);50>c.Lanes.length&&(a=l(a,c),A.common.Swimlane.updateLanes("add",b[0],a,!0,!0))}},visible:function(a){return(m(a,!1,1)||m(a,!0,1))&&50>lucid.plugin.getProperty(a[0],"Lanes").length}},{external:!0,label:i18n.get("plugin-uml-swimlane-context-menu-insert-lane-after"),logAction:"chart.viewport.context.uml.multiswimlane.insertLaneAfter",action:function(a,
b){if(1==b.length&&b[0]){var c=lucid.plugin.getAllProperties(b[0]);50>c.Lanes.length&&(a=l(a,c),A.common.Swimlane.updateLanes("add",b[0],a,!1,!0))}},visible:function(a){return(m(a,!1,1)||m(a,!0,1))&&50>lucid.plugin.getProperty(a[0],"Lanes").length}},{external:!0,label:i18n.get("plugin-uml-swimlane-context-menu-move-lane-left"),logAction:"chart.viewport.context.uml.multiswimlane.moveLaneLeft",action:function(a,c){b(a,c,"l")},visible:function(a){return m(a,!1,2)}},{external:!0,label:i18n.get("plugin-uml-swimlane-context-menu-move-lane-right"),
logAction:"chart.viewport.context.uml.multiswimlane.moveLaneRight",action:function(a,c){b(a,c,"r")},visible:function(a){return m(a,!1,2)}},{external:!0,label:i18n.get("plugin-uml-swimlane-context-menu-move-lane-up"),logAction:"chart.viewport.context.uml.multiswimlane.moveLaneUp",action:function(a,c){b(a,c,"u")},visible:function(a){return m(a,!0,2)}},{external:!0,label:i18n.get("plugin-uml-swimlane-context-menu-move-lane-down"),logAction:"chart.viewport.context.uml.multiswimlane.moveLaneDown",action:function(a,
c){b(a,c,"d")},visible:function(a){return m(a,!0,2)}},{external:!0,label:i18n.get("plugin-uml-swimlane-context-menu-remove-lane"),logAction:"chart.viewport.context.uml.multiswimlane.removeLane",action:function(b,c){if(1==c.length&&c[0]){var k=lucid.plugin.getAllProperties(c[0]);if(1<k.Lanes.length){b=l(b,k);for(var m=k.Lanes,n=g(b,k),x=[],w=k.BoundingBox.w*(1-m[b].p),aa=lucid.plugin.getContained(c[0]),ba=d(b,aa,k),y=0;y<ba.length;y++)lucid.plugin.deleteItem(ba[y]);b+1<m.length&&(aa=d(b+1,aa,k,!0),
a(c[0],-n.w,aa,k));for(y=0;y<m.length;y++)y!=b&&(m[y].p=k.BoundingBox.w*m[y].p/w,x.push(m[y]));lucid.plugin.setProperty(c[0],"Lanes",x);k.Vertical||(k.BoundingBox.x+=(k.BoundingBox.w-w)/2,k.BoundingBox.y-=(k.BoundingBox.w-w)/2);k.BoundingBox.w=w;lucid.plugin.setProperty(c[0],"Lane_"+m[b].tid,"Lane");lucid.plugin.setProperty(c[0],"BoundingBox",k.BoundingBox)}}},visible:function(a){if(1!=a.length||!a[0])return!1;var b=lucid.plugin.getBlockClassName(a[0]);return b&&-1<b.toLowerCase().indexOf("umlmultilane")&&
1<lucid.plugin.getProperty(a[0],"Lanes").length}}]}());
function zc(b){lucid.plugin.registerStepperControl(b?"UMLMultiLanePoolRotatedBlock":"UMLMultiLanePoolBlock","LaneCount",function(){return 1},function(){return 1},function(){return 50});lucid.plugin.registerStringSelectControl(b?"UMLMultiLanePoolRotatedBlock":"UMLMultiLanePoolBlock","Orientation",A.common.Swimlane.getOrientationOptions);return{className:b?"UMLMultiLanePoolRotatedBlock":"UMLMultiLanePoolBlock",name:i18n.get("plugin-uml-multi-swimlane"),defaultSize:{w:640,h:700},container:!0,disabledPropertyControls:["FlipX",
"FlipY"],rLock:!0,hLock:!0,vLock:!0,searchKeywords:i18n.get("plugin-uml-multi-swimlane-search-keywords"),beforeCreate:function(b,a){return A.common.Swimlane.beforeCreate.bind(this)(b,a,["UMLMultiLanePoolBlock","UMLMultiLanePoolRotatedBlock"])},getLinkPoints:function(b){return A.common.Swimlane.getLinkPoints.bind(this)(b)},spatialControls:function(b){return A.common.Swimlane.spatialControls.bind(this)(b,!0)},onCreate:function(b){Fb||(lucid.plugin.openPanel("plugin"),Fb=!0);lucid.plugin.editBlockTextArea(b,
"MainText")},onInit:function(c){function a(a){lucid.plugin.getBlockTextAreas(c);lucid.plugin.addBlockTextArea(c,{id:"Lane_"+a,value:lucid.text.restyle(i18n.get("plugin-uml-multi-swimlane-lane-text"),m),getBoundingBox:function(a){return function(b){var g=lucid.plugin.getProperty(c,"Lanes");d(g);var k;for(k=0;k<g.length&&g[k].tid!==a;k++);if(k>=g.length)return null;var l=0;if(lucid.plugin.getProperty(c,"Vertical"))for(var m=0;m<k;m++)l+=b.w*g[m].p;else for(m=g.length-1;m>k;m--)l+=b.w*g[m].p;return{x:b.x+
l,y:b.y+lucid.plugin.getProperty(c,"mainTitleHeight",!0),w:b.w*g[k].p,h:lucid.plugin.getProperty(c,"titleHeight",!0)}}}(a)})}function d(a){lucid.plugin.getProperty(c,"Vertical");var b=lucid.plugin.getProperty(c,"BoundingBox"),d=lucid.plugin.getProperty(c,"titleHeight",!0),g=lucid.plugin.getProperty(c,"mainTitleHeight",!0),k=b.h/3,x=!1;l=40;var w={x:0,y:0,w:b.w,h:1E4};w=lucid.text.getSize(c,"MainText",w);w=Math.min(k,Math.round(Math.max(l,w.h+15)));w!=g&&(lucid.plugin.setProperty(c,"mainTitleHeight",
w,!0),x=!0);for(g=0;g<a.length;g++)w={x:0,y:0,w:b.w*a[g].p,h:1E4},w=lucid.text.getSize(c,"Lane_"+a[g].tid,w),l=Math.min(k,Math.round(Math.max(l,w.h+15)));m=lucid.text.getStyle(c,"Lane_"+a[a.length-1].tid);l!=d&&(lucid.plugin.setProperty(c,"titleHeight",l,!0),x=!0);x&&lucid.plugin.refreshBlockView(c)}function g(a,b){return A.common.Swimlane.setOrientation.bind(this)(c,a,b)}var l=40,m=null;lucid.plugin.addBlockTextArea(c,{id:"MainText",value:lucid.text.restyle(i18n.get("plugin-uml-multi-swimlane-main-text"),
m),getBoundingBox:function(a){var b=lucid.plugin.getProperty(c,"Lanes");d(b);lucid.plugin.getProperty(c,"Vertical");return{x:a.x,y:a.y,w:a.w,h:lucid.plugin.getProperty(c,"mainTitleHeight",!0)}}});lucid.plugin.registerProperty(c,"Lanes",[{p:.5,tid:0},{p:.5,tid:1}],null,function(b,g){if(b!=g){b=lucid.plugin.getBlockTextAreas(c);var k=b.indexOf("MainText");0<=k&&b.splice(k,1);for(var l=["MainText"],m=0;m<g.length;m++){var n="Lane_"+g[m].tid;k=b.indexOf(n);0>k?a(g[m].tid):b.splice(k,1);l.push(n)}for(m=
0;m<b.length;m++)lucid.plugin.deleteBlockTextArea(c,b[m]);lucid.plugin.setBlockTextAreasOrder(c,l);d(g)}});lucid.plugin.registerProperty(c,"Vertical",b?0:1,null,function(a,b){a!=b&&g(a,b)});lucid.plugin.registerProxyProperty(c,"LaneCount",A.common.Swimlane.getLaneCountOfSwimLaneBlock.bind(null,c),A.common.Swimlane.setLaneCountOfSwimLaneBlock.bind(null,c,!0));lucid.plugin.registerProxyProperty(c,"Orientation",A.common.Swimlane.getOrientationOfSwimLaneBlock.bind(null,c),A.common.Swimlane.setOrientationOfSwimLaneBlock.bind(null,
c,!1));lucid.plugin.hookPropertyPostSave(c,"Lanes",function(){lucid.plugin.proxyPropertyChanged(c,"LaneCount")});lucid.plugin.hookPropertyPostSave(c,"Vertical",function(){lucid.plugin.proxyPropertyChanged(c,"Orientation")})},getRenderData:function(b,a){function c(a){r[2].Actions.push({Action:"move",x:a.x,y:a.y+k});r[2].Actions.push({Action:"line",x:a.x,y:a.y+a.h})}var g=b.Lanes,l=b.Vertical||!1,m=b.BoundingBox,k=b.mainTitleHeight||40,n=b.titleHeight||40;if(40>m.h||"sample"==a)k=m.h/5,n=m.h/5;var r=
[{FillColor:b.FillColor,Actions:[I(m,0,0),E(m,1,0),H(m.x+m.w,m.y+k+n),H(m.x,m.y+k+n),P()]},{FillColor:b.FillColor,NoRounding:!0,Actions:[Qa(m.x,m.y+k),H(m.x+m.w,m.y+k),H(m.x+m.w,m.y+k+n),H(m.x,m.y+k+n),P()]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[Qa(m.x,m.y+k),H(m.x+m.w,m.y+k),Qa(m.x,m.y+k+n),H(m.x+m.w,m.y+k+n)]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[I(m,1,0),E(m,1,1),E(m,0,1),E(m,0,0),P()]}];b=m.w;if(l)for(l=0;l<g.length;l++)m.w=b*g[l].p,0<l&&c(m),m.x+=b*g[l].p;
else for(l=g.length-1;0<=l;l--)m.w=b*g[l].p,l<g.length-1&&c(m),m.x+=b*g[l].p;return r}}}var rd=i18n.get("plugin-uml-sequence-markup-name-example");
function sd(b){var c,a=b?lucid.plugin.getProperty(b,"Markup").UML_Sequence:rd;lucid.dialog.textAreaPrompt({children:[i18n.get("plugin-uml-sequence-markup-dialog-explanation",{},['<a href="https://lucidchart.zendesk.com/hc/articles/208029986" target="_blank">{}</a>']),{classes:"spacer"},{css:{color:"red"},create:function(a){c=a}}]},a,function(a){if(a=td(b,a))return $(c).text(a.message),!1;$(c).text("");return!0},void 0,void 0,i18n.get("plugin-uml-sequence-markup-dialog-title"));lucid.kissMetrics.record(lucid.kissMetrics.Events.openedUMLSequenceMarkupDialog)}
function ud(b){return lucid.plugin.getProperty(b,"Markup")}
function td(b,c){lucid.marketingeventsdispatcher.recordEvent("uml-markup-used","uml-markup-used");lucid.kissMetrics.record(lucid.kissMetrics.Events.umlMarkupUsed);var a=c?c:b?ud(b).UML_Sequence:rd;lucid.kissMetrics.record(lucid.kissMetrics.Events.generatedUMLSequenceMarkupDiagram);for(c=a;-1!==c.indexOf("/'");){var d=c.indexOf("/'"),g=c.indexOf("'/",d+2);c=vd(c,d,g,"'/")}for(;-1!==c.indexOf("\n'");)g=c.indexOf("\n'"),d=c.indexOf("\n",g+2),c=vd(c,g,d,"\n");"'"==c.charAt(0)&&(d=c.indexOf("\n"),c=vd(c,
0,d,"\n"));c=A.uml.sequence.Parser.parse(c);if(c instanceof A.uml.sequence.Parser.ParseSuccess){c=wd(c.diagram);lucid.plugin.setProperty(c,"Markup",{UML_Sequence:a});lucid.plugin.deselectAllItems();lucid.plugin.selectItem(c);a={x:100,y:100,w:0,h:0};void 0!==b&&(lucid.plugin.redirectThreads(b,c),a=lucid.plugin.getGroupBoundingBox(b),lucid.plugin.deleteItem(b));b=lucid.plugin.getGroupBoundingBox(c);a=lucid.math.Box.subtract(a,b);a.w=0;a.h=0;b=lucid.plugin.getOffsetProperties(c,b,a,{top:!1,left:!1,bottom:!1,
right:!1},null);for(var l in b){a=b[l];for(var m in a)lucid.plugin.setProperty(l,m,a[m])}return null}l=c.getErrorMessage();m=c.getErrorLine();return{message:l,lineNum:m}}function xd(b,c){if(lucid.user.getRestrictions("UMLMarkup")){if(b&&1==b.length&&ud(b[0].getId()))return td(b[0].getId(),c);if(!b||1!=b.length)return td(void 0,c)}else yd()}function zd(b,c){if(b&&!ud(b))return!0;lucid.user.getRestrictions("UMLMarkup")?sd(b,c):yd();return!1}
function yd(){lucid.marketingeventsdispatcher.recordEvent("uml-markup-editor-paywall","uml-markup-editor-paywall");lucid.kissMetrics.record(lucid.kissMetrics.Events.umlMarkupEditorPaywall);lucid.paywall.displayPremiumFeaturePaywall("UMLMarkup")}
lucid.plugin.registerErrorableTextAreaControl(void 0,"Markup",function(b){if(1==b.length)return lucid.plugin.getProperty(b[0].getId(),"Markup").UML_Sequence},xd,function(){var b=lucid.plugin.getSingleSelectedGroup();return b&&lucid.plugin.getProperty(b.getId(),"Markup")?[b]:[]});lucid.plugin.onActiveSelectionChange(function(b){return lucid.newEditor&&ud(b)?!1:zd(b)});
function vd(b,c,a,d){if(-1<a){var g=b.substring(0,c);c=b.substring(c,a+d.length);b=b.substring(a+d.length);return g+c.replace(/[^\r\n]/g,"")+b}g=b.substring(0,c);c=b.substring(c);return g+c.replace(/[^\r\n]/g,"")}
function wd(b){var c=lucid.plugin.getPageSelection()[0],a=b.getParticipantWidths(function(a){var b=new A.uml.sequence.view.Message(a);return a.isSelfMessage()?b.rightPadding:b.textWidth});a=Se(c,b.participants,a,b.totalDepth);b=Te(c,b,a);var d=[];for(l in a){var g=a[l];d.push(g.topBlockId);d.push(g.bottomBlockId);d.push(g.line.id)}var l=d.concat(b);return lucid.plugin.addGroup(c,l)}
function Se(b,c,a,d){var g=A.uml.sequence.model.size,l=g.participantSize,m=g.padding,k={};d=m.y+l.h+m.segmentHeight*(g.verticalSegments+d);for(var n=m.x,r=0;r<c.length;r++){var q=c[r],u=q.name,x=q.displayName;q=Math.max(l.w+m.w,a[u]);var w=lucid.plugin.addBlock(b,{className:"UMLObjectBlock",BoundingBox:{x:n,y:m.y,w:l.w,h:l.h},Text:x});x=lucid.plugin.addBlock(b,{className:"UMLObjectBlock",BoundingBox:{x:n,y:d,w:l.w,h:l.h},Text:x});w=lucid.plugin.addLine(b,{Endpoint1:{Block:w,LinkX:.5,LinkY:1,Style:"None"},
Endpoint2:{Block:x,LinkX:.5,LinkY:0,Style:"None"},StrokeStyle:"dashed",Shape:"elbow",LineJumps:!1});k[u]=new A.uml.sequence.view.ParticipantLifeline(u,w,r,r<c.length-1?q:a[u]+g.participantLinePadding);n+=q}return k}
function Te(b,c,a){var d=c.totalDepth+A.uml.sequence.model.size.verticalSegments;A.uml.sequence.view.ParticipantLifeline.addActivationEventsToLifelines(c,a,0,d);var g=[];for(var l in a)g=g.concat(a[l].renderLifelineBlocks(b));Ue(c,a);b=Ve(b,c,a,0,d,c.participantSet);return g.concat(b)}
function Ue(b,c){for(var a=A.uml.sequence.model.size.participantLinePadding,d=[],g=0;g<b.getActionCount();g++){var l=b.get(g);l instanceof A.uml.sequence.model.SubDiagram&&(Ue(l,c),d.push(l))}if(b instanceof A.uml.sequence.model.SubDiagram){g=lucid.object.getKeys(b.participantSet);l=A.uml.sequence.view.ParticipantLifeline.getParticipantsInOrder(g,c);g=l[0];l=l[l.length-1];var m=function(){return function(){return null}};if(void 0!==g){if(g==l){var k=c[g].line;l=lucid.object.copy(k);l.x+=c[g].width}else k=
c[g].line,l=c[l].line;var n=k.x-a,r=l.x+a;m=function(){var a=null;return function(g,l){var m=0,q=0;if(void 0!==g&&void 0!==l){q=b.getTopDepth(g);var u=b.getBottomDepth(g);m=k.yTop+(k.yBot-k.yTop)*q/l;q=(k.yBot-k.yTop)*(u-q)/l}if(!a){var y=d.map(function(a){return a.getBoundingBox(g,l)}).filter(function(a){return null!==a});u=y.map(function(a){return a.x-10});y=y.map(function(a){return a.x+a.w+10});for(var x=b.getActionCount(),B=0;B<x;B++){var C=b.get(B);if(C instanceof A.uml.sequence.model.Message){var G=
(new A.uml.sequence.view.Message(C)).getBoundingBox(c,g,l);C=A.uml.sequence.view.Note.horizontalPadding/2;u.push(G.x-C);y.push(G.x+G.w+C)}else if(C instanceof A.uml.sequence.model.Note){G=C;var Y;G instanceof A.uml.sequence.model.LeftBlockNote?Y=new A.uml.sequence.view.LeftBlockNote(G,c):G instanceof A.uml.sequence.model.RightBlockNote?Y=new A.uml.sequence.view.RightBlockNote(G,c):C instanceof A.uml.sequence.model.OverNote&&(Y=new A.uml.sequence.view.OverBlockNote(G,c));C=A.uml.sequence.view.Note.horizontalPadding/
2;G=Y.getBoundingBox(g,l);u.push(G.x-C);y.push(G.x+G.w+C)}}u.unshift(n);y.unshift(r);Y=Math.min.apply(null,u);u=Math.max.apply(null,y);a={x:Y,w:u-Y}}return{x:a.x,y:m,w:a.w,h:q}}}}b.getBoundingBox=m()}}
function Ve(b,c,a,d,g,l){for(var m,k,n=[],r=0;r<c.getActionCount();r++){m=c.get(r);if(m instanceof A.uml.sequence.model.Message)k=(new A.uml.sequence.view.Message(m)).render(b,a,d,g),d+=m.height,n=n.concat(k);else if(m instanceof A.uml.sequence.model.MessageGroup){var q=m;m=q.getBoundingBox(d,g);null!==m&&(k=lucid.plugin.addBlock(b,{className:"UMLOptionLoopBlock",BoundingBox:m,Title:q.type,Text:q.label?q.label:""}),m=Ve(b,q,a,q.getDepthBelowLabel(d),g,l),n.push(k),Array.prototype.push.apply(n,m),
d+=q.height)}else if(m instanceof A.uml.sequence.model.AltGroup)q=m,m=q.getBoundingBox(d,g),null!==m&&(k=lucid.plugin.addBlock(b,{className:"UMLAlternativeBlock2",BoundingBox:m,Boundaries:q.boundaries,Condition:q.condition||""}),m=Ve(b,q,a,q.getDepthBelowLabel(d),g,l),n.push(k),Array.prototype.push.apply(n,m),d+=q.height);else if(m instanceof A.uml.sequence.model.ElseGroup)k=m,m=Ve(b,k,a,k.getDepthBelowLabel(d),g,l),Array.prototype.push.apply(n,m),d+=k.height;else if(m instanceof A.uml.sequence.model.ActivationGroup)d+=
m.height;else if(m instanceof A.uml.sequence.model.Note&&!(m instanceof A.uml.sequence.model.InlineNote)){k=m;var u;k instanceof A.uml.sequence.model.LeftBlockNote?u=new A.uml.sequence.view.LeftBlockNote(k,a):k instanceof A.uml.sequence.model.RightBlockNote?u=new A.uml.sequence.view.RightBlockNote(k,a):m instanceof A.uml.sequence.model.OverNote&&(u=new A.uml.sequence.view.OverBlockNote(k,a));n.push(u.render(b,d,g));d+=k.height}d+=c.depthBetweenActions}return n}
lucid.plugin.onActivate(function(){lucid.line.enableEndpointStyles("uml");lucid.plugin.allowShadowSharing("UMLActivationBlock",!0);lucid.plugin.allowShadowSharing("UMLActiveClassBlock",!0);lucid.plugin.allowShadowSharing("UMLActorBlock",!0);lucid.plugin.allowShadowSharing("UMLAlternativeBlock",!1);lucid.plugin.allowShadowSharing("UMLAttributeBlock",!0);lucid.plugin.allowShadowSharing("UMLAssemblyConnectorBlock",!0);lucid.plugin.allowShadowSharing("UMLBoundaryBlock",!1);lucid.plugin.allowShadowSharing("UMLCircleContainerBlock",
!0);lucid.plugin.allowShadowSharing("UMLClassBlock",!0);lucid.plugin.allowShadowSharing("UMLComponentBlock",!0);lucid.plugin.allowShadowSharing("UMLComponentBoxBlock",!0);lucid.plugin.allowShadowSharing("UMLComponentInterfaceBlock",!0);lucid.plugin.allowShadowSharing("UMLConstraintBlock",!1);lucid.plugin.allowShadowSharing("UMLControlBlock",!1);lucid.plugin.allowShadowSharing("UMLDecisionBlock",!0);lucid.plugin.allowShadowSharing("UMLEndBlock",!0);lucid.plugin.allowShadowSharing("UMLEntityBlock",
!0);lucid.plugin.allowShadowSharing("UMLExpansionNodeBlock",!0);lucid.plugin.allowShadowSharing("UMLFlowFinalBlock",!0);lucid.plugin.allowShadowSharing("UMLHForkJoinBlock",!0);lucid.plugin.allowShadowSharing("UMLHistoryStateBlock",!0);lucid.plugin.allowShadowSharing("UMLInterruptingEdgeBlock",!0);lucid.plugin.allowShadowSharing("UMLMultiplicityBlock",!0);lucid.plugin.allowShadowSharing("UMLMultivaluedAttributeBlock",!0);lucid.plugin.allowShadowSharing("UMLNodeBlock",!0);lucid.plugin.allowShadowSharing("UMLNoteBlock",
!0);lucid.plugin.allowShadowSharing("UMLObjectBlock",!0);lucid.plugin.allowShadowSharing("UMLOptionLoopBlock",!1);lucid.plugin.allowShadowSharing("UMLPackageBlock",!0);lucid.plugin.allowShadowSharing("UMLProvidedInterfaceBlock",!0);lucid.plugin.allowShadowSharing("UMLReceiveSignalBlock",!0);lucid.plugin.allowShadowSharing("UMLRectangleContainerBlock",!0);lucid.plugin.allowShadowSharing("UMLRelationshipBlock",!0);lucid.plugin.allowShadowSharing("UMLRequiredInterfaceBlock",!0);lucid.plugin.allowShadowSharing("UMLSendSignalBlock",
!0);lucid.plugin.allowShadowSharing("UMLSeqEntityBlock",!1);lucid.plugin.allowShadowSharing("UMLStartBlock",!0);lucid.plugin.allowShadowSharing("UMLTextBlock",!0);lucid.plugin.allowShadowSharing("UMLUseCaseBlock",!0);lucid.plugin.allowShadowSharing("UMLVForkJoinBlock",!0);lucid.plugin.allowShadowSharing("UMLWeakEntityBlock",!0);lucid.plugin.allowShadowSharing("UMLWeakRelationshipBlock",!0);lucid.plugin.allowShadowSharing("UMLMultidimensionalSwimlane",!0)});lucid.plugin.onDeactivate(function(){lucid.line.disableEndpointStyles("uml")});
lucid.plugin.createToolGroups({"UML Class Dgm":{displayName:i18n.get("plugin-uml-group-class-diagram"),items:["UMLClassBlock","UMLActiveClassBlock",{className:"UMLClassBlock",variant:"UMLClassBlockSimple"},{className:"UMLClassBlock",variant:"UMLInterfaceBlock"},{className:"UMLClassBlock",variant:"UMLInterfaceBlockSimple"},"UMLMultiplicityBlock","UMLPackageBlock","UMLConstraintBlock","UMLNoteBlock","UMLTextBlock"]},"UML Use Case":{displayName:i18n.get("plugin-uml-group-use-case"),items:["UMLActorBlock",
"UMLUseCaseBlock",{className:"UMLUseCaseBlock",variant:"UMLUseCaseExt"},"UMLCircleContainerBlock","UMLRectangleContainerBlock","UMLNoteBlock","UMLTextBlock"]},"UML State/Activity":{displayName:i18n.get("plugin-uml-group-state-activity"),items:[{className:"UMLOptionLoopBlock",variant:"UMLStateName"},"UMLStartBlock","UMLStateBlock",{className:"UMLStateBlock",variant:"UMLStateBlockCmp"},{className:"UMLStateBlock",variant:"UMLStateBlockExt"},"UMLDecisionBlock","UMLHForkJoinBlock","UMLVForkJoinBlock",
"UMLFlowFinalBlock","UMLHistoryStateBlock","UMLEndBlock","UMLRectangleContainerBlock","UMLSwimLaneBlock","UMLNoteBlock","UMLTextBlock","UMLObjectBlock","UMLSendSignalBlock","UMLReceiveSignalBlock","UMLAcceptTimeEventActionBlock","UMLInterruptingEdgeBlock","UMLOffPageLinkBlock","UMLExpansionNodeBlock","UMLMultiLanePoolBlock","UMLMultiLanePoolRotatedBlock","UMLMultidimensionalSwimlane"]},"UML Sequence":{displayName:i18n.get("plugin-uml-group-sequence"),items:[{className:"UMLObjectBlock",variant:"UMLObjectBlockSeq"},
"UMLActivationBlock","UMLDeletionBlock","UMLNoteBlock","UMLPackageBlock","UMLConstraintBlock","UMLOptionLoopBlock","UMLAlternativeBlock2","UMLSeqEntityBlock","UMLBoundaryBlock","UMLControlBlock",{label:i18n.get("plugin-uml-sequence-markup-button"),action:lucid.newEditor?xd:zd}]},"UML Component":{displayName:i18n.get("plugin-uml-group-component"),items:"UMLComponentBlock UMLNodeBlock UMLComponentInterfaceBlock UMLPackageBlock UMLNoteBlock UMLComponentBoxBlock UMLAssemblyConnectorBlock UMLProvidedInterfaceBlock UMLRequiredInterfaceBlock".split(" ")},
"UML Deployment":{displayName:i18n.get("plugin-uml-group-deployment"),items:[{className:"UMLNodeBlock",variant:"UMLNodeDeployment"},{className:"UMLComponentBlock",variant:"UMLComponentDeployment"},"UMLObjectBlock","UMLPackageBlock","UMLNoteBlock","UMLConstraintBlock",{className:"UMLNodeBlock",variant:"UMLNodeDeploymentInstance"},{className:"UMLComponentBlock",variant:"UMLComponentDeploymentInstance"}]},"UML Entity Relationship":{displayName:i18n.get("plugin-uml-group-entity-relationship"),items:"UMLEntityBlock UMLWeakEntityBlock UMLAttributeBlock UMLMultivaluedAttributeBlock UMLRelationshipBlock UMLWeakRelationshipBlock".split(" ")}});
//# sourceMappingURL=/js/plugins/v2/source-maps/uml.js.map

};
