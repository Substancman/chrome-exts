pluginFn['/js/plugins/v2/default.js'] = function(lucid, window) {
	var f={global:this,provide:function(b){b=b.split(".");f.global[b[0]]=f.global[b[0]]||{};var a=f.global[b[0]];b.slice(1).reduce(function(a,b){a[b]||(a[b]={});return a[b]},a)},require:function(){},DEBUG:!1,inherits:function(b,a){function c(){}c.prototype=a.prototype;b.superClass_=a.prototype;b.prototype=new c;b.prototype.constructor=b;b.base=function(c,b,g){var e=Array.prototype.slice.call(arguments,2);return a.prototype[b].apply(c,e)}},base:function(b,a,c){var e=arguments.callee.caller;if(f.STRICT_MODE_COMPATIBLE||
f.DEBUG&&!e)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(e.superClass_)return e.superClass_.constructor.apply(b,Array.prototype.slice.call(arguments,1));for(var d=Array.prototype.slice.call(arguments,2),g=!1,h=b.constructor;h;h=h.superClass_&&h.superClass_.constructor)if(h.prototype[a]===e)g=!0;else if(g)return h.prototype[a].apply(b,d);if(b[a]===e)return b.constructor.prototype[a].apply(b,
d);throw Error("goog.base called from a method of one name to a method of a different name");}};var k={common:{}};k.common.DocVersionedProps={};k.common.DocVersionedProps.getValueForDocVersion=function(b,a){var c=lucid.plugin.getProperty(null,"Version")||0;return(b=lucid.array.findRight(b,function(a){return a.docVersionInstated<=c}))&&b.value||a};k.commonShapes={};function m(b,a){a=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(b,-a)}function n(b,a){a=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(b,a)}k.commonshapes={};
k.commonshapes.createDiamondBlockClass=function(b,a,c,e){lucid.plugin.initBlockClass({className:b,name:i18n.get("plugin-geometricshapes-shape-diamond"),searchKeywords:[],defaultSize:{w:a,h:c},onInit:function(a){lucid.plugin.addBlockTextArea(a,{id:"Text",value:e,getBoundingBox:k.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h}}},{docVersionInstated:2,value:function(c){return{x:c.x,y:c.y,w:c.w,h:c.h,fitShape:lucid.plugin.getProperty(a,
"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(c){return m(c,a)}}])});1<p()&&(lucid.plugin.registerProperty(a,"TextWrap","fit"),lucid.plugin.registerProperty(a,"InsetMargin",5))},onTextAreaOverflowChange:k.common.TextAreaOverflowUtils.getOnOverflowCallback(m,n),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderData:function(a){var c=a.BoundingBox,b=c.x+c.w/2,e=c.y+c.h/2;return[{FillColor:a.FillColor,StrokeColor:a.LineColor,LineWidth:a.LineWidth,
Actions:[{Action:"move",x:b,y:c.y},{Action:"line",x:c.x+c.w,y:e},{Action:"line",x:b,y:c.y+c.h},{Action:"line",x:c.x,y:e},{Action:"close"}]}]}})};
k.commonshapes.createCircleBlockClass=function(b,a){lucid.plugin.initBlockClass({className:b,name:i18n.get("plugin-geometricshapes-shape-circle"),searchKeywords:[],defaultSize:{w:160,h:160},onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:"Text",value:a,getBoundingBox:k.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,
"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return m(a,c)}}])});1<p()&&(lucid.plugin.registerProperty(c,"TextWrap","fit"),lucid.plugin.registerProperty(c,"InsetMargin",5))},onTextAreaOverflowChange:k.common.TextAreaOverflowUtils.getOnOverflowCallback(m,n),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderData:function(a){var c=a.BoundingBox;return[{FillColor:a.FillColor,StrokeColor:a.LineColor,LineWidth:a.LineWidth,Actions:[{Action:"move",
x:c.x+c.w,y:c.y+c.h/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(c.x,c.y,c.w,c.h,0,2*Math.PI)},{Action:"close"}]}]}})};k.common.TextAreaOverflowUtils={};k.common.TextAreaOverflowUtils.getOnOverflowCallback=function(b,a,c){return function(e,d,g,h,l){if("number"!==typeof h||"number"!==typeof l||(h+6)%3!=(l+6)%3)h=lucid.plugin.getProperty(null,"Version")||0,l=Math.abs(lucid.text.getTextAreaRotation(e,d)),d!=(c||"Text")||0!==g||5>h||0!==l||k.common.TextAreaOverflowUtils.resizeToFitText(e,d,g,b,a)}};
k.common.TextAreaOverflowUtils.resizeToFitText=function(b,a,c,e,d){var g=lucid.plugin.getProperty(b,"BoundingBox"),h=e(g,b);e=lucid.text.getTextAreaVAlignment(b,a);e="middle"==e?{x:.5,y:.5}:"bottom"==e?{x:.5,y:1}:{x:.5,y:0};a=lucid.text.getTextAreaSpaceSize(b,a,c);a=lucid.math.Box.resizeAboutRelativePoint(h,e,a);d=d(a,b);a=d.h>g.h;c=lucid.block.getDefaultSize(b).h;d=lucid.math.Box.resizeAboutRelativePoint(g,e,{w:g.w,h:a?Math.max(d.h,g.h):Math.max(d.h,Math.min(g.h,c))});lucid.plugin.setProperty(b,
"BoundingBox",d)};k.common.util={};k.common.util.getRenderRectangleActionsFromBB=function(b){return[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+b.w,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]};k.common.util.getDefaultLinkPoints=function(){return[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1},{x:0,y:.5}]};k.default={};function p(){return lucid.plugin.getProperty(null,"Version")||0}function q(b,a){return b.x+b.w*a}function r(b,a){return b.y+b.h*a}function t(b,a,c){return{Action:"line",x:q(b,a),y:r(b,c)}}function u(b,a,c){return{Action:"move",x:q(b,a),y:r(b,c)}}function v(){return{Action:"close"}}function w(b){return[u(b,0,0),t(b,1,0),t(b,1,1),t(b,0,1),v()]}
function x(b){var a=b.BoundingBox,c=a.w>a.h?a.w:a.h;a=a.x<a.y?a.x:a.y;a={x:a,y:a,w:c,h:c};return[{LineColor:"#000000ff",FillColor:"#000000ff",LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+.2*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+.1*a.h},{Action:"line",x:a.x+.55*a.w,y:a.y+.1*a.h},{Action:"line",x:a.x+.55*a.w,y:a.y+.9*a.h},{Action:"line",x:a.x+.65*a.w,y:a.y+a.h},{Action:"line",x:a.x+.35*a.w,y:a.y+a.h},{Action:"line",x:a.x+
.45*a.w,y:a.y+.9*a.h},{Action:"line",x:a.x+.45*a.w,y:a.y+.1*a.h},{Action:"line",x:a.x+.1*a.w,y:a.y+.1*a.h},{Action:"line",x:a.x,y:a.y+.2*a.h},{Action:"close"}]}]}
(function(){function b(a,c){c=lucid.plugin.getProperty(c,"InsetMargin")||0;return lucid.math.Box.safePad(a,-c)}lucid.plugin.initBlockClass({className:"DefaultTextBlockNew",name:i18n.get("plugin-default-text-name"),defaultSize:{w:240,h:60},searchKeywords:"",disabledPropertyControls:"LineWidth FillColor LineColor FillType StrokeStyle Rounding".split(" "),onInit:function(a){lucid.plugin.addBlockTextArea(a,{id:"Text",value:i18n.get("plugin-default-text-default-content"),getBoundingBox:k.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,
value:function(c){return lucid.math.Box.pad({x:c.x,y:c.y,w:c.w,h:c.h},-(lucid.plugin.getProperty(a,"InsetMargin")||0))}},{docVersionInstated:5,value:function(c){return b(c,a)}}]),wantReturn:!0});lucid.plugin.setProperty(a,"Transparent",1);lucid.plugin.hookPropertyPostSave(a,"Text",function(){if(!(5<=p())){var c="y",b="h",d=lucid.plugin.getProperty(a,"BoundingBox"),g=lucid.text.getTextAreaRotation(a,"Text"),h=lucid.math.Box.pad({x:d.x,y:d.y,w:d.w,h:d.h},-(lucid.plugin.getProperty(a,"InsetMargin")||
0));0!==g%Math.PI&&(h=lucid.math.Box.rotate(h,g),c="x",b="w");g=lucid.plugin.getProperty(a,"InsetMargin")||0;var l=lucid.plugin.getProperty(a,"TextVAlign");h=lucid.text.getSize(a,"Text",h);h.h+=2*g;h.h>d[b]&&("middle"==l?d[c]-=(h.h-d[b])/2:"bottom"==l&&(d[c]-=h.h-d[b]),d[b]=h.h,lucid.plugin.setProperty(a,"BoundingBox",d))}})},onTextAreaOverflowChange:k.common.TextAreaOverflowUtils.getOnOverflowCallback(b,function(a,c){c=lucid.plugin.getProperty(c,"InsetMargin")||0;return lucid.math.Box.safePad(a,
c)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},onCreate:function(a){lucid.help.item.accomplish("default.text.add");lucid.plugin.editBlockTextArea(a,"Text")},afterEditText:function(a){-1==lucid.text.plainText(lucid.plugin.getProperty(a,"Text")).search(/\S/)&&lucid.plugin.deleteItem(a)},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(a,c){return"sample"===c?x(a):[{Actions:k.common.util.getRenderRectangleActionsFromBB(a.BoundingBox)}]}})})();
lucid.plugin.initBlockClass({className:"MinimalTextBlock",defaultSize:{w:240,h:60},disabledPropertyControls:"LineWidth FillColor LineColor FillType StrokeStyle Rounding".split(" "),noLines:!0,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(a){return a},wantReturn:!0,afterTextEdit:function(){/\S/.test(lucid.text.plainText(lucid.plugin.getProperty(b,"Text")))||lucid.plugin.deleteItem(b)}})},getRenderData:function(b){return[{Actions:k.common.util.getRenderRectangleActionsFromBB(b.BoundingBox)}]}});
(function(){function b(a,c){c=lucid.plugin.getProperty(c,"InsetMargin")||0;return lucid.math.Box.safePad(a,-c)}lucid.plugin.initBlockClass({className:"DefaultSquareBlock",name:i18n.get("plugin-default-block-name"),defaultSize:{w:160,h:160},searchKeywords:i18n.get("plugin-default-block-keywords"),onInit:function(a){var c=k.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}}},{docVersionInstated:2,value:function(c){return{x:c.x,
y:c.y,w:c.w,h:c.h,fitShape:lucid.plugin.getProperty(a,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(c){return b(c,a)}}]);lucid.plugin.addBlockTextArea(a,{id:"Text",value:i18n.get("plugin-default-block-default-content"),getBoundingBox:c,wantReturn:!0});1<p()&&(lucid.plugin.registerProperty(a,"TextWrap","fit"),lucid.plugin.registerProperty(a,"InsetMargin",5,null,null,f.isNumber))},variants:{SquareBlockTransparent:{defaultSize:{w:240,h:60},tooltip:i18n.get("plugin-default-squareblock-tooltip"),
searchKeywords:"",defaultProperties:function(){return{FillColor:"#ffffff00",LineColor:"#00000000"}}}},onTextAreaOverflowChange:k.common.TextAreaOverflowUtils.getOnOverflowCallback(b,function(a,c){c=lucid.plugin.getProperty(c,"InsetMargin")||0;return lucid.math.Box.safePad(a,c)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(a,c){if(c="sample"==c)if(lucid.string.isString(a.LineColor)&&
lucid.string.isString(a.FillColor)){c=a.LineColor.substring(7,9);var b=a.FillColor.substring(7,9);c="00"===c&&"00"===b}else c=!1;c?a=x(a):(c=a.BoundingBox,a=[{FillColor:a.FillColor,StrokeColor:a.LineColor,LineWidth:a.LineWidth,Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+c.h},{Action:"close"}]}]);return a}})})();
(function(){function b(a,c){c=lucid.plugin.getProperty(c,"InsetMargin")||0;return lucid.math.Box.safePad(a,-c)}lucid.plugin.initBlockClass({className:"DefaultNoteBlock",name:i18n.get("plugin-default-note-name"),defaultSize:{w:160,h:160},searchKeywords:"",unthemed:!0,defaultProperties:function(){return{FillColor:"#ffffaa"}},onInit:function(a){lucid.plugin.setProperty("TextAlign","left");lucid.plugin.addBlockTextArea(a,{id:"Text",value:"",getBoundingBox:k.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,
value:function(a){var c=.2*(a.h>a.w?a.w:a.h);return{x:a.x+.5*c,y:a.y+.1*a.h+.1*c,w:a.w-c,h:.8*a.h}}},{docVersionInstated:2,value:function(c){return{x:c.x,y:c.y,w:c.w,h:c.h,fitShape:lucid.plugin.getProperty(a,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(c){return b(c,a)}}]),wantReturn:!0});1<p()&&(lucid.plugin.registerProperty(a,"TextWrap","fit"),lucid.plugin.registerProperty(a,"InsetMargin",5,null,null,f.isNumber))},onTextAreaOverflowChange:k.common.TextAreaOverflowUtils.getOnOverflowCallback(b,
function(a,c){c=lucid.plugin.getProperty(c,"InsetMargin")||0;return lucid.math.Box.safePad(a,c)}),getLinkPoints:function(){return[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1},{x:0,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(a,c){var b=a.BoundingBox,d=.2*(b.h>b.w?b.w:b.h),g=lucid.color.darken(a.FillColor,.3);"sample"==c&&(d*=2);return[{FillColor:a.FillColor,StrokeColor:a.LineColor,LineWidth:a.LineWidth,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",
x:b.x+b.w-d,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+d},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]},{FillColor:g,StrokeColor:a.LineColor,LineWidth:a.LineWidth,Actions:[{Action:"move",x:b.x+b.w-d,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+d},{Action:"line",x:b.x+b.w-.8*d,y:b.y+.8*d},{Action:"close"}]}]}})})();
(function(){function b(a,c){c=lucid.plugin.getProperty(c,"InsetMargin")||0;return lucid.math.Box.safePad(a,-c)}lucid.plugin.initBlockClass({className:"DefaultNoteBlockV2",name:i18n.get("plugin-default-note-name"),defaultSize:{w:160,h:160},searchKeywords:"",unthemed:!0,defaultProperties:function(){return{FillColor:"#ffdf71"}},onInit:function(a){lucid.plugin.setProperty("TextAlign","left");lucid.plugin.addBlockTextArea(a,{id:"Text",value:i18n.get("plugin-default-block-default-content"),getBoundingBox:k.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,
value:function(a){var c=.2*(a.h>a.w?a.w:a.h);return{x:a.x+.5*c,y:a.y+.1*a.h+.1*c,w:a.w-c,h:.8*a.h}}},{docVersionInstated:2,value:function(c){return{x:c.x,y:c.y,w:c.w,h:c.h,fitShape:lucid.plugin.getProperty(a,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(c){return b(c,a)}}]),wantReturn:!0});1<p()&&(lucid.plugin.registerProperty(a,"TextWrap","fit"),lucid.plugin.registerProperty(a,"InsetMargin",5,null,null,f.isNumber))},onTextAreaOverflowChange:k.common.TextAreaOverflowUtils.getOnOverflowCallback(b,
function(a,c){c=lucid.plugin.getProperty(c,"InsetMargin")||0;return lucid.math.Box.safePad(a,c)}),getLinkPoints:function(){return[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1},{x:0,y:.5}]},getRenderDataKey:function(){return["FillColor","LineWidth"]},disabledPropertyControls:["LineColor"],getRenderData:function(a,c){var b=a.BoundingBox,d=.2*(b.h>b.w?b.w:b.h),g=lucid.color.darken(a.FillColor,.15);"sample"==c&&(d*=2);return[{FillColor:a.FillColor,StrokeColor:g,LineWidth:a.LineWidth,NoRounding:!0,Actions:[{Action:"move",
x:b.x,y:b.y},{Action:"line",x:b.x+b.w-d,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+d},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]},{FillColor:g,StrokeColor:g,LineWidth:0,NoRounding:!0,Actions:[{Action:"move",x:b.x+b.w-d,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+d},{Action:"line",x:b.x+b.w-d,y:b.y+d},{Action:"close"}]}]}})})();
lucid.plugin.initBlockClass({className:"DefaultRedNoteBlock",name:i18n.get("plugin-default-important-note-name"),defaultSize:{w:160,h:160},searchKeywords:i18n.get("plugin-default-important-note-keywords"),unthemed:!0,onInit:function(b){lucid.plugin.setProperty("TextAlign","left");lucid.plugin.addBlockTextArea(b,{id:"Text",value:'<span style="color:#ffffff; font-weight:bold;">'+i18n.get("plugin-default-important-note-default-content")+"</span>",getBoundingBox:function(a){var c=.2*(a.h>a.w?a.w:a.h);
return{x:a.x+.5*c,y:a.y+.1*a.h+.1*c,w:a.w-c,h:.8*a.h}},wantReturn:!0})},getLinkPoints:function(){return[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1},{x:0,y:.5}]},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,a){var c=b.BoundingBox,e=.2*(c.h>c.w?c.w:c.h),d=lucid.color.darken(b.FillColor,.3);"sample"==a&&(e*=2);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",x:c.x+c.w-e,y:c.y},{Action:"line",
x:c.x+c.w,y:c.y+e},{Action:"line",x:c.x+c.w,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+c.h},{Action:"close"}]},{FillColor:d,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x+c.w-e,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+e},{Action:"line",x:c.x+c.w-.8*e,y:c.y+.8*e},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"ImageSearchBlock",name:i18n.get("plugin-default-image-search-name"),defaultSize:{w:120,h:120},unthemed:!0,disabledPropertyControls:["FillType","FillColor","LineColor","LineWidth"],getRenderData:function(b,a){var c=b.BoundingBox,e=b.URL;(b=b.ThumbURL)&&""!=b||(b=e);if("sample"==a||"preview"==a)e=b;return[{FillColor:{url:e,pos:c},Actions:lucid.math.Box.toRenderActions(c)}]},onInit:function(b){lucid.plugin.registerProperty(b,"URL","",function(a){""!=a&&null!=a&&
lucid.useragent.is_chrome()&&(lucid.useragent.is_win()||lucid.useragent.is_linux())&&(a=lucid.imageProxyUrl(a));return a},null,lucid.validators.nullable(lucid.string.isString));lucid.plugin.registerProperty(b,"ThumbURL","",function(a){""!=a&&-1<a.indexOf("::")&&(a="http://"+a.substr(a.indexOf("::")+2));return a},null,lucid.validators.nullable(lucid.string.isString))},isImageBlock:function(){return!0}});
lucid.plugin.initBlockClass({className:"ImageSearchBlock2",name:i18n.get("plugin-default-image-search2-name"),defaultSize:{w:120,h:120},unthemed:!0,getRenderDataKey:function(){return["FillColor","LineColor","LineWidth","URL","ThumbURL"]},getRenderData:function(b,a){var c=b.BoundingBox,e=b.URL,d=b.ThumbURL;d&&""!=d||(d=e);return"sample"==a||"preview"==a?[{FillColor:{url:d,pos:c},Actions:lucid.math.Box.toRenderActions(c)}]:[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",
x:c.x,y:c.y},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+c.h},{Action:"close"}]}]},onInit:function(b){lucid.plugin.registerProperty(b,"ThumbURL","",function(a){""!=a&&-1<a.indexOf("::")&&(a="http://"+a.substr(a.indexOf("::")+2));return a},null,lucid.validators.nullable(lucid.string.isString))},onCreate:function(b){lucid.plugin.replaceWithUserImage(b,{})},isImageBlock:function(){return!0}});
lucid.plugin.initBlockClass({className:"HotspotBlock",name:i18n.get("plugin-default-hotspot-name"),searchKeywords:i18n.get("plugin-default-hotspot-keywords"),defaultSize:{w:120,h:120},hotspot:!0,unthemed:!0,defaultProperties:function(){return{FillColor:"#00ff9966"}},getRenderDataKey:function(){return["FillColor"]},getRenderData:function(b){var a=b.BoundingBox;return[{FillColor:b.FillColor,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",
x:a.x,y:a.y+a.h},{Action:"close"}]}]}});var y={frames:{},moveHandleDiameter:30,color:"#f78d1e"};
lucid.plugin.initBlockClass({className:"PresentationFrameBlock",name:i18n.get("plugin-default-presentation-name"),defaultSize:{w:460,h:260},isFrame:!0,nwSelectable:{getMoveHandleRenderData:function(b){var a=.3*b.w,c=.15*b.h,e={x:q(b,.35),y:r(b,.1),w:a,h:c},d={x:q(b,.35),y:r(b,.75),w:a,h:c},g={x:q(b,.1),y:r(b,.35),w:c,h:a};a={x:q(b,.75),y:r(b,.35),w:c,h:a};c={x:q(b,.45),y:r(b,.24),w:.1*b.w,h:.52*b.h};var h={x:q(b,.24),y:r(b,.45),w:.52*b.w,h:.1*b.h},l=y.color,B=u(b,1,.5);b={Action:"curve",Control:lucid.math.ellipseArcControlPoints(q(b,
0),r(b,0),1*b.w,1*b.h,0*Math.PI,2*Math.PI)};return[{FillColor:l,NoRounding:!0,LineWidth:0,Actions:[B,b]},{FillColor:"#fff",NoRounding:!0,LineWidth:0,Actions:[u(e,0,1),t(e,1,1),t(e,.5,0),v()]},{FillColor:"#fff",NoRounding:!0,LineWidth:0,Actions:[u(d,0,0),t(d,1,0),t(d,.5,1),v()]},{FillColor:"#fff",NoRounding:!0,LineWidth:0,Actions:[u(g,1,0),t(g,1,1),t(g,0,.5),v()]},{FillColor:"#fff",NoRounding:!0,LineWidth:0,Actions:[u(a,0,0),t(a,0,1),t(a,1,.5),v()]},{FillColor:"#fff",NoRounding:!0,LineWidth:0,Actions:w(c)},
{FillColor:"#fff",NoRounding:!0,LineWidth:0,Actions:w(h)}]},resizeHandleColor:y.color},unthemed:!0,noLines:!0,rLock:!0,disabledPropertyControls:"bold center ClipTextToPage Endpoint1 Endpoint2 FillColor FillType FlipX FlipY font fontFace font Hyphenate InsetMargin italic justified left LineColor lineSpacing LineWidth Link Lock Opacity pageBreak right Rounding Shadow Shape strike StrokeStyle textColor textSize TextVAlign TightWrap underline".split(" "),showResizeHandles:!0,onInit:function(b){y.frames[b]=
1;lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",readOnly:!0,getBoundingBox:function(a){var c=y.moveHandleDiameter;return{x:a.x-c/2,y:a.y-c/2+1,w:c,h:c,fitShape:lucid.plugin.getProperty(b,"InsetMargin")||0}}})},onDelete:function(b){delete y.frames[b]},getRenderData:function(b){var a=b.BoundingBox;b=lucid.plugin.isSelected(b.id);var c=y.moveHandleDiameter,e=a.x-c/2,d=a.y-c/2;a=[{FillColor:b?"#fbc62d20":"#00000000",StrokeColor:y.color+"99",NoRounding:!0,LineWidth:b?6:2,Actions:[{Action:"move",
x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{FillColor:y.color,Actions:[{Action:"move",x:e+c,y:d+c/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(e,d,c,c,0,2*Math.PI)}]}];return b?a:lucid.math.dashLine(a,[20,10])}});
lucid.plugin.onSelectionChange(function(b){var a=lucid.object.createSet(b);lucid.object.forEach(y.frames,function(c,b){a[b]&&!lucid.plugin.getProperty(b,"selected",!0)?(lucid.plugin.setProperty(b,"selected",!0,!0),lucid.plugin.refreshBlockView(b)):!a[b]&&lucid.plugin.getProperty(b,"selected",!0)&&(lucid.plugin.setProperty(b,"selected",!1,!0),lucid.plugin.refreshBlockView(b))})});
lucid.plugin.onLoad(function(){lucid.help.section.add(i18n.get("plugin-default-help-general-title"),[{id:"default.block.add",content:{lucidUrl:"general/addBlock"},title:i18n.get("plugin-default-help-add-shape"),keywords:i18n.get("plugin-default-help-add-shape-keywords"),accomplish:function(a){lucid.plugin.onCurrentUserAction(function(b){"CreateBlock"==b.Action&&a()})}},{id:"default.block.format",content:{lucidUrl:"general/formatBlock"},title:i18n.get("plugin-default-help-format-shape"),keywords:i18n.get("plugin-default-help-format-shape-keywords"),
accomplish:function(a){var b=lucid.object.createSet("LineColor","LineWidth","StrokeStyle","FillColor");lucid.plugin.onCurrentUserAction(function(c){"SetProperty"==c.Action&&c.Property in b&&lucid.plugin.isBlock(c.id)&&a()})}},{id:"default.text.add",content:{lucidUrl:"general/addText"},title:i18n.get("plugin-default-help-add-text"),keywords:i18n.get("plugin-default-help-add-text-keywords")},{id:"default.line.add",content:{lucidUrl:"general/addLine"},title:i18n.get("plugin-default-help-draw-line"),
keywords:i18n.get("plugin-default-help-draw-line-keywords"),accomplish:function(a){lucid.plugin.onCurrentUserAction(function(b){"CreateLine"==b.Action&&a()})}},{id:"default.line.format",content:{lucidUrl:"general/formatLine"},title:i18n.get("plugin-default-help-format-line"),keywords:i18n.get("plugin-default-help-format-line-keywords"),accomplish:function(a){var b=lucid.object.createSet("LineColor","LineWidth","StrokeStyle","FillColor"),e=lucid.object.createSet("Endpoint1","Endpoint2");lucid.plugin.onCurrentUserAction(function(c){"SetProperty"==
c.Action&&(c.Property in b||c.Property in e&&c.Value&&c.OldValue&&(c.Value.Style||"None")!=(c.OldValue.Style||"None"))&&lucid.plugin.isLine(c.id)&&a()})}},{id:"default.image",content:{lucidUrl:"general/addImage"},title:i18n.get("plugin-default-help-add-image"),keywords:i18n.get("plugin-default-help-add-image-keywords"),accomplish:function(a){lucid.plugin.onCurrentUserAction(function(b){("CreateBlock"==b.Action&&b.Properties&&b.Properties.FillColor&&b.Properties.FillColor.url||"SetProperty"==b.Action&&
"FillColor"==b.Property&&b.Value&&b.Value.url&&lucid.plugin.isBlock(b.id))&&a()})}},{id:"default.page.settings",content:{lucidUrl:"general/pageSettings"},title:i18n.get("plugin-default-help-change-page-settings"),keywords:i18n.get("plugin-default-help-change-page-settings-keywords"),accomplish:function(a){var b=lucid.object.createSet("DPI","FillColor","GridSpacing","Margin","Value");lucid.plugin.onCurrentUserAction(function(c){"SetProperty"==c.Action&&c.Property in b&&lucid.plugin.isPage(c.id)&&a()})}},
{id:"default.download",content:{lucidUrl:"general/download"},title:i18n.get("plugin-default-help-download"),keywords:i18n.get("plugin-default-help-download-keywords"),accomplish:function(a){lucid.plugin.onDownloadSuccess(function(b){"print"!=b&&a()})}}]);var b=[{id:"default.share",content:{lucidUrl:"general/share"},title:i18n.get("plugin-default-help-share"),keywords:i18n.get("plugin-default-help-share-keywords"),accomplish:function(a){lucid.plugin.onShare(a)}},{id:"default.link",content:{lucidUrl:"general/link"},
title:i18n.get("plugin-default-help-add-link"),keywords:i18n.get("plugin-default-help-add-link-keywords"),accomplish:function(a){var b=lucid.object.createSet("ext","pg","ml");lucid.plugin.onCurrentUserAction(function(c){"SetProperty"==c.Action&&"Link"==c.Property&&c.Value instanceof Array&&c.Value.some(function(a){return a.tp in b})&&lucid.plugin.isBlock(c.id)&&a()})}},{id:"default.layer",content:{lucidUrl:"general/layer"},title:i18n.get("plugin-default-help-layers"),keywords:[],accomplish:function(a){lucid.plugin.onCurrentUserAction(function(b){"CrGr"==
b.Action&&b.Properties.IsState&&a()})}},{id:"default.hotspot",content:{lucidUrl:"general/hotspot"},title:i18n.get("plugin-default-help-interaction"),keywords:i18n.get("plugin-default-help-interaction-keywords"),accomplish:function(a){lucid.plugin.onCurrentUserAction(function(b){("CreateBlock"==b.Action&&b.Properties&&b.Properties.Link&&b.Properties.Link.length||"SetProperty"==b.Action&&"Link"==b.Property&&b.Value&&b.Value.length)&&a()})}},{id:"default.visio.import",content:{lucidUrl:"general/importVisioDiagram"},
title:i18n.get("plugin-default-help-visio-import"),keywords:i18n.get("plugin-default-help-visio-import-keywords")},{id:"default.visio.export",content:{lucidUrl:"general/exportVisioDiagram"},title:i18n.get("plugin-default-help-visio-export"),keywords:i18n.get("plugin-default-help-visio-export-keywords"),accomplish:function(a){lucid.plugin.onDownloadSuccess(function(b){"visio"==b&&a()})}}];lucid.config.on_premise&&b.shift();lucid.help.section.add(i18n.get("plugin-default-help-advanced-title"),b)});
k.commonshapes.createDiamondBlockClass("DefaultDiamondBlock",160,120,i18n.get("plugin-default-block-default-content"));k.commonshapes.createCircleBlockClass("DefaultCircleBlock",i18n.get("plugin-default-block-default-content"));
var z={name:"Line",className:"Group",toolBoxId:"defaultLine",helperImage:lucid.net.cashyURL("/app/ng2/chart/shapethumbs/line-shape-28px-@2x.png"),tooltip:i18n.get("plugin-default-line-tooltip"),defaultSize:{w:100,h:2},defaultProperties:function(){return{Objects:[{id:"KmiZvl75mHjc",IsLine:!0,Action:{Action:"CreateLine",Properties:{Endpoint1:{x:400,y:460},Endpoint2:{x:500,y:460},ZOrder:0}}}],Base:{x:0,y:0},Size:{w:300,h:0},Plugins:[],ApplyTheme:!0}}};
if(lucid.abTest.useNewEssentialsShapes()){var A=lucid.object.clone(z);A.helperImage=lucid.net.cashyURL("/app/ng2/chart/shapethumbs/line-1px.svg");lucid.plugin.createToolGroups({Standard:{displayName:i18n.get("plugin-default-essentials-title"),items:["DefaultSquareBlock","DefaultCircleBlock","DefaultDiamondBlock",A,"HotspotBlock","DefaultNoteBlockV2",{className:"DefaultSquareBlock",variant:"SquareBlockTransparent",tooltip:i18n.get("plugin-default-text-name"),helperImage:lucid.net.cashyURL("/app/ng2/chart/shapethumbs/text.svg")}]}});
lucid.plugin.createNextBlockGroup(["DefaultSquareBlock","DefaultCircleBlock","DefaultDiamondBlock","DefaultTextBlockNew"])}else lucid.plugin.createToolGroups({Standard:{displayName:i18n.get("plugin-default-standard-title"),items:[{className:"DefaultSquareBlock",variant:"SquareBlockTransparent",tooltip:i18n.get("plugin-default-text-name"),helperImage:lucid.net.cashyURL("/app/ng2/chart/shapethumbs/text-shape-28px-@2x.png")},"DefaultSquareBlock","DefaultNoteBlockV2","HotspotBlock",z]}}),lucid.plugin.createNextBlockGroup(["DefaultSquareBlock",
"DefaultTextBlockNew"]);lucid.plugin.onDocumentLoaded(function(){5>p()&&(lucid.plugin.createToolGroups({Standard:{displayName:i18n.get("plugin-default-standard-title"),items:[{className:"DefaultTextBlockNew",helperImage:lucid.net.cashyURL("/app/ng2/chart/shapethumbs/text-shape-28px-@2x.png")},"DefaultSquareBlock","DefaultNoteBlockV2","HotspotBlock",z]}}),lucid.plugin.createNextBlockGroup(["DefaultSquareBlock","DefaultTextBlockNew"]))},!0);
lucid.plugin.initBlockClass({className:"DefaultTextBlock",name:i18n.get("plugin-default-text-name"),defaultSize:{w:240,h:60},noSearch:!0,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-default-text-default-content"),getBoundingBox:function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}}})},afterEditText:function(b){-1==lucid.text.plainText(lucid.plugin.getProperty(b,"Text")).search(/\S/)&&lucid.plugin.deleteItem(b)},getRenderData:function(b){b=b.BoundingBox;return[{Actions:[{Action:"move",
x:b.x,y:b.y},{Action:"line",x:b.x+b.w,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]}]}});
//# sourceMappingURL=/js/plugins/v2/source-maps/default.js.map

};
