pluginFn['/js/plugins/v2/ui2.js'] = function(lucid, window) {
	var t={common:{}};t.common.DocVersionedProps={};t.common.DocVersionedProps.getValueForDocVersion=function(b,c){var a=lucid.plugin.getProperty(null,"Version")||0;return(b=lucid.array.findRight(b,function(b){return b.docVersionInstated<=a}))&&b.value||c};t.common.TextAreaOverflowUtils={};t.common.TextAreaOverflowUtils.getOnOverflowCallback=function(b,c,a){return function(d,e,f,g,h){if("number"!==typeof g||"number"!==typeof h||(g+6)%3!=(h+6)%3)g=lucid.plugin.getProperty(null,"Version")||0,h=Math.abs(lucid.text.getTextAreaRotation(d,e)),e!=(a||"Text")||0!==f||5>g||0!==h||t.common.TextAreaOverflowUtils.resizeToFitText(d,e,f,b,c)}};
t.common.TextAreaOverflowUtils.resizeToFitText=function(b,c,a,d,e){var f=lucid.plugin.getProperty(b,"BoundingBox"),g=d(f,b);d=lucid.text.getTextAreaVAlignment(b,c);d="middle"==d?{x:.5,y:.5}:"bottom"==d?{x:.5,y:1}:{x:.5,y:0};c=lucid.text.getTextAreaSpaceSize(b,c,a);c=lucid.math.Box.resizeAboutRelativePoint(g,d,c);e=e(c,b);c=e.h>f.h;a=lucid.block.getDefaultSize(b).h;e=lucid.math.Box.resizeAboutRelativePoint(f,d,{w:f.w,h:c?Math.max(e.h,f.h):Math.max(e.h,Math.min(f.h,a))});lucid.plugin.setProperty(b,
"BoundingBox",e)};t.common.Callout={};
t.common.Callout.createBlock=function(b,c,a){function d(a){return{x:a.x+5,y:a.y+5,w:a.w-10,h:a.h-10}}function e(a,b,c,d){b||(b=lucid.plugin.getProperty(a,"Side"));c||(c=lucid.plugin.getProperty(a,"Position"));d||(d=lucid.plugin.getProperty(a,"BoundingBox"));switch(b){case 0:var f=d.w*c;var e=0;break;case 1:f=d.w;e=d.h*c;break;case 2:f=d.w*c;e=d.h;break;case 3:f=0,e=d.h*c}return{x:d.x+f,y:d.y+e}}lucid.plugin.initBlockClass({className:b,name:c,searchKeywords:i18n.get("plugin-callout-block-keywords"),defaultSize:{w:120,
h:40},minWidth:120,minHeight:40,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Tip",value:a,getBoundingBox:d});lucid.plugin.getProperty(b,"BoundingBox");lucid.plugin.registerProperty(b,"MinLayerPadding",25);lucid.plugin.registerProperty(b,"TailAngle",30);lucid.plugin.registerProperty(b,"TailRadius",25);lucid.plugin.registerProperty(b,"TailWidth",15);lucid.plugin.registerProperty(b,"Side",0);lucid.plugin.registerProperty(b,"Position",.6);lucid.plugin.registerProperty(b,"RoundCorners",5)},
onTextAreaOverflowChange:t.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(a){return{x:a.x-5,y:a.y-5,w:a.w+10,h:a.h+10}},"Tip"),getOffsetProperties:function(a,b,c){b=lucid.plugin.defaultOffsetProperties(a,b,c);b[a].MinLayerPadding=lucid.plugin.getProperty(a,"TailRadius");return b},spatialControls:function(a){function b(b,c,d,f,g){var h=Array.prototype.splice.call(arguments);h.unshift(a);return e.apply(null,h)}if(lucid.plugin.getProperty(a,"BoundingBox"))return[{logAction:"chart.viewport.selection.spatialControls.shapes.calloutTail",
location:function(){var a=b();return{x:a.x-5,y:a.y-5,w:10,h:10}},moved:function(b){var c=lucid.plugin.getProperty(a,"BoundingBox"),d=lucid.plugin.getProperty(a,"RoundCorners"),e=lucid.plugin.getProperty(a,"TailWidth"),f=Math.abs(e),h=lucid.plugin.getProperty(a,"Side");b.y<=c.y&&2*d<c.w?h=0:b.x>=c.x+c.w&&2*d<c.h?h=1:b.y>=c.y+c.h&&2*d<c.w?h=2:b.x<=c.x&&2*d<c.h&&(h=3);var g=.5,q=Math.abs(e);switch(h){case 0:case 2:f+2*d>c.w?(g=.5,q=(c.w-2*d)/2):g=Math.min(Math.max(b.x-c.x,d+f),c.w-d-f)/c.w;break;case 1:case 3:f+
2*d>c.h?(g=.5,q=(c.h-2*d)/2):g=Math.min(Math.max(b.y-c.y,d+f),c.h-d-f)/c.h}.45<g&&.55>g&&(g=.5);lucid.plugin.setPropertyIfChanged(a,"TailWidth",0>e?-q:q);lucid.plugin.setPropertyIfChanged(a,"Side",h);lucid.plugin.setPropertyIfChanged(a,"Position",g)},path:function(){var b=lucid.plugin.getProperty(a,"BoundingBox");return[{x:b.x,y:b.y},{x:b.x+b.w,y:b.y},{x:b.x+b.w,y:b.y+b.h},{x:b.x,y:b.y+b.h},{x:b.x,y:b.y}]}},{location:function(){lucid.plugin.getProperty(a,"BoundingBox");var c=lucid.plugin.getProperty(a,
"TailWidth"),d=lucid.plugin.getProperty(a,"Side"),e=b();switch(d){case 0:case 2:var f=e.x-c;var g=e.y;break;case 1:case 3:f=e.x,g=e.y-c}return{x:f-5,y:g-5,w:10,h:10}},moved:function(c){var d=lucid.plugin.getProperty(a,"BoundingBox"),e=lucid.plugin.getProperty(a,"Position"),f=lucid.plugin.getProperty(a,"Side"),g=lucid.plugin.getProperty(a,"RoundCorners"),h=b();switch(f){case 0:case 2:var p=h.x-c.x;c=(Math.abs(e-.5)-.5)*d.w+g;d=(.5-Math.abs(e-.5))*d.w-g;p=p<c?c:p>d?d:p;lucid.plugin.getProperty(a,"RoundCorners");
break;case 1:case 3:p=h.y-c.y,c=(Math.abs(e-.5)-.5)*d.h+g,d=(.5-Math.abs(e-.5))*d.h-g,p=p<c?c:p>d?d:p}lucid.plugin.setPropertyIfChanged(a,"TailWidth",p)},path:function(){var b=lucid.plugin.getProperty(a,"BoundingBox"),c=lucid.plugin.getProperty(a,"Side");return[{x:b.x,y:b.y},{x:b.x+b.w,y:b.y},{x:b.x+b.w,y:b.y+b.h},{x:b.x,y:b.y+b.h},{x:b.x,y:b.y}].splice(c,2)}},{location:function(){var b=lucid.plugin.getProperty(a,"Side");var c=lucid.plugin.getProperty(a,"Position"),d=lucid.plugin.getProperty(a,"BoundingBox"),
f=lucid.plugin.getProperty(a,"TailRadius"),g=lucid.plugin.getProperty(a,"TailAngle");switch(b){case 0:var r=d.w*c;var p=0-f;break;case 1:r=d.w+f;p=d.h*c;break;case 2:r=d.w*c;p=d.h+f;break;case 3:r=0-f,p=d.h*c}b=lucid.math.Point.rotate({x:d.x+r,y:d.y+p},e(a,b,c,d),Math.PI/180*g);return{x:b.x-5,y:b.y-5,w:10,h:10}},moved:function(c){var d=b();lucid.plugin.getProperty(a,"BoundingBox");var e=0;switch(lucid.plugin.getProperty(a,"Side")){case 0:e=-1*Math.atan2(d.x-c.x,d.y-c.y);break;case 1:e=Math.atan2(c.y-
d.y,c.x-d.x);break;case 2:e=-1*Math.atan2(c.x-d.x,c.y-d.y);break;case 3:e=Math.atan2(d.y-c.y,d.x-c.x)}e=180*e/Math.PI;90<e?e=90:-90>e?e=-90:-5<e&&5>e&&(e=0);c=lucid.math.Point.distance(c,d);lucid.plugin.setPropertyIfChanged(a,"MinLayerPadding",c);lucid.plugin.setPropertyIfChanged(a,"TailRadius",c);lucid.plugin.setPropertyIfChanged(a,"TailAngle",e)}},{location:function(){var b=lucid.plugin.getProperty(a,"BoundingBox"),c=lucid.plugin.getProperty(a,"Side"),d=lucid.plugin.getProperty(a,"Position"),e=
lucid.plugin.getProperty(a,"RoundCorners"),f=lucid.plugin.getProperty(a,"TailWidth");switch(c){case 0:case 2:e=Math.min(e,b.w/2,b.h/2,b.w*(.5-Math.abs(d-.5))-Math.abs(f));break;case 1:case 3:e=Math.min(e,b.w/2,b.h/2,b.h*(.5-Math.abs(d-.5))-Math.abs(f))}return{x:b.x+b.w-e-5,y:b.y-5,w:10,h:10}},moved:function(b){var c=lucid.plugin.getProperty(a,"BoundingBox");lucid.plugin.setProperty(a,"RoundCorners",c.x+c.w-b.x)},path:function(){var b=lucid.plugin.getProperty(a,"BoundingBox"),c=lucid.plugin.getProperty(a,
"Side"),d=lucid.plugin.getProperty(a,"Position"),e=lucid.plugin.getProperty(a,"TailWidth");switch(c){case 0:case 2:var f=Math.min(b.w*(.5-Math.abs(d-.5))-Math.abs(e),b.h/2);break;case 1:case 3:f=Math.min(b.h*(.5-Math.abs(d-.5))-Math.abs(e),b.w/2)}return[{x:b.x+b.w-f,y:b.y},{x:b.x+b.w,y:b.y}]}}]},getRenderData:function(a,b){function c(b,c,f,h,k){var l=e(a.id,a.Side,n,d);if(0>g){var m=f;f=k;k=m}h=lucid.math.Point.rotate(h,{x:l.x,y:l.y},Math.PI/180*r);f.Action="line";h.Action="line";k.Action="line";
q.splice(b,c,f,h,k)}var d=a.BoundingBox,f=a.TailRadius,g=a.TailWidth,n=a.Position,r=a.TailAngle,p=a.RoundCorners;"sample"==b?(p=3,f=6,g=3):"preview"==b&&(d.y+=4,d.h-=6,f=10,g=8);switch(a.Side){case 0:case 2:p=Math.min(p,d.w/2,d.h/2,d.w*(.5-Math.abs(n-.5)-Math.abs(g/d.w)));break;case 1:case 3:p=Math.min(p,d.w/2,d.h/2,d.h*(.5-Math.abs(n-.5)-Math.abs(g/d.h)))}var q=[{Action:"move",x:d.x,y:d.y+p},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(d.x,d.y,2*p,2*p,Math.PI,3*Math.PI/2)},{Action:"line",
x:d.x+d.w-p,y:d.y},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(d.x+d.w-2*p,d.y,2*p,2*p,-Math.PI/2,0)},{Action:"line",x:d.x+d.w,y:d.y+d.h-p},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(d.x+d.w-2*p,d.y+d.h-2*p,2*p,2*p,0,Math.PI/2)},{Action:"line",x:d.x+p,y:d.y+d.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(d.x,d.y+d.h-2*p,2*p,2*p,Math.PI/2,Math.PI)},{Action:"close"}];switch(a.Side){case 0:c(2,0,{x:d.x+d.w*n-g,y:d.y},{x:d.x+d.w*n,y:d.y-f},{x:d.x+d.w*n+g,
y:d.y});break;case 1:c(4,0,{x:d.x+d.w,y:d.y+d.h*n-g},{x:d.x+d.w+f,y:d.y+d.h*n},{x:d.x+d.w,y:d.y+d.h*n+g});break;case 2:c(6,0,{x:d.x+d.w*n+g,y:d.y+d.h},{x:d.x+d.w*n,y:d.y+d.h+f},{x:d.x+d.w*n-g,y:d.y+d.h});break;case 3:c(8,0,{x:d.x,y:d.y+d.h*n+g},{x:d.x-f,y:d.y+d.h*n},{x:d.x,y:d.y+d.h*n-g})}return[{NoRounding:!0,FillColor:a.FillColor,StrokeColor:a.LineColor,LineWidth:a.LineWidth,Actions:q}]}})};t.ui2={};var x={};function aa(b,c,a){return 1<(lucid.plugin.getProperty(null,"Version")||0)?a(b):c(b)}
lucid.plugin.onDocumentLoaded(function(){function b(a,b){for(var c=lucid.plugin.getProperty(b[0],a),d=1;d<b.length;d++)if(c!=lucid.plugin.getProperty(b[d],a))return null;return c}function c(a,b){for(var c=lucid.plugin.getProperty(b[0],a),d=1;d<b.length;d++){var e=lucid.plugin.getProperty(b[d],a);e<c&&(c=e)}return c}function a(a,d){function e(a,b){g&&g.setMax(a);b||lucid.array.forEach(d.ids,function(b){if("Options"==d.prop){var c={UI2CheckBoxBlock:"v",UI2RadioBlock:"v",UI2HorizontalCheckBoxBlock:"h",
UI2HorizontalRadioBlock:"h"},e=lucid.plugin.getBlockClassName(b);if(c[e]){var f=lucid.plugin.getProperty(b,d.prop);if(f!=a){var g=lucid.plugin.getProperty(b,"BoundingBox");"v"==c[e]?g.h=g.h/f*a:g.w=g.w/f*a;lucid.plugin.setProperty(b,"BoundingBox",g)}}}lucid.plugin.setPropertyIfChanged(b,d.prop,a)})}d.pairs=d.pairs||[];f&&!d.nospace&&a.spacer();f=!0;if("spinner"==d.type){if(a.addGrid({width:6,content:{text:d.name+":",classes:"crop ralign"}}),a.openGrid({width:3,suffix:3}),a.addInput({type:"spinner",
min:1,max:100,step:1,value:b(d.prop,d.ids),defaultVal:" ",onChange:e}),a.close(),0<d.pairs.length){a.spacer();a.addGrid({width:6,content:{text:i18n.get("plugin-ui2-menu-selected"),classes:"crop ralign"}});a.openGrid({width:3,suffix:3});var g=a.addInput({type:"spinner",min:0,max:b(d.prop,d.ids)||c(d.prop,d.pairs),step:1,value:b("Selected",d.pairs),defaultVal:" ",onChange:function(a){lucid.array.forEach(d.pairs,function(b){lucid.plugin.setPropertyIfChanged(b,"Selected",a)})},displayFunction:function(a){return 0==
a||""==a||"None"==a?"None":a}});a.close()}}else"buttonset"==d.type?(a.addGrid({width:6,content:{text:d.name+":",classes:"crop ralign"}}),a.openGrid({width:6}),a.addInput({type:"buttonset",buttons:lucid.array.realMap(d.buttons,function(a){return{icon:a.icon,value:a.prop,selected:function(){return b(a.prop,d.ids)},action:function(){var c=b(a.prop,d.ids)?0:1;lucid.array.forEach(d.ids,function(b){lucid.plugin.setPropertyIfChanged(b,a.prop,c)})}}})}),a.close()):"button"==d.type&&(a.openGrid({width:6,prefix:3,
suffix:3}),a.addButton({onClick:function(){d.onClick(d.id)},label:d.text}),a.close())}var d=lucid.template.builder(),e=d.add({classes:"ios_inputs"}),f=!1,g=!1;lucid.plugin.addCustomPanel("Context Panel",null,[{content:d}],null,{isContextPanel:!0,checkShow:function(b){b=lucid.array.filter(b,function(a){return a.isBlock});if(!lucid.array.every(b,function(a){return 0==a.className.search("UI2")}))return!1;var c=!1;f=!1;var h=lucid.template.builder(),m={Tabs:{ids:[],name:i18n.get("plugin-ui2-menu-tabs"),
type:"spinner",prop:"Tabs",pairs:[]},Links:{ids:[],name:i18n.get("plugin-ui2-menu-links"),prop:"Links",type:"spinner"},Panels:{ids:[],name:i18n.get("plugin-ui2-menu-panels"),prop:"Panels",type:"spinner",pairs:[]},Buttons:{ids:[],name:i18n.get("plugin-ui2-menu-buttons"),prop:"Buttons",type:"spinner",pairs:[]},Options:{ids:[],name:i18n.get("plugin-ui2-menu-options"),prop:"Options",type:"spinner",pairs:[]},Cols:{ids:[],name:i18n.get("plugin-ui2-menu-columns"),prop:"Cols",type:"spinner"},Rows:{ids:[],
name:i18n.get("plugin-ui2-menu-rows"),prop:"Rows",type:"spinner"},Scrollbars:{ids:[],name:i18n.get("plugin-ui2-menu-scrollbars"),prop:"vScroll",type:"buttonset",buttons:[{prop:"vScroll",icon:"vscrollbar"},{prop:"hScroll",icon:"hscrollbar"}]}},n={UI2TableBlock:{onClick:y,text:i18n.get("plugin-ui2-menu-edit-markup"),type:"button"},UI2ContextMenuBlock:{onClick:z,text:i18n.get("plugin-ui2-menu-edit-markup"),type:"button"},UI2TreePaneBlock:{onClick:B,text:i18n.get("plugin-ui2-menu-edit-markup"),type:"button"}};
lucid.array.forEach(b,function(a){lucid.object.forEach(m,function(b){null!=lucid.plugin.getProperty(a.id,b.prop)&&(b.ids.push(a.id),b.pairs&&"number"==typeof lucid.plugin.getProperty(a.id,"Selected")&&b.pairs.push(a.id))})});lucid.object.forEach(m,function(b){0<b.ids.length&&(a(h,b),c=!0)});1==b.length&&n[b[0].className]&&!lucid.useragent.is_touch()&&(n=n[b[0].className],n.id=b[0].id,a(h,n),c=!0);d.getElement(e).setContent(h);g=c&&0<b.filter(function(a){return"UI2HorizontalRadioBlock"==a.className||
"UI2HorizontalCheckBoxBlock"==a.className}).length?!0:!1;return c},positionFunction:function(a){return g?{x:a.x+a.w/2,y:a.y+a.h}:!1}})});
function C(b,c,a,d,e,f,g,h){var k=d.split("/");k=k[k.length-1];k=k.split(".")[0].replace(/-/g,"_");b="Image_"+b.split(" ")[0].toLowerCase()+"_"+k;lucid.plugin.initBlockClass({className:b,name:c,searchKeywords:a,defaultSize:{w:f,h:g},minHeight:20,maxHeight:20,snapSpacing:4,onInit:function(){},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(a,b){var c=a.BoundingBox,k=f/g,l=c.w/c.h;k>l?(k=c.w/k,k={x:c.x,y:c.y+(c.h-k)/2,w:c.w,h:k}):k<l?(k*=c.h,k={x:c.x+
(c.w-k)/2,y:c.y,w:k,h:c.h}):k=lucid.object.copy(c);return"sample"==b?[{FillColor:{url:e,pos:{x:2,y:2,w:23,h:23}},Actions:lucid.math.Box.toRenderActions({x:2,y:2,w:23,h:23})}]:h?h(a,d,k,f,g,c):[{FillColor:{url:d,pos:k},Actions:lucid.math.Box.toRenderActions(k)}]}})}function F(b,c){for(var a=0;a<c.length;a++)b.push(c[a])}
function I(b,c,a,d){return[{StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y+.4*b.h},{Action:"line",x:b.x+.4*b.w,y:b.y+b.h},{Action:"line",x:b.x+b.w,y:b.y}]}]}function fa(b,c,a,d){return[{StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y+.5*b.h},{Action:"line",x:b.x+b.w,y:b.y+.5*b.h},{Action:"move",x:b.x+.5*b.w,y:b.y},{Action:"line",x:b.x+.5*b.w,y:b.y+b.h}]}]}
function ha(b,c,a,d){return[{StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y+.5*b.h},{Action:"line",x:b.x+b.w,y:b.y+.5*b.h}]}]}
function J(b,c,a,d,e,f){var g=[{FillColor:c,StrokeColor:a,LineWidth:d,Actions:[{Action:"move",x:b.x+b.w,y:b.y+.5*b.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(b.x,b.y,b.w,b.h,0,2*Math.PI)},{Action:"close"}]}];if(e){var h=.5*(1-Math.SQRT1_2)*b.w,k=.5*(1-Math.SQRT1_2)*b.h;b={x:b.x+h,y:b.y+k,w:b.w-2*h,h:b.h-2*k};f&&(b.x+=f.l*b.w,b.y+=f.t*b.h,b.w-=(f.l+f.r)*b.w,b.h-=(f.t+f.b)*b.h);F(g,e(b,c,a,d))}return g}function ia(b,c,a,d,e,f){return J(b,a,a,d,e,f)}
function K(b,c,a,d,e,f){var g=[{FillColor:c,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+b.w,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]}];e&&(b={x:b.x+0,y:b.y+0,w:b.w-0,h:b.h-0},f&&(b.x+=f.l*b.w,b.y+=f.t*b.h,b.w-=(f.l+f.r)*b.w,b.h-=(f.t+f.b)*b.h),F(g,e(b,c,a,d)));return g}
function M(b,c,a,d,e,f){var g=[];e&&(b={x:b.x+0,y:b.y+0,w:b.w-0,h:b.h-0},f&&(b.x+=f.l*b.w,b.y+=f.t*b.h,b.w-=(f.l+f.r)*b.w,b.h-=(f.t+f.b)*b.h),F(g,e(b,c,a,d)));return g}function N(b,c,a,d){return[{FillColor:c,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+.5*b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]}]}
function ja(b,c,a,d){return[{FillColor:c,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+b.w,y:b.y},{Action:"line",x:b.x+.5*b.w,y:b.y+b.h},{Action:"close"}]}]}function O(b,c,a,d){return[{FillColor:c,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x+b.w,y:b.y},{Action:"line",x:b.x,y:b.y+.5*b.h},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"close"}]}]}
function ka(b,c,a,d){return[{FillColor:c,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+.4*b.w,y:b.y},{Action:"line",x:b.x+.5*b.w,y:b.y+.15*b.h},{Action:"line",x:b.x+b.w,y:b.y+.15*b.h},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]}]}
function la(b,c,a,d){return[{FillColor:c,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x+.1*b.w,y:b.y},{Action:"line",x:b.x+.5*b.w,y:b.y},{Action:"line",x:b.x+.6*b.w,y:b.y+.15*b.h},{Action:"line",x:b.x+b.w,y:b.y+.15*b.h},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x+.1*b.w,y:b.y+b.h},{Action:"close"}]},{FillColor:c,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y+.4*b.h},{Action:"line",x:b.x+.8*b.w,y:b.y+.4*b.h},{Action:"line",x:b.x+b.w,
y:b.y+b.h},{Action:"line",x:b.x+.1*b.w,y:b.y+b.h},{Action:"close"}]}]}
function ma(b,c,a,d){return[{FillColor:c,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+.8*b.w,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+.2*b.h},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]},{FillColor:c,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x+.8*b.w,y:b.y},{Action:"line",x:b.x+.8*b.w,y:b.y+.2*b.h},{Action:"line",x:b.x+b.w,y:b.y+.2*b.h},{Action:"move",x:b.x+.2*b.w,y:b.y+.4*b.h},{Action:"line",
x:b.x+.7*b.w,y:b.y+.4*b.h},{Action:"move",x:b.x+.2*b.w,y:b.y+.7*b.h},{Action:"line",x:b.x+.8*b.w,y:b.y+.7*b.h}]}]}function na(b,c,a,d){var e=[];F(e,N({x:b.x,y:b.y,w:.5*b.w,h:b.h},c,a,d));F(e,N({x:b.x+.5*b.w,y:b.y,w:.5*b.w,h:b.h},c,a,d));return e}function oa(b,c,a,d){var e=[];F(e,O({x:b.x,y:b.y,w:.5*b.w,h:b.h},c,a,d));F(e,O({x:b.x+.5*b.w,y:b.y,w:.5*b.w,h:b.h},c,a,d));return e}function P(b,c,a){var d=(b.h>b.w?b.w:b.h)-4*c,e=(b.h-2*d-4*c)/2;return{x:b.x+2*c,y:b.y+d+4*c+a*(b.h-2*d-8*c-e),w:d,h:e}}
function R(b,c,a,d,e){var f=(b.h>b.w?b.w:b.h)-4*d;e=P(b,d,e||0);return[{FillColor:c,StrokeColor:a,LineWidth:d,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+b.w,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]},{StrokeColor:a,LineWidth:d,Actions:[{Action:"move",x:b.x+2*d,y:b.y+2*d},{Action:"line",x:b.x+f+2*d,y:b.y+2*d},{Action:"line",x:b.x+f+2*d,y:b.y+f+2*d},{Action:"line",x:b.x+2*d,y:b.y+f+2*d},{Action:"close"}]},{FillColor:a,StrokeColor:a,LineWidth:d,
NoRounding:!0,Actions:[{Action:"move",x:b.x+.2*f+2*d,y:b.y+.7*f+2*d},{Action:"line",x:b.x+.8*f+2*d,y:b.y+.7*f+2*d},{Action:"line",x:b.x+.5*f+2*d,y:b.y+.3*f+2*d},{Action:"close"}]},{StrokeColor:a,LineWidth:d,Actions:[{Action:"move",x:e.x,y:e.y},{Action:"line",x:e.x+e.w,y:e.y},{Action:"line",x:e.x+e.w,y:e.y+e.h},{Action:"line",x:e.x,y:e.y+e.h},{Action:"close"}]},{StrokeColor:a,LineWidth:d,Actions:[{Action:"move",x:b.x+4*d,y:e.y+e.h/2-2*d},{Action:"line",x:b.x+f,y:e.y+e.h/2-2*d},{Action:"move",x:b.x+
4*d,y:e.y+e.h/2},{Action:"line",x:b.x+f,y:e.y+e.h/2},{Action:"move",x:b.x+4*d,y:e.y+e.h/2+2*d},{Action:"line",x:b.x+f,y:e.y+e.h/2+2*d}]},{StrokeColor:a,LineWidth:d,Actions:[{Action:"move",x:b.x+2*d,y:b.y+b.h-2*d},{Action:"line",x:b.x+f+2*d,y:b.y+b.h-2*d},{Action:"line",x:b.x+f+2*d,y:b.y+b.h-f-2*d},{Action:"line",x:b.x+2*d,y:b.y+b.h-f-2*d},{Action:"close"}]},{FillColor:a,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:b.x+.2*f+2*d,y:b.y+b.h-.7*f-2*d},{Action:"line",x:b.x+.8*f+2*d,
y:b.y+b.h-.7*f-2*d},{Action:"line",x:b.x+.5*f+2*d,y:b.y+b.h-.3*f-2*d},{Action:"close"}]}]}function T(b,c,a){var d=(b.h>b.w?b.w:b.h)-4*c,e=(b.w-2*d-4*c)/2;return{x:b.x+d+4*c+a*(b.w-2*d-8*c-e),y:b.y+2*c,w:e,h:d}}
function U(b,c,a,d,e){var f=(b.w>b.h?b.h:b.w)-4*d;e=T(b,d,e||0);return[{FillColor:c,StrokeColor:a,LineWidth:d,Actions:[{Action:"move",y:b.y,x:b.x},{Action:"line",y:b.y+b.h,x:b.x},{Action:"line",y:b.y+b.h,x:b.x+b.w},{Action:"line",y:b.y,x:b.x+b.w},{Action:"close"}]},{StrokeColor:a,LineWidth:d,Actions:[{Action:"move",y:b.y+2*d,x:b.x+2*d},{Action:"line",y:b.y+f+2*d,x:b.x+2*d},{Action:"line",y:b.y+f+2*d,x:b.x+f+2*d},{Action:"line",y:b.y+2*d,x:b.x+f+2*d},{Action:"close"}]},{FillColor:a,StrokeColor:a,LineWidth:d,
NoRounding:!0,Actions:[{Action:"move",y:b.y+.2*f+2*d,x:b.x+.7*f+2*d},{Action:"line",y:b.y+.8*f+2*d,x:b.x+.7*f+2*d},{Action:"line",y:b.y+.5*f+2*d,x:b.x+.3*f+2*d},{Action:"close"}]},{StrokeColor:a,LineWidth:d,Actions:[{Action:"move",x:e.x,y:e.y},{Action:"line",x:e.x+e.w,y:e.y},{Action:"line",x:e.x+e.w,y:e.y+e.h},{Action:"line",x:e.x,y:e.y+e.h},{Action:"close"}]},{StrokeColor:a,LineWidth:d,Actions:[{Action:"move",y:b.y+4*d,x:e.x+e.w/2-2*d},{Action:"line",y:b.y+f,x:e.x+e.w/2-2*d},{Action:"move",y:b.y+
4*d,x:e.x+e.w/2},{Action:"line",y:b.y+f,x:e.x+e.w/2},{Action:"move",y:b.y+4*d,x:e.x+e.w/2+2*d},{Action:"line",y:b.y+f,x:e.x+e.w/2+2*d}]},{StrokeColor:a,LineWidth:d,Actions:[{Action:"move",y:b.y+2*d,x:b.x+b.w-2*d},{Action:"line",y:b.y+f+2*d,x:b.x+b.w-2*d},{Action:"line",y:b.y+f+2*d,x:b.x+b.w-f-2*d},{Action:"line",y:b.y+2*d,x:b.x+b.w-f-2*d},{Action:"close"}]},{FillColor:a,StrokeColor:a,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",y:b.y+.2*f+2*d,x:b.x+b.w-.7*f-2*d},{Action:"line",y:b.y+.8*f+2*d,
x:b.x+b.w-.7*f-2*d},{Action:"line",y:b.y+.5*f+2*d,x:b.x+b.w-.3*f-2*d},{Action:"close"}]}]}
lucid.plugin.initBlockClass({className:"UI2HotspotBlock",name:i18n.get("plugin-ui2-shape-hot-spot"),searchKeywords:i18n.get("plugin-ui2-shape-hot-spot-keywords"),defaultSize:{w:120,h:80},unthemed:!0,hotspot:!0,snapSpacing:4,defaultProperties:function(){return{FillColor:"#00ff9966"}},getRenderDataKey:function(){return["FillColor"]},getRenderData:function(b){var c=b.BoundingBox;return[{FillColor:b.FillColor,Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w,
y:c.y+c.h},{Action:"line",x:c.x,y:c.y+c.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UI2AreaBlock",name:i18n.get("plugin-ui2-shape-area"),searchKeywords:i18n.get("plugin-ui2-shape-area-keywords"),defaultSize:{w:480,h:360},container:!0,defaultProperties:function(){return{Magnetize:!1}},snapSpacing:4,getRenderDataKey:function(){return["FillColor","LineWidth","LineColor","Fill"]},getRenderData:function(b){var c=b.BoundingBox;return[{FillColor:b.Fill?b.FillColor:null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x,y:c.y},
{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+c.h},{Action:"close"}]}]}});x.browserVars={barHeight:60,scrollbarWidth:32};
lucid.plugin.initBlockClass({className:"UI2BrowserBlock",name:i18n.get("plugin-ui2-browser-window"),searchKeywords:i18n.get("plugin-ui2-browser-window-keywords"),defaultSize:{w:720,h:540},container:!0,defaultProperties:function(){return{Magnetize:!1}},disabledPropertyControls:["FlipX","FlipY"],snapSpacing:4,onInit:function(b){lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.addBlockTextArea(b,{id:"Title",value:i18n.get("plugin-ui2-website-title"),
getBoundingBox:function(b){return{x:b.x+20,y:b.y,w:b.w-40,h:.4*x.browserVars.barHeight}}});lucid.plugin.addBlockTextArea(b,{id:"URL",value:"http://lucidchart.com",getBoundingBox:function(b){var a=x.browserVars.barHeight,c=.2*a,e=a-3*c;return{x:b.x+8.5*c+4*e,y:b.y+2*c,w:b.w-10.5*c-4*e,h:a-3*c}},align:"left"})},getRenderDataKey:function(){return["FillColor","LineWidth","LineColor","vScroll","hScroll"]},getRenderData:function(b,c){var a=b.BoundingBox,d=x.browserVars.barHeight,e=x.browserVars.scrollbarWidth,
f=b.vScroll,g=b.hScroll,h=b.FillColor,k=b.LineColor;b=b.LineWidth;var l=6;"sample"==c&&(l=1,d=.25*a.h);var m=.2*d;c=d-3*m;var n=[{FillColor:h,StrokeColor:k,LineWidth:b,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{FillColor:lucid.color.darken(h,.25),StrokeColor:k,LineWidth:b,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+d},{Action:"line",
x:a.x,y:a.y+d},{Action:"close"}]},{FillColor:h,StrokeColor:k,LineWidth:b,Actions:[{Action:"move",x:a.x+8*m+4*c,y:a.y+2*m},{Action:"line",x:a.x+a.w-m,y:a.y+2*m},{Action:"line",x:a.x+a.w-m,y:a.y+d-m},{Action:"line",x:a.x+8*m+4*c,y:a.y+d-m},{Action:"close"}]}],r=a.x+m,p=a.y+2*m;F(n,[{StrokeColor:k,LineWidth:l,NoRounding:!0,Actions:[{Action:"move",x:r+.5*c,y:p},{Action:"line",x:r,y:p+.5*c},{Action:"line",x:r+.5*c,y:p+c},{Action:"move",x:r,y:p+.5*c},{Action:"line",x:r+c,y:p+.5*c}]}]);r=a.x+3*m+c;p=a.y+
2*m;F(n,[{StrokeColor:k,LineWidth:l,NoRounding:!0,Actions:[{Action:"move",x:r+.5*c,y:p},{Action:"line",x:r+c,y:p+.5*c},{Action:"line",x:r+.5*c,y:p+c},{Action:"move",x:r,y:p+.5*c},{Action:"line",x:r+c,y:p+.5*c}]}]);r=a.x+5*m+2*c;p=a.y+2*m;l=[{StrokeColor:k,LineWidth:l,NoRounding:!0,Actions:[{Action:"move",x:r+c,y:p+.5*c},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(r,p,c,c,-.1*Math.PI,-1.8*Math.PI)}]},{FillColor:k,StrokeColor:k,LineWidth:.25*l,NoRounding:!0,Actions:[{Action:"move",x:r+
1.13*c,y:p},{Action:"line",x:r+1.13*c,y:p+.5*c},{Action:"line",x:r+.63*c,y:p+.5*c},{Action:"close"}]}];F(n,l);l=a.x+7*m+3*c;m=a.y+2*m;F(n,[{FillColor:k,StrokeColor:k,LineWidth:1,NoRounding:!0,Actions:[{Action:"move",x:l,y:m+.5*c},{Action:"line",x:l+.5*c,y:m},{Action:"line",x:l+c,y:m+.5*c},{Action:"line",x:l+.9*c,y:m+.5*c},{Action:"line",x:l+.9*c,y:m+c},{Action:"line",x:l+.65*c,y:m+c},{Action:"line",x:l+.65*c,y:m+.5*c},{Action:"line",x:l+.35*c,y:m+.5*c},{Action:"line",x:l+.35*c,y:m+c},{Action:"line",
x:l+.1*c,y:m+c},{Action:"line",x:l+.1*c,y:m+.5*c},{Action:"close"}]}]);1==f&&F(n,R({x:a.x+a.w-e,y:a.y+d,w:e,h:a.h-d-(1==g?e:0)},h,k,b));1==g&&F(n,U({x:a.x,y:a.y+a.h-e,w:a.w-(1==f?e:0),h:e},h,k,b));return n}});
lucid.plugin.initBlockClass({className:"UI2WindowBlock",name:i18n.get("plugin-ui2-shape-window"),searchKeywords:i18n.get("plugin-ui2-shape-window-keywords"),defaultSize:{w:480,h:360},container:!0,defaultProperties:function(){return{Magnetize:!1}},snapSpacing:4,onInit:function(b){lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.addBlockTextArea(b,{id:"Title",value:i18n.get("plugin-ui2-shape-window-title"),getBoundingBox:function(b){return{x:b.x+
20,y:b.y,w:b.w-40,h:40}}})},getRenderDataKey:function(){return["FillColor","LineWidth","LineColor","vScroll","hScroll"]},getRenderData:function(b,c){var a=b.BoundingBox,d=40,e=b.vScroll,f=b.hScroll,g=b.LineWidth;"sample"==c&&(g=1,d=a.h/4);c=[{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,
Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+d},{Action:"line",x:a.x,y:a.y+d},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:g,Actions:[{Action:"move",x:a.x+a.w-d+2*g,y:a.y+2*g},{Action:"line",x:a.x+a.w-2*g,y:a.y+2*g},{Action:"line",x:a.x+a.w-2*g,y:a.y+d-2*g},{Action:"line",x:a.x+a.w-d+2*g,y:a.y+d-2*g},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:g,NoRounding:!0,Actions:[{Action:"move",x:a.x+a.w-.8*d+2*g,y:a.y+.2*d+2*g},{Action:"line",
x:a.x+a.w-.2*d-2*g,y:a.y+.8*d-2*g},{Action:"move",x:a.x+a.w-.2*d-2*g,y:a.y+.2*d+2*g},{Action:"line",x:a.x+a.w-.8*d+2*g,y:a.y+.8*d-2*g}]},{StrokeColor:b.LineColor,LineWidth:g,Actions:[{Action:"move",x:a.x+a.w-2*d+4*g,y:a.y+2*g},{Action:"line",x:a.x+a.w-d,y:a.y+2*g},{Action:"line",x:a.x+a.w-d,y:a.y+d-2*g},{Action:"line",x:a.x+a.w-2*d+4*g,y:a.y+d-2*g},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:g,NoRounding:!0,Actions:[{Action:"move",x:a.x+a.w-1.8*d+4*g,y:a.y+.2*d+2*g},{Action:"line",x:a.x+
a.w-1.2*d,y:a.y+.2*d+2*g},{Action:"line",x:a.x+a.w-1.2*d,y:a.y+.8*d-2*g},{Action:"line",x:a.x+a.w-1.8*d+4*g,y:a.y+.8*d-2*g},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:g,Actions:[{Action:"move",x:a.x+a.w-3*d+6*g,y:a.y+2*g},{Action:"line",x:a.x+a.w-2*d+2*g,y:a.y+2*g},{Action:"line",x:a.x+a.w-2*d+2*g,y:a.y+d-2*g},{Action:"line",x:a.x+a.w-3*d+6*g,y:a.y+d-2*g},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:g,Actions:[{Action:"move",x:a.x+a.w-2.2*d+2*g,y:a.y+.8*d-2*g},{Action:"line",x:a.x+
a.w-2.8*d+6*g,y:a.y+.8*d-2*g}]}];if(1==e){var h=R({x:a.x+a.w-32,y:a.y+d,w:32,h:a.h-d-(1==f?32:0)},b.FillColor,b.LineColor,g);for(d=0;d<h.length;d++)c.push(h[d])}if(1==f)for(b=U({x:a.x,y:a.y+a.h-32,w:a.w-(1==e?32:0),h:32},b.FillColor,b.LineColor,g),d=0;d<b.length;d++)c.push(b[d]);return c}});x.dialogVars={barHeight:40,scrollbarWidth:32};
lucid.plugin.initBlockClass({className:"UI2DialogBlock",name:i18n.get("plugin-ui2-shape-dialog-box"),searchKeywords:i18n.get("plugin-ui2-shape-dialog-box-keywords"),defaultSize:{w:320,h:240},partialContainer:{getContainerArea:function(b){b=lucid.plugin.getProperty(b,"BoundingBox");var c=x.dialogVars.barHeight;return{x:b.x,y:b.y+c,w:b.w,h:b.h-c}}},defaultProperties:function(){return{Magnetize:!1}},snapSpacing:4,onCreate:function(){},onInit:function(b){lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,
"hScroll",0);lucid.plugin.addBlockTextArea(b,{id:"Title",value:i18n.get("plugin-ui2-shape-dialog-box-title"),getBoundingBox:function(b){return{x:b.x+20,y:b.y,w:b.w-60,h:x.dialogVars.barHeight}}});lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(b){var a=x.dialogVars.barHeight;return{x:b.x+10,y:b.y+.1*b.h+a,w:b.w-20,h:.8*b.h-a}}})},getRenderDataKey:function(){return["FillColor","LineWidth","LineColor","vScroll","hScroll"]},getRenderData:function(b,c){var a=b.BoundingBox,
d=x.dialogVars.barHeight,e=x.dialogVars.scrollbarWidth,f=b.vScroll,g=b.hScroll,h=b.LineWidth;"sample"==c&&(h=1,d=a.h/4);c=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+a.w,y:a.y+d},{Action:"line",x:a.x,y:a.y+d}]},{StrokeColor:b.LineColor,
LineWidth:h,Actions:[{Action:"move",x:a.x+a.w-d+2*h,y:a.y+2*h},{Action:"line",x:a.x+a.w-2*h,y:a.y+2*h},{Action:"line",x:a.x+a.w-2*h,y:a.y+d-2*h},{Action:"line",x:a.x+a.w-d+2*h,y:a.y+d-2*h},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:h,Actions:[{Action:"move",x:a.x+a.w-.8*d+2*h,y:a.y+.2*d+2*h},{Action:"line",x:a.x+a.w-.2*d-2*h,y:a.y+.8*d-2*h},{Action:"move",x:a.x+a.w-.2*d-2*h,y:a.y+.2*d+2*h},{Action:"line",x:a.x+a.w-.8*d+2*h,y:a.y+.8*d-2*h}]}];if(1==f){var k=R({x:a.x+a.w-e,y:a.y+d,w:e,h:a.h-
d-(1==g?e:0)},b.FillColor,b.LineColor,h);for(d=0;d<k.length;d++)c.push(k[d])}if(1==g)for(b=U({x:a.x,y:a.y+a.h-e,w:a.w-(1==f?e:0),h:e},b.FillColor,b.LineColor,h),d=0;d<b.length;d++)c.push(b[d]);return c}});
lucid.plugin.initBlockClass({className:"UI2ElementBlock",name:i18n.get("plugin-ui2-shape-element"),searchKeywords:i18n.get("plugin-ui2-shape-element-keywords"),defaultSize:{w:320,h:240},partialContainer:{getContainerArea:function(b){return lucid.plugin.getProperty(b,"BoundingBox")}},defaultProperties:function(){return{Magnetize:!1}},snapSpacing:4,onCreate:function(){},onInit:function(b){lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.addBlockTextArea(b,
{id:"Text",value:"",getBoundingBox:function(b){return{x:b.x+10,y:b.y+.1*b.h,w:b.w-20,h:.8*b.h}}})},getRenderDataKey:function(){return["FillColor","LineWidth","LineColor","vScroll","hScroll"]},getRenderData:function(b){var c=b.BoundingBox,a=b.vScroll,d=b.hScroll,e=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+c.h},{Action:"close"}]}];if(1==a)for(var f=
R({x:c.x+c.w-32,y:c.y,w:32,h:c.h-(1==d?32:0)},b.FillColor,b.LineColor,b.LineWidth),g=0;g<f.length;g++)e.push(f[g]);if(1==d)for(b=U({x:c.x,y:c.y+c.h-32,w:c.w-(1==a?32:0),h:32},b.FillColor,b.LineColor,b.LineWidth),g=0;g<b.length;g++)e.push(b[g]);return e}});
lucid.plugin.initBlockClass({className:"UI2ImageBlock",name:i18n.get("plugin-ui2-shape-image"),searchKeywords:i18n.get("plugin-ui2-shape-image-keywords"),defaultSize:{w:320,h:240},snapSpacing:4,onCreate:function(){},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(b){return{x:b.x+.1*b.w,y:b.y+.5*b.h,w:.8*b.w,h:.4*b.h}}})},getRenderDataKey:function(){return["FillColor","LineWidth","LineColor"]},getRenderData:function(b){var c=b.BoundingBox;return[{FillColor:b.FillColor,
StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+c.h},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+c.h},{Action:"move",x:c.x+c.w,y:c.y},{Action:"line",x:c.x,y:c.y+c.h}]}]}});
lucid.plugin.initBlockClass({className:"UI2VideoBlock",name:i18n.get("plugin-ui2-shape-video"),searchKeywords:i18n.get("plugin-ui2-shape-video-keywords"),defaultSize:{w:320,h:240},snapSpacing:4,onCreate:function(){},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(b){return{x:b.x+.1*b.w,y:b.y+.65*b.h,w:.8*b.w,h:.3*b.h}}})},getRenderDataKey:function(){return["FillColor","LineWidth","LineColor"]},getRenderData:function(b){var c=b.BoundingBox,a=lucid.color.darken(b.FillColor,
.33),d=b.FillColor,e=b.LineColor;b=b.LineWidth;var f=.025*c.h;f=[{FillColor:d,StrokeColor:e,LineWidth:b,NoRounding:!0,Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+.8*c.h},{Action:"line",x:c.x,y:c.y+.8*c.h},{Action:"close"}]},{FillColor:a,StrokeColor:e,LineWidth:b,NoRounding:!0,Actions:[{Action:"move",x:c.x,y:c.y+.8*c.h},{Action:"line",x:c.x+c.w,y:c.y+.8*c.h},{Action:"line",x:c.x+c.w,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+c.h},{Action:"close"}]},
{FillColor:e,NoRounding:!0,Actions:[{Action:"move",x:c.x+.2*c.h+f,y:c.y+.9*c.h-f},{Action:"line",x:c.x+c.w-.2*c.h-f,y:c.y+.9*c.h-f},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(c.x+c.w-.2*c.h-2*f,c.y+.9*c.h-f,2*f,2*f,-.5*Math.PI,.5*Math.PI)},{Action:"line",x:c.x+.2*c.h+f,y:c.y+.9*c.h+f},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(c.x+.2*c.h,c.y+.9*c.h-f,2*f,2*f,.5*Math.PI,1.5*Math.PI)},{Action:"close"}]}];F(f,N({x:c.x+.5*c.w-.133*c.h,y:c.y+.25*c.h,w:.266*c.h,h:.3*c.h},
a,e,b));F(f,N({x:c.x+.05*c.h,y:c.y+.85*c.h,w:.1*c.h,h:.1*c.h},e,null,null));F(f,O({x:c.x+c.w-.15*c.h,y:c.y+.85*c.h,w:.1*c.h,h:.1*c.h},e,null,null));F(f,K({x:c.x+c.w-.15*c.h,y:c.y+.875*c.h,w:.05*c.h,h:.05*c.h},e,null,null));F(f,J({x:c.x+.3*c.w,y:c.y+.85*c.h,w:.1*c.h,h:.1*c.h},d,e,b));return f}});
lucid.plugin.initBlockClass({className:"UI2AudioBlock",name:i18n.get("plugin-ui2-shape-audio"),searchKeywords:i18n.get("plugin-ui2-shape-audio-keywords"),defaultSize:{w:320,h:48},snapSpacing:4,onCreate:function(){},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(b){return{x:b.x+.1*b.w,y:b.y+.65*b.h,w:.8*b.w,h:.3*b.h}}})},getRenderDataKey:function(){return["FillColor","LineWidth","LineColor"]},getRenderData:function(b){var c=b.BoundingBox,a=lucid.color.darken(b.FillColor,
.33),d=b.FillColor,e=b.LineColor;b=b.LineWidth;var f=.125*c.h;a=[{FillColor:a,StrokeColor:e,LineWidth:b,NoRounding:!0,Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w,y:c.y+c.h},{Action:"line",x:c.x,y:c.y+c.h},{Action:"close"}]},{FillColor:e,NoRounding:!0,Actions:[{Action:"move",x:c.x+.9*c.h+f,y:c.y+.5*c.h-f},{Action:"line",x:c.x+c.w-.9*c.h-f,y:c.y+.5*c.h-f},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(c.x+c.w-.9*c.h-2*f,c.y+.5*c.h-f,2*f,
2*f,-.5*Math.PI,.5*Math.PI)},{Action:"line",x:c.x+.9*c.h+f,y:c.y+.5*c.h+f},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(c.x+.9*c.h,c.y+.5*c.h-f,2*f,2*f,.5*Math.PI,1.5*Math.PI)},{Action:"close"}]}];F(a,N({x:c.x+.25*c.h,y:c.y+.25*c.h,w:.5*c.h,h:.5*c.h},e,null,null));F(a,O({x:c.x+c.w-.75*c.h,y:c.y+.25*c.h,w:.5*c.h,h:.5*c.h},e,null,null));F(a,K({x:c.x+c.w-.75*c.h,y:c.y+.375*c.h,w:.25*c.h,h:.25*c.h},e,null,null));F(a,J({x:c.x+.3*c.w,y:c.y+.25*c.h,w:.5*c.h,h:.5*c.h},d,e,b));return a}});
lucid.plugin.initBlockClass({className:"UI2MapBlock",name:i18n.get("plugin-ui2-shape-map"),searchKeywords:i18n.get("plugin-ui2-shape-map-keywords"),defaultSize:{w:320,h:240},snapSpacing:4,onCreate:function(){},onInit:function(b){lucid.plugin.setProperty("TextAlign","right");lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(b){return{x:b.x+.4*b.w,y:b.y+.65*b.h,w:.55*b.w,h:.3*b.h}}})},getRenderDataKey:function(){return["FillColor","LineWidth","LineColor"]},getRenderData:function(b,
c){var a=b.BoundingBox,d=8,e=2;"sample"==c&&(d=b.LineWidth,e=1);c=1.5*(a.h<a.w?a.h:a.w);var f=a.x+.3*a.w,g=a.y+.4*a.h;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+.2*a.w,y:a.y+a.h},{Action:"line",x:a.x+.4*a.w,y:a.y},{Action:"move",x:a.x,y:a.y+.6*a.h},
{Action:"line",x:a.x+a.w,y:a.y+.1*a.h},{Action:"move",x:a.x,y:a.y+.8*a.h},{Action:"line",x:a.x+.2*a.w,y:a.y+.8*a.h},{Action:"curve",Control:[{x1:a.x+.4*a.w,y1:a.y+.8*a.h,x2:a.x+.7*a.w,y2:a.y+.6*a.h,x3:a.x+.8*a.w,y3:a.y+.55*a.h}]},{Action:"line",x:a.x+a.w,y:a.y+.5*a.h},{Action:"move",x:a.x+.5*a.w,y:a.y},{Action:"line",x:a.x+.55*a.w,y:a.y+.1*a.h},{Action:"curve",Control:[{x1:a.x+.6*a.w,y1:a.y+.2*a.h,x2:a.x+.8*a.w,y2:a.y+.3*a.h,x3:a.x+.8*a.w,y3:a.y+.55*a.h}]}]},{FillColor:"#0088FF",StrokeColor:b.LineColor,
LineWidth:e,Actions:[{Action:"move",x:f-.1*c,y:g-.1*c},{Action:"curve",Control:[{x1:f-.05*c,y1:g-.08*c,x2:f-.05*c,y2:g-.08*c,x3:f,y3:g-.1*c},{x1:f+.05*c,y1:g-.08*c,x2:f+.05*c,y2:g-.08*c,x3:f+.1*c,y3:g-.1*c},{x1:f+.15*c,y1:g-.05*c,x2:f+.15*c,y2:g+.1*c,x3:f,y3:g+.15*c},{x1:f-.15*c,y1:g+.1*c,x2:f-.15*c,y2:g-.05*c,x3:f-.1*c,y3:g-.1*c}]},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UI2ButtonBlock",name:i18n.get("plugin-ui2-shape-button"),searchKeywords:i18n.get("plugin-ui2-shape-button-keywords"),defaultSize:{w:160,h:40},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-ui2-button"),getBoundingBox:function(b){return{x:b.x+10,y:b.y+.1*b.h,w:b.w-20,h:.8*b.h}}})},getRenderDataKey:function(){return["FillColor","LineWidth","LineColor"]},getRenderData:function(b,c){var a=b.BoundingBox;"sample"==
c&&(c=a.w,a=a.x,a={x:a,y:a+.25*c,w:c,h:.5*c});c=.3*(a.h>a.w?a.w:a.h);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+c,y:a.y},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,2*c,2*c,1.5*Math.PI,Math.PI)},{Action:"line",x:a.x,y:a.y+a.h-c},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y+a.h-2*c,2*c,2*c,Math.PI,.5*Math.PI)},{Action:"line",x:a.x+a.w-c,y:a.y+a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+
a.w-2*c,a.y+a.h-2*c,2*c,2*c,.5*Math.PI,0)},{Action:"line",x:a.x+a.w,y:a.y+c},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*c,a.y,2*c,2*c,2*Math.PI,1.5*Math.PI)},{Action:"close"}]}]}});
var W={rowHeight:40,resizeBB:function(b,c){for(var a=lucid.plugin.getProperty(b,"Options"),d=0,e=[],f={x:0,y:0,w:1E6,h:1E4},g=1;g<=a;g++){var h=lucid.text.getSize(b,1==g&&c?"Selected":"Option_"+g,f);h=Math.round(Math.max(W.rowHeight,h.h+10));e.push(h);d+=h}lucid.plugin.setProperty(b,"totalHeight",d,!0);lucid.plugin.setProperty(b,"rowHeights",e,!0);lucid.plugin.refreshBlockView(b);(f=lucid.plugin.getProperty(b,"BoundingBox"))&&f.h!=d&&(f.h=d,lucid.plugin.setProperty(b,"BoundingBox",f))},hitTest:function(b,
c){var a=lucid.plugin.getProperty(b,"BoundingBox");if(a&&c.x>a.x&&c.x<a.x+20){var d=a.y,e=lucid.plugin.getProperty(b,"Options");a=a.h/e;for(var f=1;f<=e;f++){if(c.y>d+.5*(a-20)&&c.y<d+.5*(a+20))return{cursor:"pointer",onClick:function(){var a=lucid.plugin.getProperty(b,"Selected");lucid.plugin.getProperty(b,"Toggle")?a=a==f?0:f:a.hasOwnProperty(f)?delete a[f]:a[f]=1;lucid.plugin.setProperty(b,"Selected",a);lucid.plugin.refreshBlockView(b)}};d+=a}}}},X={leftIndent:32,leftPad:20,w:20,hitTest:function(b,
c){var a=lucid.plugin.getProperty(b,"BoundingBox");if(a){var d=a.x,e=lucid.plugin.getProperty(b,"Options"),f=lucid.plugin.getProperty(b,"totalHeight",!0);lucid.plugin.getProperty(b,"widths",!0);for(var g=1;g<=e;g++){if(c.x>d&&c.x<d+20&&c.y>a.y+.5*(f-20)&&c.y<a.y+20+.5*(f-20))return{cursor:"pointer",onClick:function(){var a=lucid.plugin.getProperty(b,"Selected");lucid.plugin.getProperty(b,"Toggle")?a=a==g?0:g:a.hasOwnProperty(g)?delete a[g]:a[g]=1;lucid.plugin.setProperty(b,"Selected",a);lucid.plugin.refreshBlockView(b)}};
d+=a.w/e}}},resizeBB:function(b){X.calcWidths(b);var c=lucid.plugin.getProperty(b,"totalHeight"),a=lucid.plugin.getProperty(b,"totalWidth"),d=lucid.plugin.getProperty(b,"BoundingBox");!d||d.w==a&&d.h==c||(d.w!=a&&(d.w=a),d.h!=c&&(d.h=c),lucid.plugin.setProperty(b,"BoundingBox",d))},calcWidths:function(b,c){for(var a=0,d=20,e=[],f=lucid.plugin.getProperty(b,"Options"),g={x:0,y:0,w:1E6,h:1E4},h=1;h<=f;h++){var k=lucid.text.getSize(b,"Option_"+h,g),l=Math.round(Math.max(X.w,k.w+10));d=Math.round(Math.max(d,
1.5*k.h));e.push(l);a+=l+X.leftIndent+(1<h?X.leftPad:0)}!0!==c&&lucid.plugin.refreshBlockView(b);lucid.plugin.setPropertyIfChanged(b,"totalHeight",d,!0);lucid.plugin.setPropertyIfChanged(b,"totalWidth",a,!0);lucid.plugin.setPropertyIfChanged(b,"widths",e,!0)}};
lucid.plugin.initBlockClass({className:"UI2CheckBoxBlock",name:i18n.get("plugin-ui2-shape-check-box"),searchKeywords:i18n.get("plugin-ui2-shape-check-box-keywords"),minWidth:80,disabledPropertyControls:["FlipX","FlipY"],defaultSize:{w:160,h:120},snapSpacing:4,onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Option_1"),e=i18n.get("plugin-ui2-option-index",{index:a});lucid.plugin.addBlockTextArea(b,{id:"Option_"+a,value:c?lucid.text.restyle(e,c):e,getBoundingBox:function(a){return function(c){var d=
.5*W.rowHeight,e=lucid.plugin.getProperty(b,"Options"),f=(a-1)*c.h/e;return a>e?null:{x:c.x+(d+12),y:c.y+f,w:c.w-(d+12),h:c.h/e}}}(a),align:"left"})}lucid.plugin.registerProperty(b,"Options",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Option_"+e]||c(e)});lucid.plugin.registerProperty(b,"Selected",{1:1},function(a){if("object"!=typeof a){var b={};b[a]=1;return b}return a});lucid.plugin.registerProperty(b,"MultiSelect",1)},hitTest:function(b,c){return W.hitTest(b,
c)},getRenderDataKey:function(){return["FillColor","LineWidth","LineColor","Options","Selected"]},getRenderData:function(b,c){var a=b.BoundingBox,d=3,e=b.Options,f=b.Selected;var g=a.h/e;var h=20;"sample"==c&&(g=a.w,a=a.x,a={x:a+.25*g,y:a,w:g,h:g},d=2,e=1,h=.5*g);c="sample"==c?[]:[{Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}];for(var k=a.y,l=1;l<=e;l++)c.push({FillColor:b.FillColor,StrokeColor:b.LineColor,
LineWidth:b.LineWidth,NoRounding:!0,Actions:[{Action:"move",x:a.x,y:k+.5*(g-h)},{Action:"line",x:a.x+h,y:k+.5*(g-h)},{Action:"line",x:a.x+h,y:k+.5*(g+h)},{Action:"line",x:a.x,y:k+.5*(g+h)},{Action:"close"}]}),f[l]&&c.push({StrokeColor:b.LineColor,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:a.x+.2*h,y:k+.4*h+.5*(g-h)},{Action:"line",x:a.x+.4*h,y:k+.7*h+.5*(g-h)},{Action:"line",x:a.x+.8*h,y:k+.3*h+.5*(g-h)}]}),k+=g;return c}});
lucid.plugin.initBlockClass({className:"UI2HorizontalCheckBoxBlock",name:i18n.get("plugin-ui2-shape-horz-check-box"),searchKeywords:i18n.get("plugin-ui2-shape-horz-check-box-keywords"),vLock:!0,minWidth:20,disabledPropertyControls:["FlipX","FlipY"],defaultSize:{w:370,h:40},snapSpacing:4,onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Option_1"),e=i18n.get("plugin-ui2-option-index",{index:a});lucid.plugin.addBlockTextArea(b,{id:"Option_"+a,value:c?lucid.text.restyle(e,c):e,getBoundingBox:function(a){return function(c){var d=
lucid.plugin.getProperty(b,"Options"),e=lucid.plugin.getProperty(b,"widths",!0),f=lucid.plugin.getProperty(b,"totalHeight",!0),g=(a-1)*c.w/d;return!e||a>d?null:{x:c.x+g+X.leftIndent,y:c.y,w:e[a-1],h:f}}}(a),align:"left"});lucid.plugin.hookPropertyPostSave(b,"Option_"+a,function(){X.calcWidths(b)})}lucid.plugin.registerProperty(b,"Options",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Option_"+e]||c(e);X.calcWidths(b)});lucid.plugin.registerProperty(b,"Selected",
{1:1},function(a){if("object"!=typeof a){var b={};b[a]=1;return b}return a});lucid.plugin.registerProperty(b,"MultiSelect",1)},afterEditText:function(b){X.calcWidths(b)},hitTest:function(b,c){return X.hitTest(b,c)},getRenderDataKey:function(){return"FillColor LineColor LineWidth Options Selected totalHeight".split(" ")},getRenderData:function(b,c){var a=b.BoundingBox,d=3,e=b.Options,f=b.Selected;if("sample"==c){var g=a.w;a=a.x;a={x:a+.25*g,y:a,w:g,h:g};d=2;e=1}var h=g?.5*g:20;c="sample"==c?[]:[{Actions:[{Action:"move",
x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}];for(var k=a.x,l=1;l<=e;l++)c.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,NoRounding:!0,Actions:[{Action:"move",x:k,y:a.y+.5*((g||b.totalHeight)-h)},{Action:"line",x:k+h,y:a.y+.5*((g||b.totalHeight)-h)},{Action:"line",x:k+h,y:a.y+h+.5*((g||b.totalHeight)-h)},{Action:"line",x:k,y:a.y+h+.5*((g||b.totalHeight)-h)},{Action:"close"}]}),f[l]&&
c.push({StrokeColor:b.LineColor,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:k+.2*h,y:a.y+.4*h+.5*((g||b.totalHeight)-h)},{Action:"line",x:k+.4*h,y:a.y+.7*h+.5*((g||b.totalHeight)-h)},{Action:"line",x:k+.8*h,y:a.y+.3*h+.5*((g||b.totalHeight)-h)}]}),k+=a.w/e;return c}});
lucid.plugin.initBlockClass({className:"UI2RadioBlock",name:i18n.get("plugin-ui2-shape-radio-button"),searchKeywords:i18n.get("plugin-ui2-shape-radio-button-keywords"),defaultSize:{w:160,h:120},minWidth:80,disabledPropertyControls:["FlipX","FlipY"],snapSpacing:4,onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Option_1"),e=i18n.get("plugin-ui2-option-index",{index:a});lucid.plugin.addBlockTextArea(b,{id:"Option_"+a,value:c?lucid.text.restyle(e,c):e,getBoundingBox:function(a){return function(c){var d=
.5*W.rowHeight,e=lucid.plugin.getProperty(b,"Options"),f=(a-1)*c.h/e;return a>e?null:{x:c.x+(d+12),y:c.y+f,w:c.w-(d+12),h:c.h/e}}}(a),align:"left"})}lucid.plugin.registerProperty(b,"Options",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Option_"+e]||c(e)});lucid.plugin.registerProperty(b,"Selected",1);lucid.plugin.registerProperty(b,"Toggle",1)},hitTest:function(b,c){return W.hitTest(b,c)},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth","Options",
"Selected"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.Options,e=b.Selected,f=a.h/d;"sample"==c&&(d=a.w,a=a.x,a={x:a+.25*d,y:a,w:d,h:d},f=d,d=1);var g="sample"==c?.5*f:20;c="sample"==c?[]:[{Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}];for(var h=a.y,k=1;k<=d;k++)c.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+g,y:h+.5*f},
{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,h+.5*(f-g),g,g,0,2*Math.PI)},{Action:"close"}]}),k==e&&c.push({FillColor:b.LineColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+.75*g,y:h+.5*f},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+.25*g,h+.5*(f-g)+.25*g,.5*g,.5*g,0,2*Math.PI)},{Action:"close"}]}),h+=f;return c}});
lucid.plugin.initBlockClass({className:"UI2HorizontalRadioBlock",name:i18n.get("plugin-ui2-shape-horz-radio-button"),searchKeywords:i18n.get("plugin-ui2-shape-horz-radio-button-keywords"),vLock:!0,minHeight:40,disabledPropertyControls:["FlipX","FlipY"],defaultSize:{w:370,h:40},snapSpacing:4,onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Option_1"),e=i18n.get("plugin-ui2-option-index",{index:a});lucid.plugin.addBlockTextArea(b,{id:"Option_"+a,value:c?lucid.text.restyle(e,c):e,getBoundingBox:function(a){return function(c){var d=
lucid.plugin.getProperty(b,"Options"),e=lucid.plugin.getProperty(b,"widths",!0),f=lucid.plugin.getProperty(b,"totalHeight",!0),g=(a-1)*c.w/d;return a>d?null:{x:c.x+g+X.leftIndent,y:c.y,w:e&&e[a-1]||0,h:f}}}(a),align:"left"});lucid.plugin.hookPropertyPostSave(b,"Option_"+a,function(){X.calcWidths(b)})}lucid.plugin.registerProperty(b,"Options",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Option_"+e]||c(e)});lucid.plugin.registerProperty(b,"Selected",{1:1},function(a){if("object"!=
typeof a){var b={};b[a]=1;return b}return a});lucid.plugin.registerProperty(b,"Toggle",1);lucid.plugin.registerProperty(b,"Selected",1)},afterEditText:function(b){X.calcWidths(b)},hitTest:function(b,c){return X.hitTest(b,c)},getRenderDataKey:function(){return"FillColor LineColor LineWidth Options Selected totalHeight".split(" ")},getRenderData:function(b,c){var a=b.BoundingBox,d=b.Options,e=b.Selected,f=null;"sample"==c&&(f=a.w,a=a.x,a={x:a+.25*f,y:a,w:f,h:f},d=1);var g=f?.5*f:20;c="sample"==c?[]:
[{Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}];for(var h=a.x,k=1;k<=d;k++)c.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:h+g,y:a.y+.5*(f||b.totalHeight)},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(h,a.y+.5*((f||b.totalHeight)-g),g,g,0,2*Math.PI)},{Action:"close"}]}),k==e&&c.push({FillColor:b.LineColor,StrokeColor:b.LineColor,
LineWidth:b.LineWidth,Actions:[{Action:"move",x:h+.75*g,y:a.y+.5*(f||b.totalHeight)},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(h+.25*g,a.y+.5*(f||b.totalHeight)-.25*g,.5*g,.5*g,0,2*Math.PI)},{Action:"close"}]}),h+=a.w/d;return c}});
lucid.plugin.initBlockClass({className:"UI2TextInputBlock",name:i18n.get("plugin-ui2-shape-text-input"),searchKeywords:i18n.get("plugin-ui2-shape-text-input-keywords"),defaultSize:{w:160,h:40},snapSpacing:4,onInit:function(b){lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.addBlockTextArea(b,{id:"Text",value:i18n.get("plugin-ui2-text"),getBoundingBox:function(b){return{x:b.x+10,y:b.y+.1*b.h,w:b.w-20,h:.8*b.h}},align:"left"})},getRenderDataKey:function(){return["FillColor",
"LineColor","LineWidth","vScroll","hScroll"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(d=a.w,a=a.x,a={x:a,y:a+.25*d,w:d,h:.5*d},d=1);var e=b.vScroll,f=b.hScroll;c=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}];if(1==e)for(var g=R({x:a.x+a.w-32,y:a.y,w:32,h:a.h-(1==f?32:0)},b.FillColor,b.LineColor,
d),h=0;h<g.length;h++)c.push(g[h]);if(1==f)for(b=U({x:a.x,y:a.y+a.h-32,w:a.w-(1==e?32:0),h:32},b.FillColor,b.LineColor,d),h=0;h<b.length;h++)c.push(b[h]);return c}});
lucid.plugin.initBlockClass({className:"UI2SelectBlock",name:i18n.get("plugin-ui2-shape-select-box"),searchKeywords:i18n.get("plugin-ui2-shape-select-box-keywords"),disabledPropertyControls:["FlipX","FlipY"],defaultSize:{w:200,h:40},vLock:!0,minWidth:80,snapSpacing:4,afterEditText:function(b){W.resizeBB(b,!0)},onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Selected"),e=i18n.get("plugin-ui2-option-index",{index:a});lucid.plugin.addBlockTextArea(b,{id:1==a?"Selected":"Option_"+a,value:c?
lucid.text.restyle(e,c):e,getBoundingBox:function(a){return function(c){var d=0,e=lucid.plugin.getProperty(b,"Options"),f=lucid.plugin.getProperty(b,"rowHeights",!0);if(!f)return null;for(var g=0;g<a-1;g++)d+=f[g];return a>e?null:{x:c.x+12,y:c.y+d,w:c.w-24,h:f[a-1]}}}(a),align:"left"});lucid.plugin.hookPropertyPostSave(b,1==a?"Selected":"Option_"+a,function(){W.resizeBB(b,!0)})}lucid.plugin.registerProperty(b,"Options",1,function(a){"string"==typeof a&&(a=1);return a},function(a,d){a=lucid.plugin.getBlockTextAreas(b);
for(var e=1;e<=d;e++)a["Option_"+e]||c(e);W.resizeBB(b,!0)})},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth","rowHeights"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=b.rowHeights&&b.rowHeights[0]||40;"sample"==c?(d=a.w,a=a.x,a={x:a,y:a+.25*d,w:d,h:.5*d},d=1,e=a.h):"preview"==c&&(e=a.h);c=e-4*d;c=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+
e},{Action:"line",x:a.x,y:a.y+e},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+a.w-c-2*d,y:a.y+2*d},{Action:"line",x:a.x+a.w-2*d,y:a.y+2*d},{Action:"line",x:a.x+a.w-2*d,y:a.y+e-2*d},{Action:"line",x:a.x+a.w-c-2*d,y:a.y+e-2*d},{Action:"close"}]},{FillColor:b.LineColor,StrokeColor:b.LineColor,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:a.x+a.w-.8*c-2*d,y:a.y+.3*c+2*d},{Action:"line",x:a.x+a.w-.2*c-2*d,y:a.y+.3*c+2*d},{Action:"line",x:a.x+a.w-.5*c-2*d,
y:a.y+.7*c+2*d},{Action:"close"}]}];a.h>e&&c.unshift({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]});return c}});
lucid.plugin.initBlockClass({className:"UI2VSliderBlock",name:i18n.get("plugin-ui2-shape-vert-slider"),searchKeywords:i18n.get("plugin-ui2-shape-vert-slider-keywords"),defaultSize:{w:40,h:240},snapSpacing:4,noLines:!0,getRenderDataKey:function(){return["FillColor","LineColor","LineWidth","ScrollVal"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=b.ScrollVal;"sample"==c&&(d=a.h,a=a.y,a={x:a+.25*d,y:a,w:.5*d,h:d},d=1);c=a.w>a.h?a.h:a.w;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,
LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:a.x+.5*a.w-d,y:a.y},{Action:"line",x:a.x+.5*a.w-d,y:a.y+a.h},{Action:"line",x:a.x+.5*a.w+d,y:a.y+a.h},{Action:"line",x:a.x+.5*a.w+d,y:a.y},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+a.w,y:a.y+e*(a.h-.6*a.w)},{Action:"line",x:a.x,y:a.y+e*(a.h-.6*a.w)},{Action:"line",x:a.x,y:a.y+e*(a.h-.6*a.w)+.6*c},{Action:"line",x:a.x+a.w,y:a.y+e*(a.h-.6*a.w)+.6*c},{Action:"close"}]}]},onInit:function(b){lucid.plugin.registerProperty(b,
"ScrollVal",.3)},spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.ui2.vslider",location:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"ScrollVal");return{x:c.x+c.w/2-5,y:c.y+.3*c.w+a*(c.h-.6*c.w)-5,w:10,h:10}},moved:function(c){var a=lucid.plugin.getProperty(b,"BoundingBox"),d=a.y+.3*a.w;lucid.plugin.setProperty(b,"ScrollVal",Math.max(0,Math.min(1,(c.y-d)/(a.y+a.h-.3*a.w-d))))},path:function(){var c=lucid.plugin.getProperty(b,
"BoundingBox");return[{x:c.x+c.w/2,y:c.y+.3*c.w},{x:c.x+c.w/2,y:c.y+c.h-.3*c.w}]},snap:2}]}});
lucid.plugin.initBlockClass({className:"UI2HSliderBlock",name:i18n.get("plugin-ui2-shape-horz-slider"),searchKeywords:i18n.get("plugin-ui2-shape-horz-slider-keywords"),defaultSize:{w:240,h:40},snapSpacing:4,noLines:!0,getRenderDataKey:function(){return["FillColor","LineColor","LineWidth","ScrollVal"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=b.ScrollVal;"sample"==c&&(d=a.w,a=a.x,a={x:a,y:a+.25*d,w:d,h:.5*d},d=1);c=a.w>a.h?a.h:a.w;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,
LineWidth:d,NoRounding:!0,Actions:[{Action:"move",y:a.y+.5*a.h-d,x:a.x},{Action:"line",y:a.y+.5*a.h-d,x:a.x+a.w},{Action:"line",y:a.y+.5*a.h+d,x:a.x+a.w},{Action:"line",y:a.y+.5*a.h+d,x:a.x},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",y:a.y+a.h,x:a.x+e*(a.w-.6*a.h)},{Action:"line",y:a.y+.3*c,x:a.x+e*(a.w-.6*a.h)},{Action:"line",y:a.y,x:a.x+e*(a.w-.6*a.h)+.3*c},{Action:"line",y:a.y+.3*c,x:a.x+e*(a.w-.6*a.h)+.6*c},{Action:"line",y:a.y+a.h,x:a.x+
e*(a.w-.6*a.h)+.6*c},{Action:"close"}]}]},onInit:function(b){lucid.plugin.registerProperty(b,"ScrollVal",.3)},spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.ui2.hslider",location:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"ScrollVal");return{x:c.x+.3*c.h+a*(c.w-.6*c.h)-5,y:c.y+c.h/2-5,w:10,h:10}},moved:function(c){var a=lucid.plugin.getProperty(b,"BoundingBox"),d=a.x+.3*a.h;lucid.plugin.setProperty(b,"ScrollVal",
Math.max(0,Math.min(1,(c.x-d)/(a.x+a.w-.3*a.h-d))))},path:function(){var c=lucid.plugin.getProperty(b,"BoundingBox");return[{x:c.x+.3*c.h,y:c.y+c.h/2},{x:c.x+c.w-.3*c.h,y:c.y+c.h/2}]},snap:2}]}});
lucid.plugin.initBlockClass({className:"UI2VScrollBlock",name:i18n.get("plugin-ui2-shape-vert-scrollbar"),searchKeywords:i18n.get("plugin-ui2-shape-vert-scrollbar-keywords"),defaultSize:{w:40,h:240},snapSpacing:4,getRenderDataKey:function(){return["FillColor","LineColor","LineWidth","ScrollVal"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(c=a.h,a=a.y,a={x:a+.375*c,y:a,w:.25*c,h:c},d=1);return R(a,b.FillColor,b.LineColor,d,b.ScrollVal)},onInit:function(b){lucid.plugin.registerProperty(b,
"ScrollVal",0)},spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.ui2.vscroll",location:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"LineWidth"),d=lucid.plugin.getProperty(b,"ScrollVal");c=P(c,a,d);return{x:c.x+c.w/2-5,y:c.y+c.h/2-5,w:10,h:10}},moved:function(c){var a=lucid.plugin.getProperty(b,"BoundingBox"),d=lucid.plugin.getProperty(b,"LineWidth"),e=P(a,d,0);a=P(a,d,1);lucid.plugin.setProperty(b,"ScrollVal",Math.max(0,
Math.min(1,(c.y-e.y-e.h/2)/(a.y-e.y))))},path:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"LineWidth"),d=P(c,a,0);c=P(c,a,1);return[{x:d.x+d.w/2,y:d.y+d.h/2},{x:c.x+c.w/2,y:c.y+c.h/2}]},snap:2}]}});
lucid.plugin.initBlockClass({className:"UI2HScrollBlock",name:i18n.get("plugin-ui2-shape-horz-scrollbar"),searchKeywords:i18n.get("plugin-ui2-shape-horz-scrollbar-keywords"),defaultSize:{w:240,h:40},snapSpacing:4,getRenderDataKey:function(){return["FillColor","LineColor","LineWidth","ScrollVal"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(c=a.w,a=a.x,a={x:a,y:a+.375*c,w:c,h:.25*c},d=1);return U(a,b.FillColor,b.LineColor,d,b.ScrollVal)},onInit:function(b){lucid.plugin.registerProperty(b,
"ScrollVal",0)},spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.ui2.hscroll",location:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"LineWidth"),d=lucid.plugin.getProperty(b,"ScrollVal");c=T(c,a,d);return{x:c.x+c.w/2-5,y:c.y+c.h/2-5,w:10,h:10}},moved:function(c){var a=lucid.plugin.getProperty(b,"BoundingBox"),d=lucid.plugin.getProperty(b,"LineWidth"),e=T(a,d,0);a=T(a,d,1);lucid.plugin.setProperty(b,"ScrollVal",Math.max(0,
Math.min(1,(c.x-e.x-e.w/2)/(a.x-e.x))))},path:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"LineWidth"),d=T(c,a,0);c=T(c,a,1);return[{x:d.x+d.w/2,y:d.y+d.h/2},{x:c.x+c.w/2,y:c.y+c.h/2}]},snap:2}]}});
lucid.plugin.initBlockClass({className:"UI2ProgressBarBlock",name:i18n.get("plugin-ui2-shape-progress-bar"),searchKeywords:i18n.get("plugin-ui2-shape-progress-bar-keywords"),defaultSize:{w:240,h:40},snapSpacing:4,getRenderDataKey:function(){return["FillColor","LineColor","LineWidth","ScrollVal"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=b.ScrollVal;"sample"==c&&(d=a.w,a=a.x,a={x:a,y:a+.25*d,w:d,h:.5*d},d=1);c=lucid.color.darken(b.FillColor,.5);return[{FillColor:b.FillColor,
StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",y:a.y,x:a.x},{Action:"line",y:a.y+a.h,x:a.x},{Action:"line",y:a.y+a.h,x:a.x+a.w},{Action:"line",y:a.y,x:a.x+a.w},{Action:"close"}]},{FillColor:c,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+2*d,y:a.y+2*d},{Action:"line",x:a.x+2*d,y:a.y+a.h-2*d},{Action:"line",x:a.x+2*d+e*(a.w-4*d),y:a.y+a.h-2*d},{Action:"line",x:a.x+2*d+e*(a.w-4*d),y:a.y+2*d},{Action:"close"}]}]},onInit:function(b){lucid.plugin.registerProperty(b,"ScrollVal",
.3)},spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.ui2.progressBar",location:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"LineWidth"),d=lucid.plugin.getProperty(b,"ScrollVal");return{x:c.x+2*a+d*(c.w-4*a)-5,y:c.y+c.h/2-5,w:10,h:10}},moved:function(c){var a=lucid.plugin.getProperty(b,"BoundingBox"),d=lucid.plugin.getProperty(b,"LineWidth"),e=a.x+2*d;lucid.plugin.setProperty(b,"ScrollVal",Math.max(0,Math.min(1,(c.x-
e)/(a.x+a.w-4*d-e))))},path:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"LineWidth");return[{x:c.x+2*a,y:c.y+c.h/2},{x:c.x+c.w-4*a,y:c.y+c.h/2}]},snap:2}]}});
lucid.plugin.initBlockClass({className:"UI2BarChartBlock",name:i18n.get("plugin-ui2-shape-bar-chart"),searchKeywords:i18n.get("plugin-ui2-shape-bar-chart-keywords"),disabledPropertyControls:["FlipX","FlipY"],defaultSize:{w:320,h:240},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Label",value:i18n.get("plugin-ui2-shape-bar-chart"),getBoundingBox:function(b){return{x:b.x+10,y:b.y,w:b.w-20,h:.15*b.h}}})},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},
getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(d=1);c=lucid.color.darken(b.FillColor,.5);return[{Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y+.2*a.h},{Action:"line",x:a.x+.6*a.w,y:a.y+.2*a.h},{Action:"line",x:a.x+.6*a.w,y:a.y+.35*a.h},{Action:"line",x:a.x,y:a.y+.35*
a.h},{Action:"close"},{Action:"move",x:a.x,y:a.y+.6*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+.6*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+.75*a.h},{Action:"line",x:a.x,y:a.y+.75*a.h},{Action:"close"}]},{FillColor:c,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y+.35*a.h},{Action:"line",x:a.x+.45*a.w,y:a.y+.35*a.h},{Action:"line",x:a.x+.45*a.w,y:a.y+.5*a.h},{Action:"line",x:a.x,y:a.y+.5*a.h},{Action:"close"},{Action:"move",x:a.x,y:a.y+.75*a.h},{Action:"line",x:a.x+.75*a.w,y:a.y+
.75*a.h},{Action:"line",x:a.x+.75*a.w,y:a.y+.9*a.h},{Action:"line",x:a.x,y:a.y+.9*a.h},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:2*d,Actions:[{Action:"move",y:a.y,x:a.x},{Action:"line",y:a.y+a.h,x:a.x},{Action:"line",y:a.y+a.h,x:a.x+a.w}]}]}});
lucid.plugin.initBlockClass({className:"UI2ColumnChartBlock",name:i18n.get("plugin-ui2-shape-column-chart"),searchKeywords:i18n.get("plugin-ui2-shape-column-chart-keywords"),disabledPropertyControls:["FlipX","FlipY"],defaultSize:{w:320,h:240},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Label",value:i18n.get("plugin-ui2-shape-column-chart"),getBoundingBox:function(b){return{x:b.x+10,y:b.y,w:b.w-20,h:.15*b.h}}})},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},
getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(d=1);c=lucid.color.darken(b.FillColor,.5);return[{Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+.15*a.w,y:a.y+a.h},{Action:"line",x:a.x+.15*a.w,y:a.y+.5*a.h},{Action:"line",x:a.x+.3*a.w,y:a.y+.5*a.h},{Action:"line",x:a.x+.3*a.w,
y:a.y+a.h},{Action:"close"},{Action:"move",x:a.x+.6*a.w,y:a.y+a.h},{Action:"line",x:a.x+.6*a.w,y:a.y+.2*a.h},{Action:"line",x:a.x+.75*a.w,y:a.y+.2*a.h},{Action:"line",x:a.x+.75*a.w,y:a.y+a.h},{Action:"close"}]},{FillColor:c,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+.3*a.w,y:a.y+a.h},{Action:"line",x:a.x+.3*a.w,y:a.y+.65*a.h},{Action:"line",x:a.x+.45*a.w,y:a.y+.65*a.h},{Action:"line",x:a.x+.45*a.w,y:a.y+a.h},{Action:"close"},{Action:"move",x:a.x+.75*a.w,y:a.y+a.h},{Action:"line",
x:a.x+.75*a.w,y:a.y+.35*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+.35*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+a.h},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:2*d,Actions:[{Action:"move",y:a.y,x:a.x},{Action:"line",y:a.y+a.h,x:a.x},{Action:"line",y:a.y+a.h,x:a.x+a.w}]}]}});
lucid.plugin.initBlockClass({className:"UI2LineChartBlock",name:i18n.get("plugin-ui2-shape-line-chart"),searchKeywords:i18n.get("plugin-ui2-shape-line-chart-keywords"),disabledPropertyControls:["FlipX","FlipY"],defaultSize:{w:320,h:240},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Label",value:i18n.get("plugin-ui2-shape-line-chart"),getBoundingBox:function(b){return{x:b.x+10,y:b.y,w:b.w-20,h:.15*b.h}}})},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},
getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(d=1);c=lucid.color.darken(b.FillColor,.67);var e=lucid.color.darken(b.FillColor,.33);return[{Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y},{Action:"close"}]},{StrokeColor:e,LineWidth:2*d,Actions:[{Action:"move",x:a.x,y:a.y+.6*a.h},{Action:"line",x:a.x+.3*a.w,y:a.y+.7*a.h},{Action:"line",x:a.x+.6*a.w,y:a.y+.4*a.h},{Action:"line",x:a.x+
.9*a.w,y:a.y+.6*a.h}]},{StrokeColor:c,LineWidth:2*d,Actions:[{Action:"move",x:a.x,y:a.y+.9*a.h},{Action:"line",x:a.x+.3*a.w,y:a.y+.5*a.h},{Action:"line",x:a.x+.6*a.w,y:a.y+.7*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+.2*a.h}]},{StrokeColor:b.LineColor,LineWidth:2*d,Actions:[{Action:"move",y:a.y,x:a.x},{Action:"line",y:a.y+a.h,x:a.x},{Action:"line",y:a.y+a.h,x:a.x+a.w}]}]}});
lucid.plugin.initBlockClass({className:"UI2PieChartBlock",name:i18n.get("plugin-ui2-shape-pie-chart"),searchKeywords:i18n.get("plugin-ui2-shape-pie-chart-keywords"),defaultSize:{w:240,h:240},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Label",value:i18n.get("plugin-ui2-shape-pie-chart"),getBoundingBox:function(b){return{x:b.x+.2*b.w,y:b.y+.2*b.h,w:.6*b.w,h:.2*b.h}}});lucid.plugin.registerProperty(b,"Slices",[0,.6*Math.PI,.9*Math.PI])},getRenderDataKey:function(){return["FillColor",
"LineColor","LineWidth","Slices"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(d=1);c=[];b.Slices.sort();for(var e=0;e<b.Slices.length;e++){for(var f=b.Slices[e],g=b.Slices[(e+1)%b.Slices.length],h=lucid.color.darken(b.FillColor,(e+1)/b.Slices.length);g<f;)g+=2*Math.PI,h=b.FillColor;c.push({FillColor:h,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+.5*a.w,y:a.y+.5*a.h},{Action:"line",x:a.x+.5*a.w+.5*a.w*Math.cos(f),y:a.y+.5*a.h+.5*a.h*Math.sin(f)},
{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,f,g)},{Action:"close"}]})}return c},spatialControls:function(b){function c(a){return{logAction:"chart.viewport.selection.spatialControls.ui2.pieChart",location:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),d=lucid.plugin.getProperty(b,"Slices")[a];return{x:c.x+c.w/2+c.w/2*Math.cos(d)-5,y:c.y+c.h/2+c.h/2*Math.sin(d)-5,w:10,h:10}},moved:function(c){var d=lucid.plugin.getProperty(b,"BoundingBox");for(c=Math.atan2(c.y-
(d.y+d.h/2),c.x-(d.x+d.w/2));0>c;)c+=2*Math.PI;d=lucid.plugin.getProperty(b,"Slices");d[a]=c;lucid.plugin.setProperty(b,"Slices",d)},path:function(){for(var a=lucid.plugin.getProperty(b,"BoundingBox"),c=[],d=0;d<2*Math.PI;d+=Math.PI/12)c.push({x:a.x+a.w/2+a.w/2*Math.cos(d),y:a.y+a.h/2+a.h/2*Math.sin(d)});return c},snap:2}}for(var a=lucid.plugin.getProperty(b,"Slices"),d=[],e=0;e<a.length;e++)d.push(c(e));return d}});
lucid.plugin.initBlockClass({className:"UI2TabBarContainerBlock",name:i18n.get("plugin-ui2-shape-tab-panel"),searchKeywords:i18n.get("plugin-ui2-shape-tab-panel-keywords"),disabledPropertyControls:["FlipX","FlipY"],container:!0,defaultProperties:function(){return{Magnetize:!1}},defaultSize:{w:320,h:240},snapSpacing:4,onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Tab_1"),e=i18n.get("plugin-ui2-tab-index",{index:a});lucid.plugin.addBlockTextArea(b,{id:"Tab_"+a,value:c?lucid.text.restyle(e,
c):e,getBoundingBox:function(a){return function(c){for(var d=24,e=lucid.plugin.getProperty(b,"Tabs"),f=Math.round(c.w/(e+1))-20,g=0;g<a-1;g++)d+=f+20;return a>e||d+f+20>c.w?null:{x:c.x+d,y:c.y+5,w:f,h:22}}}(a),align:"left"})}lucid.plugin.registerProperty(b,"Tabs",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Tab_"+e]||c(e)});lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.registerProperty(b,"Selected",1)},getRenderDataKey:function(){return"FillColor LineColor LineWidth Tabs vScroll hScroll Selected".split(" ")},
getRenderData:function(b,c){var a=b.BoundingBox,d="sample"==c?1:b.LineWidth,e=b.Tabs,f=b.vScroll,g=b.hScroll,h="sample"==c?2:24,k="sample"==c?2:20,l="sample"==c?3:32,m=Math.round(a.w/(e+1))-k,n=b.Selected,r=lucid.color.darken(b.FillColor,.25);c=[];for(var p=[],q=0;q<e;q++)p[q]=h,h+=m+k;for(q=e-1;0<=q;q--)q+1!=n&&p[q]+m+k<=a.w&&c.push({FillColor:r,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+p[q]-.5*k,y:a.y+l},{Action:"line",x:a.x+p[q]-.5*k,y:a.y},{Action:"line",x:a.x+p[q]+m,y:a.y},
{Action:"line",x:a.x+p[q]+m+k,y:a.y+l}]});q=[{Action:"move",x:a.x,y:a.y+l},{Action:"line",x:a.x+a.w,y:a.y+l},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}];p[n-1]+m+k<=a.w&&q.splice(1,0,{Action:"line",x:a.x+p[n-1]-.5*k,y:a.y+l},{Action:"line",x:a.x+p[n-1]-.5*k,y:a.y},{Action:"line",x:a.x+p[n-1]+m,y:a.y},{Action:"line",x:a.x+p[n-1]+m+k,y:a.y+l});c.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:q});if(1==f)for(k=R({x:a.x+a.w-32,y:a.y+l,
w:32,h:a.h-l-(1==g?32:0)},b.FillColor,b.LineColor,d),q=0;q<k.length;q++)c.push(k[q]);if(1==g)for(b=U({x:a.x,y:a.y+a.h-32,w:a.w-(1==f?32:0),h:32},b.FillColor,b.LineColor,d),q=0;q<b.length;q++)c.push(b[q]);return c}});
lucid.plugin.initBlockClass({className:"UI2TabBar2ContainerBlock",name:i18n.get("plugin-ui2-shape-tab-panel"),searchKeywords:i18n.get("plugin-ui2-shape-tab-panel-keywords"),container:!0,defaultProperties:function(){return{Magnetize:!1}},defaultSize:{w:320,h:240},snapSpacing:4,onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Tab_1"),e=i18n.get("plugin-ui2-tab-index",{index:a});lucid.plugin.addBlockTextArea(b,{id:"Tab_"+a,value:c?lucid.text.restyle(e,c):e,getBoundingBox:function(a){return function(c){for(var d=
0,e=lucid.plugin.getProperty(b,"Tabs"),f=Math.floor((c.w-4*(e-1))/e),g=0;g<a-1;g++)d+=f+4;return a>e||d+f>c.w?null:{x:c.x+d+10,y:c.y+5,w:f-20,h:22}}}(a),align:"left"})}lucid.plugin.registerProperty(b,"Tabs",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Tab_"+e]||c(e)});lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.registerProperty(b,"Selected",1)},getRenderDataKey:function(){return"FillColor LineColor LineWidth Tabs vScroll hScroll Selected".split(" ")},
getRenderData:function(b,c){var a=b.BoundingBox,d="sample"==c?1:b.LineWidth,e=b.Tabs,f=b.vScroll,g=b.hScroll,h=0,k="sample"==c?1:4,l="sample"==c?3:32,m=Math.floor((a.w-(e-1)*k)/e),n=b.Selected,r=lucid.color.darken(b.FillColor,.25);c=[];for(var p=[],q=0;q<e;q++)p[q]=h,h+=m+k;for(q=e-1;0<=q;q--)q+1!=n&&p[q]+m<=a.w&&c.push({FillColor:r,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+p[q],y:a.y+1.5*l},{Action:"line",x:a.x+p[q],y:a.y},{Action:"line",x:a.x+p[q]+m,y:a.y},{Action:"line",
x:a.x+p[q]+m,y:a.y+1.5*l}]});q=[{Action:"move",x:a.x,y:a.y+l},{Action:"line",x:a.x+a.w,y:a.y+l},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}];p[n-1]+m<=a.w&&q.splice(1,0,{Action:"line",x:a.x+p[n-1],y:a.y+l},{Action:"line",x:a.x+p[n-1],y:a.y},{Action:"line",x:a.x+p[n-1]+m,y:a.y},{Action:"line",x:a.x+p[n-1]+m,y:a.y+l});c.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:q});if(1==f)for(e=R({x:a.x+a.w-32,y:a.y+l,w:32,h:a.h-l-(1==g?32:0)},
b.FillColor,b.LineColor,d),q=0;q<e.length;q++)c.push(e[q]);if(1==g)for(b=U({x:a.x,y:a.y+a.h-32,w:a.w-(1==f?32:0),h:32},b.FillColor,b.LineColor,d),q=0;q<b.length;q++)c.push(b[q]);return c}});
lucid.plugin.initBlockClass({className:"UI2VTabBarContainerBlock",name:i18n.get("plugin-ui2-shape-vert-tab-panel"),searchKeywords:i18n.get("plugin-ui2-shape-vert-tab-panel-keywords"),container:!0,defaultProperties:function(){return{Magnetize:!1}},disabledPropertyControls:["FlipX","FlipY","FillColor"],defaultSize:{w:480,h:240},snapSpacing:4,onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Tab_1"),e=i18n.get("plugin-ui2-tab-index",{index:a});lucid.plugin.addBlockTextArea(b,{id:"Tab_"+a,
value:c?lucid.text.restyle(e,c):e,getBoundingBox:function(a){return function(c){for(var d=20,e=lucid.plugin.getProperty(b,"Tabs"),f=0;f<a-1;f++)d+=48;return a>e||d+40+8>c.h?null:{x:c.x+5,y:c.y+d+5,w:110,h:30}}}(a),align:"left"})}lucid.plugin.registerProperty(b,"Tabs",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Tab_"+e]||c(e)});lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.registerProperty(b,"Selected",1)},
getRenderDataKey:function(){return"FillColor LineColor LineWidth Tabs vScroll hScroll Selected".split(" ")},getRenderData:function(b,c){var a=b.BoundingBox;if("sample"==c){var d=a.w;a=a.x;a={x:a,y:a+.125*d,w:d,h:.75*d}}d="sample"==c?1:b.LineWidth;var e=b.Tabs,f=b.vScroll,g=b.hScroll,h="sample"==c?1:20,k="sample"==c?0:8,l="sample"==c?6:120,m="sample"==c?4:40,n=b.Selected,r=lucid.color.darken(b.FillColor,.25);c=[];for(var p=0,q=0;q<e;q++)q+1==n?p=h:h+m+k<=a.h&&c.push({FillColor:r,StrokeColor:b.LineColor,
LineWidth:d,Actions:[{Action:"move",x:a.x+l,y:a.y+h},{Action:"line",x:a.x,y:a.y+h},{Action:"line",x:a.x,y:a.y+h+m},{Action:"line",x:a.x+l,y:a.y+h+m}]}),h+=m+k;q=[{Action:"move",x:a.x+l,y:a.y},{Action:"line",x:a.x+l,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y},{Action:"close"}];p+m+k<=a.h&&q.splice(1,0,{Action:"line",x:a.x+l,y:a.y+p},{Action:"line",x:a.x,y:a.y+p},{Action:"line",x:a.x,y:a.y+p+m},{Action:"line",x:a.x+l,y:a.y+p+m});c.push({FillColor:b.FillColor,StrokeColor:b.LineColor,
LineWidth:d,Actions:q});if(1==f)for(k=R({x:a.x+a.w-32,y:a.y,w:32,h:a.h-(1==g?32:0)},b.FillColor,b.LineColor,d),q=0;q<k.length;q++)c.push(k[q]);if(1==g)for(b=U({x:a.x+l,y:a.y+a.h-32,w:a.w-l-(1==f?32:0),h:32},b.FillColor,b.LineColor,d),q=0;q<b.length;q++)c.push(b[q]);return c}});
lucid.plugin.initBlockClass({className:"UI2ColorPickerBlock",name:i18n.get("plugin-ui2-shape-color-picker"),searchKeywords:i18n.get("plugin-ui2-shape-color-picker-keywords"),defaultSize:{w:40,h:40},snapSpacing:4,defaultProperties:function(){return{FillColor:"#aaffff"}},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(b){return{x:b.x+20,y:b.y,w:b.w-60,h:40}}})},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,
c){var a=b.BoundingBox;"sample"==c&&(a={x:a.x+.25*a.w,y:a.y+.25*a.h,w:.5*a.w,h:.5*a.h});return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{FillColor:b.LineColor,Actions:[{Action:"move",x:a.x+.5*a.w,y:a.y+.6*a.h},{Action:"line",x:a.x+a.w,y:a.y+.6*a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+.5*a.w,y:a.y+
a.h},{Action:"close"}]},{FillColor:b.FillColor,NoRounding:!0,Actions:[{Action:"move",x:a.x+.6*a.w,y:a.y+.7*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+.7*a.h},{Action:"line",x:a.x+.75*a.w,y:a.y+.9*a.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UI2ButtonBarBlock",name:i18n.get("plugin-ui2-shape-button-bar"),searchKeywords:i18n.get("plugin-ui2-shape-button-bar-keywords"),defaultSize:{w:360,h:40},snapSpacing:4,onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Button_1"),e=i18n.get("plugin-ui2-button-index",{index:a});lucid.plugin.addBlockTextArea(b,{id:"Button_"+a,value:c?lucid.text.restyle(e,c):e,getBoundingBox:function(a){return function(c){for(var d=0,e=lucid.plugin.getProperty(b,"Buttons"),
f=Math.round(c.w/e),g=0;g<a-1;g++)d+=f;return a>e?null:{x:c.x+d,y:c.y+5,w:f,h:c.h-10}}}(a)})}lucid.plugin.registerProperty(b,"Buttons",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Button_"+e]||c(e)});lucid.plugin.registerProperty(b,"Selected",1)},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth","Buttons","Selected"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=b.Buttons;"sample"==c&&(d=a.w,a=a.x,a={x:a,y:a+.35*d,w:d,h:.3*
d},d=1);c=0;for(var f=Math.round(a.w/e),g=b.Selected,h=[{FillColor:lucid.color.darken(b.FillColor,.25),StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}],k=0;k<e;k++)k+1==g?h.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+c,y:a.y},{Action:"line",x:a.x+c+f,y:a.y},{Action:"line",x:a.x+c+f,y:a.y+a.h},{Action:"line",
x:a.x+c,y:a.y+a.h},{Action:"close"}]}):0<k&&k!=g&&h.push({StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+c,y:a.y},{Action:"line",x:a.x+c,y:a.y+a.h}]}),c+=f;return h}});
lucid.plugin.initBlockClass({className:"UI2VerticalButtonBarBlock",name:i18n.get("plugin-ui2-shape-vertical-button-bar"),searchKeywords:i18n.get("plugin-ui2-shape-vertical-button-bar-keywords"),defaultSize:{w:120,h:120},snapSpacing:4,onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Button_1"),e=i18n.get("plugin-ui2-button-index",{index:a});lucid.plugin.addBlockTextArea(b,{id:"Button_"+a,value:c?lucid.text.restyle(e,c):e,getBoundingBox:function(a){return function(c){for(var d=0,e=lucid.plugin.getProperty(b,
"Buttons"),f=c.h/e,g=0;g<a-1;g++)d+=f;return a>e?null:{x:c.x,y:c.y+d,w:c.w,h:f}}}(a)})}lucid.plugin.registerProperty(b,"Buttons",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Button_"+e]||c(e)});lucid.plugin.registerProperty(b,"Selected",1)},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth","Buttons","Selected"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=b.Buttons,f=a.h/e;"sample"==c&&(d=a.w,a=a.x,a={x:a,y:a+.35*d,w:d,h:.24*
d},f=.24*d,e=3,d=1);c=0;for(var g=b.Selected,h=lucid.color.darken(b.FillColor,.25),k=[],l,m=0;m<e;m++)l=m+1==g?b.FillColor:h,k.push({FillColor:l,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y+c},{Action:"line",x:a.x+a.w,y:a.y+c},{Action:"line",x:a.x+a.w,y:a.y+c+f},{Action:"line",x:a.x,y:a.y+c+f},{Action:"close"}]}),c+=f;return k}});
function Y(b,c,a){var d=0,e=[],f=lucid.plugin.getProperty(b,c),g={x:0,y:0,w:1E6,h:1E4};for(c=1;c<=f;c++){var h=lucid.text.getSize(b,a+c,g);d+=h.w;e.push(h.w)}lucid.plugin.refreshBlockView(b);lucid.plugin.setProperty(b,"totalSectionWidth",d,!0);lucid.plugin.setProperty(b,"sectionWidths",e,!0)}
lucid.plugin.initBlockClass({className:"UI2LinkBarBlock",name:i18n.get("plugin-ui2-shape-link-bar"),searchKeywords:i18n.get("plugin-ui2-shape-link-bar-keywords"),defaultSize:{w:360,h:40},minHeight:20,unthemed:!0,afterEditText:function(b){Y(b,"Links","Link_")},snapSpacing:4,onInit:function(b){function c(a){var c=i18n.get("plugin-ui2-link-index",{index:a});if(1==a)c='<span style="color: #316CCC; font-weight:bold; text-decoration: underline;">'+c+"</span>";else{var e=lucid.text.getStyle(b,"Link_1");
e&&(c=lucid.text.restyle(c,e))}lucid.plugin.addBlockTextArea(b,{id:"Link_"+a,value:c,getBoundingBox:function(a){return function(c){var d=0,e=lucid.plugin.getProperty(b,"Links"),f=lucid.plugin.getProperty(b,"totalSectionWidth",!0),g=lucid.plugin.getProperty(b,"sectionWidths",!0);if(!g||!f)return null;f=(c.w-f)/e;for(var n=0;n<a-1;n++)d+=g[n]+f;return a>e?null:{x:c.x+d,y:c.y+5,w:g[a-1]+f,h:c.h-10}}}(a)});lucid.plugin.hookPropertyPostSave(b,"Link_"+a,function(){Y(b,"Links","Link_")})}lucid.plugin.registerProperty(b,
"Links",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Link_"+e]||c(e);Y(b,"Links","Link_")})},getRenderDataKey:function(){return["LineColor","LineWidth","Links","totalSectionWidth","sectionWidths"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=b.Links,f=(a.w-b.totalSectionWidth)/e;if("sample"==c){var g=a.w;a=a.x;a={x:a,y:a+.35*g,w:g,h:.3*g};d=1;g=Math.round(a.w/e)}var h=[{Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",
x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}];c=0+(g||b.sectionWidths[0]+f);for(var k=1;k<e;k++)h.push({StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+c,y:a.y},{Action:"line",x:a.x+c,y:a.y+a.h}]}),c+=g||b.sectionWidths[k]+f;return h}});
lucid.plugin.initBlockClass({className:"UI2BreadCrumbsBlock",name:i18n.get("plugin-ui2-shape-bread-crumbs"),searchKeywords:i18n.get("plugin-ui2-shape-bread-crumbs-keywords"),defaultSize:{w:360,h:40},minHeight:20,unthemed:!0,snapSpacing:4,onInit:function(b){function c(a){var c=i18n.get("plugin-ui2-link-index",{index:a});if(1==a)c='<span style="color: #316CCC; font-weight:bold; text-decoration: underline;">'+c+"</span>";else{var e=lucid.text.getStyle(b,"Link_1");e&&(c=lucid.text.restyle(c,e))}lucid.plugin.addBlockTextArea(b,
{id:"Link_"+a,value:c,getBoundingBox:function(a){return function(c){for(var d=0,e=lucid.plugin.getProperty(b,"Links"),f=Math.round(c.w/e),g=0;g<a-1;g++)d+=f;return a>e?null:{x:c.x+d,y:c.y+5,w:f,h:c.h-10}}}(a)})}lucid.plugin.registerProperty(b,"Links",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Link_"+e]||c(e)})},getRenderDataKey:function(){return["LineColor","LineWidth","Links"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=b.Links,f=.3*a.h;
"sample"==c&&(d=a.w,a=a.x,a={x:a,y:a+.3*d,w:d,h:.4*d},f=.2*a.h,d=1);c=.25*(a.h-2*f);for(var g=0,h=Math.round(a.w/e),k=[{Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}],l=1;l<e;l++)g+=h,k.push({StrokeColor:b.LineColor,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:a.x+g-c,y:a.y+f},{Action:"line",x:a.x+g+c,y:a.y+.5*a.h},{Action:"line",x:a.x+g-c,y:a.y+a.h-f}]});return k}});
lucid.plugin.initBlockClass({className:"UI2MenuBarBlock",name:i18n.get("plugin-ui2-shape-menu-bar"),searchKeywords:i18n.get("plugin-ui2-shape-menu-bar-keywords"),disabledPropertyControls:["FlipX","FlipY"],defaultSize:{w:360,h:32},minHeight:20,unthemed:!0,afterEditText:function(b){Y(b,"Buttons","MenuItem_")},snapSpacing:4,onInit:function(b){function c(c){var d=i18n.get("plugin-ui2-item-index",{index:c});lucid.plugin.addBlockTextArea(b,{id:"MenuItem_"+c,value:a[c-1]||d,getBoundingBox:function(a){return function(c){var d=
0,e=lucid.plugin.getProperty(b,"Buttons"),f=lucid.plugin.getProperty(b,"sectionWidths",!0);if(!f)return null;for(var g=0;g<a-1;g++)d+=f[g]+30;return a>e?null:{x:c.x+d,y:c.y+5,w:f[a-1]+30,h:c.h-10}}}(c)});lucid.plugin.hookPropertyPostSave(b,"MenuItem_"+c,function(){Y(b,"Buttons","MenuItem_")})}var a=[i18n.get("plugin-ui2-shape-menu-file"),i18n.get("plugin-ui2-shape-menu-edit"),i18n.get("plugin-ui2-shape-menu-view"),i18n.get("plugin-ui2-shape-menu-help")];lucid.plugin.registerProperty(b,"Buttons",4,
null,function(a,e){a=lucid.plugin.getBlockTextAreas(b);for(var d=1;d<=e;d++)a["MenuItem_"+d]||c(d);Y(b,"Buttons","MenuItem_")});lucid.plugin.registerProperty(b,"Selected",1)},getRenderDataKey:function(){return"FillColor LineColor LineWidth Buttons Selected sectionWidths".split(" ")},getRenderData:function(b,c){var a=b.BoundingBox,d=b.Buttons;if("sample"==c){var e=a.w;a=a.x;a={x:a,y:a+.35*e,w:e,h:.3*e};e=Math.round(a.w/d)}c=0;for(var f=b.Selected,g=lucid.color.darken(b.FillColor,.25),h=[{FillColor:b.FillColor,
Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}],k=0;k<d;k++)k+1==f&&h.push({FillColor:g,NoRounding:!0,Actions:[{Action:"move",x:a.x+c,y:a.y},{Action:"line",x:a.x+c+(e||b.sectionWidths[k]+30),y:a.y},{Action:"line",x:a.x+c+(e||b.sectionWidths[k]+30),y:a.y+a.h},{Action:"line",x:a.x+c,y:a.y+a.h},{Action:"close"}]}),c+=e||b.sectionWidths[k]+30;return h}});
lucid.plugin.initBlockClass({className:"UI2AtoZBlock",name:i18n.get("plugin-ui2-shape-a-z"),searchKeywords:i18n.get("plugin-ui2-shape-a-z-keywords"),disabledPropertyControls:["FlipX","FlipY","FillColor"],defaultSize:{w:600,h:20},minHeight:20,unthemed:!0,snapSpacing:4,onInit:function(b){function c(a,c){lucid.plugin.addBlockTextArea(b,{id:"Text_"+c,value:'<span style="color: #316CCC; font-weight:bold; text-decoration: underline;">'+a+"</span>",getBoundingBox:function(a){return function(b){var c=Math.floor(b.w/
(d+1))*(0==a?2:1);return{x:b.x+(0==a?0:a+1)*c-10,y:b.y,w:c+20,h:b.h}}}(c),readOnly:!0})}for(var a=i18n.get("plugin-ui2-shape-a-z-alphabet").split(" "),d=a.length,e=0;e<d;e++)c(a[e],e)},getRenderDataKey:function(){return["LineColor","LineWidth"]},getRenderData:function(b,c){b=b.BoundingBox;if("sample"==c){var a=b.w;b=b.x;b={x:b,y:b+.25*a,w:a,h:.5*a}}a=[{Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+b.w,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]}];
if("sample"==c){c=[[.1,.8],[.25,.2],[.4,.8],null,[.16,.56],[.34,.56],null,[.425,.56],[.575,.56],null,[.6,.2],[.9,.2],[.6,.8],[.9,.8]];for(var d=[],e=!0,f=0;f<c.length;f++)c[f]?(d.push({Action:e?"move":"line",x:b.x+c[f][0]*b.w,y:b.y+c[f][1]*b.h}),e=!1):e=!0;a.push({StrokeColor:"#000000",LineWidth:1,NoRounding:!0,Actions:d})}return a}});
lucid.plugin.initBlockClass({className:"UI2PaginationBlock",name:i18n.get("plugin-ui2-shape-pagination"),searchKeywords:i18n.get("plugin-ui2-shape-pagination-keywords"),disabledPropertyControls:["FlipX","FlipY","FillColor"],defaultSize:{w:480,h:20},minHeight:20,unthemed:!0,snapSpacing:4,onInit:function(b){function c(a){var c=""+a;if(1==a)c='<span style="color: #316CCC; font-weight:bold; text-decoration: underline;">'+c+"</span>";else{var e=lucid.text.getStyle(b,"Link_1");e&&(c=lucid.text.restyle(c,
e))}lucid.plugin.addBlockTextArea(b,{id:"Link_"+a,value:c,getBoundingBox:function(a){return function(c){var d=lucid.plugin.getProperty(b,"Links"),e=c.w/(d+8),f=(4+a-1)*e;return a>d?null:{x:c.x+f,y:c.y,w:e,h:c.h}}}(a),readOnly:!0})}lucid.plugin.addBlockTextArea(b,{id:"Text_prev",value:'<span style="color: #316CCC; font-weight:bold; text-decoration: underline;">&lt;&lt; '+i18n.get("plugin-ui2-pagination-prev")+"</span>",getBoundingBox:function(a){var c=lucid.plugin.getProperty(b,"Links")+8;return{x:a.x,
y:a.y,w:4*a.w/c,h:a.h}},readOnly:!0,align:"left"});lucid.plugin.registerProperty(b,"Links",10,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Link_"+e]||c(e)});lucid.plugin.addBlockTextArea(b,{id:"Text_next",value:'<span style="color: #316CCC; font-weight:bold; text-decoration: underline;">'+i18n.get("plugin-ui2-pagination-next")+" &gt;&gt;</span>",getBoundingBox:function(a){var c=lucid.plugin.getProperty(b,"Links")+8;c=4*a.w/c;return{x:a.x+a.w-c,y:a.y,w:c,h:a.h}},readOnly:!0,
align:"right"})},getRenderDataKey:function(){return["LineColor","LineWidth"]},getRenderData:function(b,c){b=b.BoundingBox;if("sample"==c){var a=b.w;b=b.x;b={x:b,y:b+.25*a,w:a,h:.5*a}}a=[{Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+b.w,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]}];if("sample"==c){c=[[.15,.3],[0,.5],[.15,.7],null,[.3,.3],[.15,.5],[.3,.7],null,[.45,.3],[.5,.2],[.5,.8],null,[.45,.8],[.55,.8],null,[.65,.4],[.7,.2],[.8,.2],
[.85,.4],[.65,.8],[.85,.8]];for(var d=[],e=!0,f=0;f<c.length;f++)c[f]?(d.push({Action:e?"move":"line",x:b.x+c[f][0]*b.w,y:b.y+c[f][1]*b.h}),e=!1):e=!0;a.push({StrokeColor:"#000000",LineWidth:1,NoRounding:!0,Actions:d})}return a}});
lucid.plugin.initBlockClass({className:"UI2DatePickerBlock",name:i18n.get("plugin-ui2-shape-date-picker"),searchKeywords:i18n.get("plugin-ui2-shape-date-picker-keywords"),minWidth:120,defaultSize:{w:160,h:40},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Date",value:i18n.get("plugin-ui2-date-example"),getBoundingBox:function(b){var a=Math.min(b.w,b.h);return{x:b.x+.1*(b.w-1.25*a),y:b.y+.1*b.h,w:.8*(b.w-1.25*a),h:.8*b.h}}})},getRenderDataKey:function(){return["FillColor","LineColor",
"LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(d=a.w,a=a.x,a={x:a,y:a+.35*d,w:d,h:.3*d},d=1);c=Math.min(a.w,a.h);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w-1.25*c,y:a.y},{Action:"line",x:a.x+a.w-1.25*c,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:a.x+a.w-c,
y:a.y+.25*c},{Action:"line",x:a.x+a.w,y:a.y+.25*c},{Action:"move",x:a.x+a.w-c,y:a.y+.5*c},{Action:"line",x:a.x+a.w,y:a.y+.5*c},{Action:"move",x:a.x+a.w-c,y:a.y+.75*c},{Action:"line",x:a.x+a.w,y:a.y+.75*c},{Action:"move",x:a.x+a.w-.25*c,y:a.y+.25*c},{Action:"line",x:a.x+a.w-.25*c,y:a.y+c},{Action:"move",x:a.x+a.w-.5*c,y:a.y+.25*c},{Action:"line",x:a.x+a.w-.5*c,y:a.y+c},{Action:"move",x:a.x+a.w-.75*c,y:a.y+.25*c},{Action:"line",x:a.x+a.w-.75*c,y:a.y+c},{Action:"move",x:a.x+a.w-c,y:a.y},{Action:"line",
x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w-c,y:a.y+a.h},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UI2CalendarBlock",name:i18n.get("plugin-ui2-shape-calendar"),searchKeywords:i18n.get("plugin-ui2-shape-calendar-keywords"),disabledPropertyControls:["FlipX","FlipY"],defaultSize:{w:280,h:200},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Month",value:i18n.get("plugin-ui2-shape-calendar-month"),getBoundingBox:function(b){return{x:b.x+40,y:b.y+8,w:b.w-80,h:24}}});lucid.plugin.addBlockTextArea(b,{id:"Sundays",value:i18n.get("plugin-ui2-shape-calendar-sundays",
{},["<br /><br />{}","<br />{}","<br />{}","<br />{}"]),getBoundingBox:function(b){return{x:b.x,y:b.y+40,w:b.w/7,h:b.h-40}},readOnly:!0,align:"center"});lucid.plugin.addBlockTextArea(b,{id:"Monday",value:i18n.get("plugin-ui2-shape-calendar-mondays",{},["<br />{}","<br />{}","<br />{}","<br />{}","<br />{}"]),getBoundingBox:function(b){return{x:b.x+b.w/7,y:b.y+40,w:b.w/7,h:b.h-40}},readOnly:!0,align:"center"});lucid.plugin.addBlockTextArea(b,{id:"Tuedays",value:i18n.get("plugin-ui2-shape-calendar-tuesdays",
{},["<br />{}","<br />{}","<br />{}","<br />{}","<br />{}"]),getBoundingBox:function(b){return{x:b.x+2*b.w/7,y:b.y+40,w:b.w/7,h:b.h-40}},readOnly:!0,align:"center"});lucid.plugin.addBlockTextArea(b,{id:"Wednesdays",value:i18n.get("plugin-ui2-shape-calendar-wednesdays",{},["<br />{}","<br />{}","<br />{}","<br />{}","<br />{}"]),getBoundingBox:function(b){return{x:b.x+3*b.w/7,y:b.y+40,w:b.w/7,h:b.h-40}},readOnly:!0,align:"center"});lucid.plugin.addBlockTextArea(b,{id:"Thursdays",value:i18n.get("plugin-ui2-shape-calendar-thursdays",
{},["<br />{}","<br />{}","<br />{}","<br />{}","<br /><br />{}"]),getBoundingBox:function(b){return{x:b.x+4*b.w/7,y:b.y+40,w:b.w/7,h:b.h-40}},readOnly:!0,align:"center"});lucid.plugin.addBlockTextArea(b,{id:"Fridays",value:i18n.get("plugin-ui2-shape-calendar-fridays",{},["<br />{}","<br />{}","<br />{}","<br />{}","<br /><br />{}"]),getBoundingBox:function(b){return{x:b.x+5*b.w/7,y:b.y+40,w:b.w/7,h:b.h-40}},readOnly:!0,align:"center"});lucid.plugin.addBlockTextArea(b,{id:"Saturdays",value:i18n.get("plugin-ui2-shape-calendar-saturdays",
{},["<br />{}","<br />{}","<br />{}","<br />{}","<br /><br />{}"]),getBoundingBox:function(b){return{x:b.x+6*b.w/7,y:b.y+40,w:b.w/7,h:b.h-40}},readOnly:!0,align:"center"})},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=40,f=lucid.color.darken(b.FillColor,.1);"sample"==c&&(d=1,e=5,f=lucid.color.darken(b.FillColor,.5));c=a.w/7;return[{FillColor:b.FillColor,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+
a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{StrokeColor:f,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:a.x+c,y:a.y+e},{Action:"line",x:a.x+c,y:a.y+a.h},{Action:"move",x:a.x+2*c,y:a.y+e},{Action:"line",x:a.x+2*c,y:a.y+a.h},{Action:"move",x:a.x+3*c,y:a.y+e},{Action:"line",x:a.x+3*c,y:a.y+a.h},{Action:"move",x:a.x+4*c,y:a.y+e},{Action:"line",x:a.x+4*c,y:a.y+a.h},{Action:"move",x:a.x+5*c,y:a.y+e},{Action:"line",x:a.x+5*c,y:a.y+a.h},{Action:"move",
x:a.x+6*c,y:a.y+e},{Action:"line",x:a.x+6*c,y:a.y+a.h}]},{StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y+e},{Action:"line",x:a.x+a.w,y:a.y+e}]},{FillColor:b.LineColor,NoRounding:!0,Actions:[{Action:"move",x:a.x+.3*e,y:a.y+.5*e},{Action:"line",x:a.x+.6*e,y:a.y+.3*e},{Action:"line",x:a.x+
.6*e,y:a.y+.7*e},{Action:"close"},{Action:"move",x:a.x+a.w-.3*e,y:a.y+.5*e},{Action:"line",x:a.x+a.w-.6*e,y:a.y+.3*e},{Action:"line",x:a.x+a.w-.6*e,y:a.y+.7*e},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UI2WebcamBlock",name:i18n.get("plugin-ui2-shape-webcam"),searchKeywords:i18n.get("plugin-ui2-shape-webcam-keywords"),defaultSize:{w:280,h:200},snapSpacing:4,getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=Math.round(Math.min(a.w/3,a.h/2.5)),f=Math.round(e/2);"sample"==c&&(d=1);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,
y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{FillColor:lucid.color.darken(b.FillColor,.25),StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+.5*a.w-e,y:a.y+a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+.5*a.w-e,a.y+a.h-e,2*e,2*e,Math.PI,2*Math.PI)},{Action:"close"},{Action:"move",x:a.x+.5*a.w+f,y:a.y+a.h-e-1.2*f},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+.5*
a.w-f,a.y+a.h-e-2.2*f,2*f,2*f,0,2*Math.PI)},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UI2CaptchaBlock",name:i18n.get("plugin-ui2-shape-captcha"),searchKeywords:i18n.get("plugin-ui2-shape-captcha-keywords"),unthemed:!0,defaultSize:{w:225,h:125},defaultProperties:function(){return{FillColor:"#cccccc"}},snapSpacing:4,onInit:function(b){function c(c,e,f,g){lucid.plugin.addBlockTextArea(b,{id:c+a+"_Text",value:'<span style="font-size: '+e+'px; font-weight: bold;">'+c+"</span>",getBoundingBox:function(a){return{x:a.x+f*a.w-30,y:a.y+g*a.h-40,w:60,h:80}},
readOnly:!0,align:"center"});a++}var a=0;c.call(this,"C",28,.2,.35);c.call(this,"A",40,.3,.4);c.call(this,"P",38,.4,.45);c.call(this,"T",36,.5,.3);c.call(this,"C",38,.6,.4);c.call(this,"H",28,.65,.35);c.call(this,"A",26,.75,.45)},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth,e=16;"sample"==c&&(d=1,e=3);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",
x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{FillColor:"#ffffff",StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+e,y:a.y+.8*a.h-e},{Action:"line",x:a.x+a.w-e,y:a.y+.8*a.h-e},{Action:"line",x:a.x+a.w-e,y:a.y+a.h-e},{Action:"line",x:a.x+e,y:a.y+a.h-e},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UI2HelpIconBlock",name:i18n.get("plugin-ui2-shape-help-icon"),searchKeywords:i18n.get("plugin-ui2-shape-help-icon-keywords"),defaultSize:{w:40,h:40},snapSpacing:4,getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(a={x:Math.round(a.x+.25*a.w),y:Math.round(a.y+.25*a.h),w:Math.round(.5*a.w),h:Math.round(.5*a.h)},d=1);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,
LineWidth:d,Actions:[{Action:"move",x:a.x+a.w,y:a.y+.5*a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:2*d,Actions:[{Action:"move",x:a.x+.35*a.w,y:a.y+.35*a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+.35*a.w,a.y+.2*a.h,.3*a.w,.3*a.h,Math.PI,2.25*Math.PI)},{Action:"curve",Control:[{x1:a.x+.5*a.w,y1:a.y+.35*a.h+1.414*.15*a.h,x2:a.x+.5*a.w,y2:a.y+.35*a.h+1.414*.15*a.h,x3:a.x+.5*
a.w,y3:a.y+.65*a.h}]},{Action:"move",x:a.x+.5*a.w,y:a.y+.75*a.h},{Action:"line",x:a.x+.5*a.w,y:a.y+.75*a.h+2*d}]}]}});
lucid.plugin.initBlockClass({className:"UI2NumericStepperBlock",name:i18n.get("plugin-ui2-shape-numeric-stepper"),searchKeywords:i18n.get("plugin-ui2-shape-numeric-stepper-keywords"),defaultSize:{w:80,h:40},minWidth:60,snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Number",value:"4",getBoundingBox:function(b){return{x:b.x,y:b.y+.2*b.h,w:b.w-.75*Math.min(b.w,b.h),h:.6*b.h}}})},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,c){var a=
b.BoundingBox,d=b.LineWidth;"sample"==c&&(d=1);c=.75*Math.min(a.w,a.h);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+a.w-c,y:a.y},{Action:"line",x:a.x+a.w-c,y:a.y+a.h},{Action:"move",x:a.x+a.w-c,y:a.y+.5*a.h},{Action:"line",x:a.x+a.w,y:a.y+.5*a.h}]},{FillColor:b.LineColor,
NoRounding:!0,Actions:[{Action:"move",x:a.x+a.w-.8*c,y:a.y+.35*a.h},{Action:"line",x:a.x+a.w-.5*c,y:a.y+.1*a.h},{Action:"line",x:a.x+a.w-.2*c,y:a.y+.35*a.h},{Action:"close"},{Action:"move",x:a.x+a.w-.8*c,y:a.y+.65*a.h},{Action:"line",x:a.x+a.w-.5*c,y:a.y+.9*a.h},{Action:"line",x:a.x+a.w-.2*c,y:a.y+.65*a.h},{Action:"close"}]}]}});x.accordionVars={tabHeight:40};
lucid.plugin.initBlockClass({className:"UI2AccordionBlock",name:i18n.get("plugin-ui2-shape-accordian"),searchKeywords:i18n.get("plugin-ui2-shape-accordian-keywords"),disabledPropertyControls:["FlipX","FlipY"],defaultSize:{w:240,h:360},partialContainer:{getContainerArea:function(b){return lucid.plugin.getProperty(b,"BoundingBox")}},snapSpacing:4,onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Panel_"+(a-1)),e=i18n.get("plugin-ui2-panel-index",{index:a});lucid.plugin.addBlockTextArea(b,
{id:"Panel_"+a,value:c?lucid.text.restyle(e,c):e,getBoundingBox:function(a){return function(c){var d=x.accordionVars.tabHeight,e=Math.min(lucid.plugin.getProperty(b,"Panels"),Math.floor(c.h/d)),f=lucid.plugin.getProperty(b,"Selected"),g=c.h-e*d;f=a>f?g:0;for(g=0;g<a-1;g++)f+=d;return a>e?null:{x:c.x+5,y:c.y+f+5,w:c.w-10,h:d-10}}}(a),align:"left"});lucid.plugin.addBlockTextArea(b,{id:"Content_"+a,value:1==a?i18n.get("plugin-ui2-content"):"",getBoundingBox:function(a){return function(c){for(var d=x.accordionVars.tabHeight,
e=Math.min(lucid.plugin.getProperty(b,"Panels"),Math.floor(c.h/d)),f=lucid.plugin.getProperty(b,"Selected"),g=c.h-e*d,n=a>f?g:0,r=0;r<a-1;r++)n+=d;return a!=f||a>e||g<d?null:{x:c.x+10,y:c.y+n+d+10,w:c.w-20,h:g-20}}}(a),align:"left"})}lucid.plugin.registerProperty(b,"Panels",3,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Panel_"+e]||c(e)});lucid.plugin.registerProperty(b,"Selected",1);lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",
0)},getRenderDataKey:function(){return"FillColor LineColor LineWidth vScroll hScroll Panels Selected".split(" ")},getRenderData:function(b,c){var a=b.BoundingBox,d=b.vScroll,e=b.hScroll;if("sample"==c){var f=a.h;a=a.y;a={x:a+.125*f,y:a,w:.75*f,h:f}}f="sample"==c?1:b.LineWidth;c="sample"==c?4:40;for(var g=Math.min(b.Panels,Math.floor(a.h/c)),h=a.h-g*c,k=b.Selected,l=0,m=[{FillColor:lucid.color.darken(b.FillColor,.25),StrokeColor:b.LineColor,LineWidth:f,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",
x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}],n=0;n<g;n++){if(n==k-1){m.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:f,Actions:[{Action:"move",x:a.x,y:a.y+l},{Action:"line",x:a.x+a.w,y:a.y+l},{Action:"line",x:a.x+a.w,y:a.y+l+c+h},{Action:"line",x:a.x,y:a.y+l+c+h},{Action:"close"}]});m.push({StrokeColor:b.LineColor,LineWidth:f,Actions:[{Action:"move",x:a.x,y:a.y+l+c},{Action:"line",x:a.x+a.w,y:a.y+l+c}]});if(1==d)for(var r=
R({x:a.x+a.w-32,y:a.y+l+c,w:32,h:h-(1==e?32:0)},b.FillColor,b.LineColor,f),p=0;p<r.length;p++)m.push(r[p]);if(1==e)for(r=U({x:a.x,y:a.y+l+c+h-32,w:a.w-(1==d?32:0),h:32},b.FillColor,b.LineColor,f),p=0;p<r.length;p++)m.push(r[p]);l+=h}else 0!=n&&n!=k&&m.push({StrokeColor:b.LineColor,LineWidth:f,Actions:[{Action:"move",x:a.x,y:a.y+l},{Action:"line",x:a.x+a.w,y:a.y+l}]});l+=c}return m}});
lucid.plugin.initBlockClass({className:"UI2VerticalSplitterBlock",name:i18n.get("plugin-ui2-shape-vert-splitter"),searchKeywords:i18n.get("plugin-ui2-shape-vert-splitter-keywords"),hLock:!0,defaultSize:{w:20,h:240},snapSpacing:4,getRenderDataKey:function(){return["LineColor","LineWidth"]},disabledPropertyControls:["FillColor"],getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(c=a.h,a=a.y,a={x:a+.35*c,y:a,w:.3*c,h:c},d=1);return[{Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",
x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x,y:a.y+a.h},{Action:"move",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h}]},{StrokeColor:b.LineColor,LineWidth:2*d,Actions:[{Action:"move",x:a.x+.5*a.w,y:a.y+.5*a.h-.5*a.w-d},{Action:"line",x:a.x+.5*a.w,y:a.y+.5*a.h-.5*a.w+d},{Action:"move",x:a.x+.5*a.w,y:a.y+.5*a.h-d},{Action:"line",x:a.x+.5*a.w,
y:a.y+.5*a.h+d},{Action:"move",x:a.x+.5*a.w,y:a.y+.5*a.h+.5*a.w-d},{Action:"line",x:a.x+.5*a.w,y:a.y+.5*a.h+.5*a.w+d}]}]}});
lucid.plugin.initBlockClass({className:"UI2HorizontalSplitterBlock",name:i18n.get("plugin-ui2-shape-horz-splitter"),searchKeywords:i18n.get("plugin-ui2-shape-horz-splitter-keywords"),vLock:!0,defaultSize:{w:240,h:20},snapSpacing:4,getRenderDataKey:function(){return["LineColor","LineWidth"]},disabledPropertyControls:["FillColor"],getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(c=a.w,a=a.x,a={x:a,y:a+.35*c,w:c,h:.3*c},d=1);return[{Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",
x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"move",x:a.x,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h}]},{StrokeColor:b.LineColor,LineWidth:2*d,Actions:[{Action:"move",x:a.x+.5*a.w-.5*a.h-d,y:a.y+.5*a.h},{Action:"line",x:a.x+.5*a.w-.5*a.h+d,y:a.y+.5*a.h},{Action:"move",x:a.x+.5*a.w-d,y:a.y+.5*a.h},{Action:"line",x:a.x+.5*a.w+
d,y:a.y+.5*a.h},{Action:"move",x:a.x+.5*a.w+.5*a.h-d,y:a.y+.5*a.h},{Action:"line",x:a.x+.5*a.w+.5*a.h+d,y:a.y+.5*a.h}]}]}});
lucid.plugin.initBlockClass({className:"UI2BraceNoteBlock",name:i18n.get("plugin-ui2-shape-curly-brace-note"),searchKeywords:i18n.get("plugin-ui2-shape-curly-brace-note-keywords"),defaultSize:{w:80,h:160},snapSpacing:4,variants:{Right:{defaultProperties:function(){return{BraceDirection:"Right"}}}},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Note",value:i18n.get("plugin-ui2-note"),getBoundingBox:function(c){var a=.0625*c.h,d="Right"===lucid.plugin.getProperty(b,"BraceDirection");return{x:c.x+
(d?0:3)*a,y:c.y+.25*c.h,w:c.w-3*a,h:.5*c.h}}})},onCreate:function(b){var c="Right"===lucid.plugin.getProperty(b,"BraceDirection")?"right":"left";lucid.plugin.updateBlockTextArea(b,"Note",{align:c})},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth","BraceDirection"]},getRenderData:function(b,c){var a=b.BoundingBox,d=.0625*a.h,e=b.LineWidth;"sample"==c&&(d*=2,a={x:a.y,y:a.y,w:a.h,h:a.h});var f="Right"===b.BraceDirection,g=f?-1:1,h=a.w/2;h=a.x+(h-h*g);var k=h+d*g;e=[{Actions:[{Action:"move",
x:a.x,y:a.y},{Action:"line",x:a.x,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:e,Actions:[{Action:"move",x:h,y:a.y+a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(h-d,a.y+a.h-2*d,2*d,2*d,.5*Math.PI,Math.PI*(.5-.5*g))},{Action:"line",x:k,y:a.y+a.h/2+d},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(k-(d-d*g),a.y+a.h/2,2*d,2*d,Math.PI*(1+(.5-.5*g)),1.5*Math.PI)},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(k-
(d-d*g),a.y+a.h/2-2*d,2*d,2*d,.5*Math.PI,Math.PI*(1-(.5-.5*g)))},{Action:"line",x:k,y:a.y+d},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(h-d,a.y,2*d,2*d,Math.PI*(2-(.5-.5*g)),1.5*Math.PI)}]}];f=f?0:3*d;d=3*d-f;"sample"==c&&e.push({FillColor:lucid.color.darken(b.FillColor,.5),Actions:[{Action:"move",x:a.x+f,y:a.y+.3*a.h},{Action:"line",x:a.x+.8*a.w-d,y:a.y+.3*a.h},{Action:"line",x:a.x+.8*a.w-d,y:a.y+.4*a.h},{Action:"line",x:a.x+f,y:a.y+.4*a.h},{Action:"close"},{Action:"move",x:a.x+f,
y:a.y+.45*a.h},{Action:"line",x:a.x+.9*a.w-d,y:a.y+.45*a.h},{Action:"line",x:a.x+.9*a.w-d,y:a.y+.55*a.h},{Action:"line",x:a.x+f,y:a.y+.55*a.h},{Action:"close"},{Action:"move",x:a.x+f,y:a.y+.6*a.h},{Action:"line",x:a.x+.7*a.w-d,y:a.y+.6*a.h},{Action:"line",x:a.x+.7*a.w-d,y:a.y+.7*a.h},{Action:"line",x:a.x+f,y:a.y+.7*a.h},{Action:"close"}]});return e}});
(function(){function b(a){return.3*1.5*Math.min(a.h,a.w)}function c(a,c,e,f,g,h){c||(c=lucid.plugin.getProperty(a,"Side"));e||(e=lucid.plugin.getProperty(a,"Position")/100);f||(f=lucid.plugin.getProperty(a,"BoundingBox"));g||b(f);h||(h=.2*f.w);a=h/2;switch(c){case 0:var d=(f.w-h)*e+a;var l=0;break;case 1:d=f.w;l=(f.h-h)*e+a;break;case 2:d=(f.w-h)*e+a;l=f.h;break;case 3:d=0,l=(f.h-h)*e+a}return{x:f.x+d,y:f.y+l}}lucid.plugin.initBlockClass({className:"UI2TooltipBlock",name:i18n.get("plugin-ui2-shape-callout"),
searchKeywords:i18n.get("plugin-ui2-shape-callout-keywords"),defaultSize:{w:120,h:40},minWidth:120,minHeight:40,onInit:function(a){lucid.plugin.addBlockTextArea(a,{id:"Tip",value:i18n.get("plugin-ui2-tooltip"),getBoundingBox:function(a){return{x:a.x+.1*a.w,y:a.y+.1*a.h,w:.8*a.w,h:.8*a.h}}});var c=lucid.plugin.getProperty(a,"BoundingBox");lucid.plugin.registerProperty(a,"MinLayerPadding",b(c));lucid.plugin.registerProperty(a,"TailAngle",-40);lucid.plugin.registerProperty(a,"Side",0);lucid.plugin.registerProperty(a,
"Position",25)},getOffsetProperties:function(a,c,e){c=lucid.plugin.defaultOffsetProperties(a,c,e);e=b(c[a].BoundingBox);c[a].MinLayerPadding=e;return c},spatialControls:function(a){function d(b,d,g,h,k){var e=Array.prototype.splice.call(arguments);e.unshift(a);return c.apply(null,e)}if(lucid.plugin.getProperty(a,"BoundingBox"))return[{logAction:"chart.viewport.selection.spatialControls.shapes.calloutTail",location:function(){var a=d();return{x:a.x-5,y:a.y-5,w:10,h:10}},moved:function(b){var c=lucid.plugin.getProperty(a,
"BoundingBox"),d=.2*c.w,e=d/2,k=0;b.x>=c.x+c.w?k=1:b.y>=c.y+c.h?k=2:b.x<=c.x&&(k=3);var l=0;switch(k){case 0:case 2:l=(b.x-c.x-e)/(c.w-d);break;case 1:case 3:l=(b.y-c.y-e)/(c.h-d)}l=Math.round(100*Math.min(1,Math.max(0,l)));45<l&&55>l&&(l=50);lucid.plugin.setPropertyIfChanged(a,"Side",k);lucid.plugin.setPropertyIfChanged(a,"Position",l)},path:function(){var b=lucid.plugin.getProperty(a,"BoundingBox");return[{x:b.x,y:b.y},{x:b.x+b.w,y:b.y},{x:b.x+b.w,y:b.y+b.h},{x:b.x,y:b.y+b.h},{x:b.x,y:b.y}]}},{location:function(){var d=
lucid.plugin.getProperty(a,"Side");var f=lucid.plugin.getProperty(a,"Position")/100,g=lucid.plugin.getProperty(a,"BoundingBox"),h=b(g),k=.2*g.w,l=lucid.plugin.getProperty(a,"TailAngle"),m=k/2;switch(d){case 0:var n=(g.w-k)*f+m;var r=0-h;break;case 1:n=g.w+h;r=(g.h-k)*f+m;break;case 2:n=(g.w-k)*f+m;r=g.h+h;break;case 3:n=0-h,r=(g.h-k)*f+m}d=lucid.math.Point.rotate({x:g.x+n,y:g.y+r},c(a,d,f,g,h,k),Math.PI/180*l);return{x:d.x-5,y:d.y-5,w:10,h:10}},moved:function(b){var c=d();lucid.plugin.getProperty(a,
"BoundingBox");var e=0;switch(lucid.plugin.getProperty(a,"Side")){case 0:e=-1*Math.atan2(c.x-b.x,c.y-b.y);break;case 1:e=Math.atan2(b.y-c.y,b.x-c.x);break;case 2:e=-1*Math.atan2(b.x-c.x,b.y-c.y);break;case 3:e=Math.atan2(c.y-b.y,c.x-b.x)}e=Math.round(180*e/Math.PI);80<e?e=80:-80>e?e=-80:-5<e&&5>e&&(e=0);lucid.plugin.setPropertyIfChanged(a,"TailAngle",e)}}]},getRenderDataKey:function(){return"FillColor LineColor LineWidth Position TailAngle id Side".split(" ")},getRenderData:function(a){function d(b,
d,f,k,r){var p=c(a.id,a.Side,l,e,g,h);n.splice(b,d,f,lucid.math.Point.rotate(k,{x:p.x-e.x,y:p.y-e.y},Math.PI/180*m),r)}var e=a.BoundingBox,f=a.LineWidth,g=b(e),h=.2*e.w,k=h/2,l=a.Position/100,m=a.TailAngle||0,n=[{x:0,y:0},{x:e.w,y:0},{x:e.w,y:e.h},{x:0,y:e.h}];switch(a.Side){case 0:d(1,0,{x:(e.w-h)*l,y:0},{x:(e.w-h)*l+k,y:-g},{x:(e.w-h)*l+h,y:0});break;case 1:d(2,0,{x:e.w,y:(e.h-h)*l},{x:e.w+g,y:(e.h-h)*l+k},{x:e.w,y:(e.h-h)*l+h});break;case 2:d(3,0,{x:(e.w-h)*l+h,y:e.h},{x:(e.w-h)*l+k,y:e.h+g},{x:(e.w-
h)*l,y:e.h});break;case 3:d(4,0,{x:0,y:(e.h-h)*l+h},{x:-g,y:(e.h-h)*l+k},{x:0,y:(e.h-h)*l})}var r=[];lucid.array.forEach(n,function(a,b){r.push({Action:0==b?"move":"line",x:e.x+a.x,y:e.y+a.y})});r.push({Action:"close"});return[{FillColor:a.FillColor,StrokeColor:a.LineColor,LineWidth:f,Actions:r}]}})})();t.common.Callout.createBlock("UI2TooltipSquareBlock",i18n.get("plugin-ui2-block-callout-square"),i18n.get("plugin-ui2-block-callout-text"));
lucid.plugin.initBlockClass({className:"UI2SearchBlock",name:i18n.get("plugin-ui2-shape-search-box"),searchKeywords:i18n.get("plugin-ui2-shape-search-box-keywords"),defaultSize:{w:120,h:40},minWidth:120,snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Search",value:i18n.get("plugin-ui2-shape-search-box-text"),getBoundingBox:function(b){var a=b.h;return{x:b.x+a+.1*(b.w-a),y:b.y+.1*b.h,w:.8*(b.w-a),h:.8*b.h}},align:"left"})},getRenderDataKey:function(){return["FillColor","LineColor",
"LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(d=a.w,a=a.x,a={x:a,y:a+.25*d,w:d,h:.5*d},d=1);c=a.h;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:2*d,Actions:[{Action:"move",x:a.x+.4*c,y:a.y+.4*c},{Action:"line",x:a.x+.8*c,y:a.y+.8*c}]},{FillColor:b.FillColor,
StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+.6*c,y:a.y+.4*c},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+.2*c,a.y+.2*c,.4*c,.4*c,0,2*Math.PI)},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UI2CalloutBlock",name:i18n.get("plugin-ui2-shape-callout"),searchKeywords:i18n.get("plugin-ui2-shape-callout-keywords"),defaultSize:{w:44,h:44},defaultProperties:function(){return{FillColor:"#ffff00"}},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Txt",value:"1",getBoundingBox:function(c){return aa(c,function(a){return{x:a.x+.2*a.w,y:a.y+.2*a.h,w:.6*a.w,h:.6*a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,
"InsetMargin")||0,hideOverflow:!0}})}});1<(lucid.plugin.getProperty(null,"Version")||0)&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.LineWidth;"sample"==c&&(a={x:a.x+.25*a.w,y:a.y+.25*a.h,w:.5*a.w,h:.5*a.h});return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+a.w,y:a.y+.5*a.h},
{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:"close"}]}]}});
lucid.plugin.initBlockClass({className:"UI2AlertBlock",name:i18n.get("plugin-ui2-shape-alert"),searchKeywords:i18n.get("plugin-ui2-shape-alert-keywords"),disabledPropertyControls:["FlipX","FlipY"],defaultSize:{w:360,h:200},onInit:function(b){function c(a){var c=lucid.text.getStyle(b,"Button_1"),e=i18n.get("plugin-ui2-button-index",{index:a});lucid.plugin.addBlockTextArea(b,{id:"Button_"+a,value:c?lucid.text.restyle(e,c):e,getBoundingBox:function(a){return function(c){var d=lucid.plugin.getProperty(b,
"Buttons"),e=lucid.plugin.getProperty(b,"LineWidth"),f=2*e,g=80+2*f;f=c.w/2-(d*(g+f)-f)/2+(a-1)*(g+f)+(a-1)*f;return a>d?null:{x:c.x+f,y:c.y+.9*c.h-40-2*e,w:80,h:40}}}(a)})}lucid.plugin.addBlockTextArea(b,{id:"Txt",value:i18n.get("plugin-ui2-shape-alert-message"),getBoundingBox:function(a){return{x:a.x+.5*a.w-.3*a.w,y:a.y+40+10,w:.6*a.w,h:80}}});lucid.plugin.registerProperty(b,"Buttons",2,null,function(a,d){a=lucid.plugin.getBlockTextAreas(b);for(var e=1;e<=d;e++)a["Button_"+e]||c(e)});lucid.plugin.addBlockTextArea(b,
{id:"Title",value:i18n.get("plugin-ui2-shape-alert-title"),getBoundingBox:function(a){return{x:a.x+70,y:a.y,w:a.w-140,h:40}}})},getRenderDataKey:function(){return["FillColor","LineColor","LineWidth","Buttons"]},getRenderData:function(b,c){var a=b.BoundingBox,d=40,e=b.LineWidth,f=b.Buttons;"sample"==c&&(e=1,d=a.h/4,f=0);c=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",
x:a.x,y:a.y+a.h},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+d},{Action:"line",x:a.x,y:a.y+d},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:e,Actions:[{Action:"move",x:a.x+a.w-d+2*e,y:a.y+2*e},{Action:"line",x:a.x+a.w-2*e,y:a.y+2*e},{Action:"line",x:a.x+a.w-2*e,y:a.y+d-2*e},{Action:"line",x:a.x+a.w-d+2*e,y:a.y+d-2*e},{Action:"close"}]},{StrokeColor:b.LineColor,
LineWidth:e,NoRounding:!0,Actions:[{Action:"move",x:a.x+a.w-.8*d+2*e,y:a.y+.2*d+2*e},{Action:"line",x:a.x+a.w-.2*d-2*e,y:a.y+.8*d-2*e},{Action:"move",x:a.x+a.w-.2*d-2*e,y:a.y+.2*d+2*e},{Action:"line",x:a.x+a.w-.8*d+2*e,y:a.y+.8*d-2*e}]}];for(var g,h,k=2*e,l=80+2*k,m=f*(l+k)-k,n=0;n<f;n++)g=a.w/2-m/2+n*(l+2*k),h=.9*a.h-(d+e),c.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:e,Actions:[{Action:"move",x:a.x+g,y:a.y+h},{Action:"line",x:a.x+g+80+k,y:a.y+h},{Action:"line",x:a.x+g+80+k,y:a.y+
h+d+e-2.5*e},{Action:"line",x:a.x+g,y:a.y+h+d+e-2.5*e},{Action:"close"}]});return c}});
lucid.plugin.initBlockClass({className:"UI2PlaybackControlsBlock",name:i18n.get("plugin-ui2-shape-playback-controls"),searchKeywords:i18n.get("plugin-ui2-shape-playback-controls-keywords"),defaultSize:{w:180,h:60},snapSpacing:4,getRenderDataKey:function(){return["FillColor","LineColor","LineWidth"]},getRenderData:function(b,c){var a=b.BoundingBox,d=b.FillColor,e=b.LineColor;b=b.LineWidth;"sample"==c&&(b=1);c=[];F(c,J({x:a.x,y:a.y+.1*a.h,w:.8*a.w/3,h:.8*a.h},d,e,b,oa,{t:.2,r:.1,b:.2,l:0}));F(c,J({x:a.x+
a.w/3,y:a.y,w:a.w/3,h:a.h},d,e,b,N,{t:.1,r:.05,b:.1,l:.25}));F(c,J({x:a.x+2.2*a.w/3,y:a.y+.1*a.h,w:.8*a.w/3,h:.8*a.h},d,e,b,na,{t:.2,r:0,b:.2,l:.1}));return c}});function z(b){var c=lucid.plugin.getProperty(b,"Data");lucid.dialog.textAreaPrompt(i18n.get("plugin-ui2-edit-menu"),c,function(a){lucid.plugin.setProperty(b,"Data",a)},null,{"font-family":"courier, monospace"})}
lucid.plugin.initBlockClass({className:"UI2ContextMenuBlock",name:i18n.get("plugin-ui2-shape-context-menu"),searchKeywords:i18n.get("plugin-ui2-shape-context-menu-keywords"),disabledPropertyControls:["FlipX","FlipY"],vLock:!0,defaultSize:{w:320,h:300},snapSpacing:4,onInit:function(b){function c(a,c,e,f){lucid.plugin.addBlockTextArea(b,{id:c+a,value:e,getBoundingBox:function(c){var d=lucid.plugin.getProperty(b,"Dividers");lucid.plugin.getProperty(b,"Icons");for(var e=lucid.plugin.getProperty(b,"Lines",
!0)||lucid.plugin.getProperty(b,"Lines"),g=0,m=1;m<a;m++)g=d[m]?g+16:g+32;c={x:c.x+4,y:c.y+4,w:c.w-8,h:c.h-8};return a>e?null:{x:c.x+("left"==f?24:.5*c.w)+4,y:c.y+g,w:("left"==f?c.w-24:.5*c.w)-8,h:32}},readOnly:!0,align:f})}lucid.plugin.registerProperty(b,"Lines",0);lucid.plugin.registerProperty(b,"Dividers",{});lucid.plugin.registerProperty(b,"Icons",{});lucid.plugin.registerProperty(b,"Data",i18n.get("plugin-ui2-menu-new")+","+i18n.get("plugin-ui2-menu-new-hotkey")+"\n"+i18n.get("plugin-ui2-menu-tools")+
",>\n--\no "+i18n.get("plugin-ui2-option-index",{index:1})+","+i18n.get("plugin-ui2-hotkey",{key:1})+"\n"+i18n.get("plugin-ui2-option-index",{index:2})+","+i18n.get("plugin-ui2-hotkey",{key:2})+"\n"+i18n.get("plugin-ui2-option-index",{index:3})+","+i18n.get("plugin-ui2-hotkey",{key:3})+"\n=\nx "+i18n.get("plugin-ui2-menu-show-hints")+"\n-"+i18n.get("plugin-ui2-menu-disabled")+"-\n"+i18n.get("plugin-ui2-menu-close-window")+","+i18n.get("plugin-ui2-menu-close-window-hotkey"),null,function(a,d){a=lucid.plugin.getProperty(b,
"BoundingBox");for(var e=lucid.plugin.getBlockTextAreas(b),f={},g=0;g<e.length;g++)f[e[g]]=!0;d=d.split("\n");e={};var h={},k=8;lucid.plugin.setProperty(b,"Lines",d.length,!0);for(g=0;g<d.length;g++){var l=d[g];if(-1==l.search(/[^-\s]/)||-1==l.search(/[^=\s]/))e[g+1]=!0,k+=16,f["Item_"+(g+1)]&&lucid.plugin.setProperty(b,"Item_"+(g+1),""),f["Shortcut_"+(g+1)]&&lucid.plugin.setProperty(b,"Shortcut_"+(g+1),"");else{switch(l.substr(0,2)){case "x ":h[g+1]="check";l=l.substr(2);break;case "o ":h[g+1]="dot",
l=l.substr(2)}var m=l.lastIndexOf(","),n=-1<m?l.substr(m+1):null;l=-1<m?l.substr(0,m):l;l.match(/^\s*-.*-\s*$/)&&(l='<span style="color:#999">'+l.substr(1,l.length-2)+"</span>");f["Item_"+(g+1)]?lucid.plugin.setProperty(b,"Item_"+(g+1),l):c(g+1,"Item_",l,"left");null!=n?(n=-1==n.search(/\S/)?">":n,n.match(/^\s*-.*-\s*$/)&&(n='<span style="color:#999">'+n.substr(1,n.length-2)+"</span>"),f["Shortcut_"+(g+1)]?lucid.plugin.setProperty(b,"Shortcut_"+(g+1),n):c(g+1,"Shortcut_",n,"right")):f["Shortcut_"+
(g+1)]&&lucid.plugin.setProperty(b,"Shortcut_"+(g+1),"");k+=32}}lucid.plugin.setProperty(b,"Lines",d.length);lucid.plugin.setProperty(b,"Dividers",e);lucid.plugin.setProperty(b,"Icons",h);lucid.plugin.setProperty(b,"BoundingBox",{x:a.x,y:a.y,w:a.w,h:lucid.plugin.snapToGrid(b,k,1,"ceil")})})},onDblClick:z,getRenderDataKey:function(){return"FillColor LineColor LineWidth Lines Dividers Icons".split(" ")},getRenderData:function(b,c){var a=b.BoundingBox,d=b.Lines,e=b.Dividers,f=b.Icons,g=32,h=16,k=4,l=
0,m=b.FillColor,n=b.LineColor,r=b.LineWidth;b=r;"sample"==c&&(a={x:1.5*a.y,y:a.x,w:a.h-a.y,h:a.w},b=1,d=5,e={2:!0,4:!0},g=6,h=2,k=1);c=[{FillColor:m,StrokeColor:n,LineWidth:r,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}];a.x+=k;a.y+=k;a.w-=2*k;a.h-=2*k;for(r=1;r<=d;r++)if(e[r])c.push({FillColor:m,StrokeColor:lucid.color.darken(m,.5),LineWidth:1,Actions:[{Action:"move",x:a.x+k,y:a.y+l+.5*
h},{Action:"line",x:a.x+a.w-k,y:a.y+l+.5*h}]}),l+=h;else{if(f[r]){var p={x:a.x+6,y:a.y+l+6+.5*k,w:12,h:12};switch(f[r]){case "check":F(c,I(p,n,n,b));break;case "dot":F(c,J(p,n,n,b))}}l+=g}return c}});function B(b){var c=lucid.plugin.getProperty(b,"Data");lucid.dialog.textAreaPrompt(i18n.get("plugin-ui2-edit-pane"),c,function(a){lucid.plugin.setProperty(b,"Data",a)},null,{"font-family":"courier, monospace"})}
lucid.plugin.initBlockClass({className:"UI2TreePaneBlock",name:i18n.get("plugin-ui2-shape-tree-pane"),searchKeywords:i18n.get("plugin-ui2-shape-tree-pane-keywords"),vLock:!0,disabledPropertyControls:["FlipX","FlipY"],snapSpacing:4,defaultSize:{w:360,h:400},onInit:function(b){function c(a,c,e){lucid.plugin.addBlockTextArea(b,{id:c+a,value:e,getBoundingBox:function(c){var d=lucid.plugin.getProperty(b,"lines",!0),e=lucid.plugin.getProperty(b,"tabs",!0),f=lucid.plugin.getProperty(b,"icons",!0);if(void 0===
d||!e||!f||0===e.length||0===f)return null;var l=32*(a-1);e=e[a]?24*e[a]:0;e+=f[a]?24:0;return a>d?null:{x:c.x+4+e+4,y:c.y+4+l,w:c.w-8-e-8,h:32}},readOnly:!0,align:"left"})}lucid.plugin.registerProperty(b,"Data","f "+i18n.get("plugin-ui2-tree-closed-folder",{syntax:"f"})+"\nF "+i18n.get("plugin-ui2-tree-open-folder",{syntax:"F"})+"\n[+] "+i18n.get("plugin-ui2-tree-plus",{syntax:"[+]"})+"\n[-] "+i18n.get("plugin-ui2-tree-minus",{sytnax:"[-]"})+"\n[x] "+i18n.get("plugin-ui2-tree-check-box",{syntax:"[x]"})+
"\n[] "+i18n.get("plugin-ui2-tree-empty-box",{syntax:"[]"})+"\n> "+i18n.get("plugin-ui2-tree-right-pointer",{syntax:">"})+"\nv "+i18n.get("plugin-ui2-tree-down-pointer",{syntax:"v"})+"\n_> "+i18n.get("plugin-ui2-tree-space")+"\n_v "+i18n.get("plugin-ui2-tree-or-underscore")+"\n__- "+i18n.get("plugin-ui2-tree",{syntax:"-"})+"\n__- "+i18n.get("plugin-ui2-another-file"),null,function(a,d){lucid.plugin.getProperty(b,"BoundingBox");var e=lucid.plugin.getBlockTextAreas(b);a={};for(var f=0;f<e.length;f++)a[e[f]]=
!0,lucid.plugin.setProperty(b,e[f],null);e=d.split("\n");var g={},h={};d=8;lucid.plugin.setProperty(b,"lines",e.length,!0);for(f=0;f<e.length;f++){var k=e[f],l=k.search(/[^_\.\s]/);0<l&&(g[f+1]=l,k=k.substr(l));l=k.substr(0,k.indexOf(" ")+1);switch(l){case "f ":h[f+1]="folder";break;case "F ":h[f+1]="ofolder";break;case "[+] ":h[f+1]="plus";break;case "[-] ":h[f+1]="minus";break;case "[x] ":h[f+1]="check";break;case "[] ":case "[ ] ":h[f+1]="box";break;case "> ":h[f+1]="right";break;case "v ":h[f+
1]="down";break;case "- ":h[f+1]="file";break;default:l=""}k=k.substr(l.length);a["Item_"+(f+1)]?lucid.plugin.setProperty(b,"Item_"+(f+1),k):c(f+1,"Item_",k);d+=32}lucid.plugin.setProperty(b,"tabs",g,!0);lucid.plugin.setProperty(b,"icons",h,!0);a=lucid.plugin.getProperty(b,"BoundingBox");a.x=a.x;a.y=a.y;a.w=a.w;a.h=lucid.plugin.snapToGrid(b,d,1,"ceil");lucid.plugin.setProperty(b,"BoundingBox",a)})},onDblClick:B,getRenderDataKey:function(){return"FillColor LineColor LineWidth lines tabs icons".split(" ")},
getRenderData:function(b,c){var a=b.BoundingBox,d=b.lines,e=b.tabs,f=b.icons,g=32,h=24,k=4,l=0,m=b.FillColor,n=b.LineColor,r=b.LineWidth;b=r;"sample"==c&&(a.x=1.5*a.y,a.w=a.h-a.y,b=1,d=3,g=6,h=7,k=1);c=[{FillColor:m,StrokeColor:n,LineWidth:r,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}];a.x+=k;a.y+=k;a.w-=2*k;a.h-=2*k;for(r=1;r<=d;r++){if(f[r]){var p={x:a.x+3+(e[r]?e[r]*h:0),y:a.y+l+3+k,
w:h-6,h:h-6},q=null,u=null,v=null;switch(f[r]){case "folder":q=M;u=ka;v={t:.1,r:0,b:.1,l:.1};break;case "ofolder":q=M;u=la;v={t:.1,r:0,b:.1,l:0};break;case "plus":q=K;u=fa;v={t:.2,r:.2,b:.2,l:.2};break;case "minus":q=K;u=ha;v={t:.2,r:.2,b:.2,l:.2};break;case "check":q=K;u=I;v={t:.2,r:.2,b:.2,l:.2};break;case "box":q=K;break;case "right":q=M;u=N;v={t:0,r:.1,b:0,l:.2};break;case "down":q=M;u=ja;v={t:.2,r:0,b:.1,l:0};break;case "file":q=M,u=ma,v={t:0,r:.1,b:0,l:.1}}q&&(u&&v?F(c,q(p,m,n,b,u,v)):F(c,q(p,
m,n,b)))}l+=g}return c}});var pa=!1;lucid.plugin.onDocumentLoaded(function(){pa=!0});
function Z(b,c){function a(a,c,d){lucid.plugin.addBlockTextArea(b,{id:d,getBoundingBox:function(d){var e=lucid.plugin.getProperty(b,"LayoutData",!0);if(!(e&&e.visibleText[a]&&e.visibleText[a][c]&&e.fixedWidths[c]&&e.fixedHeights[a])||e.icons[a]&&e.icons[a][c])return null;var f=d.w-e.totalFixedWidth;return e.fixedYs[a]+e.fixedHeights[a]>d.h?null:{x:d.x+e.fixedXs[c]+e.dynamicXs[c]*f+6,y:d.y+e.fixedYs[a],w:(e.dynamicWidths[c]?e.dynamicWidths[c]*f:e.fixedWidths[c])-12,h:e.fixedHeights[a]}},readOnly:!0,
align:"C"==h[c]?"center":"R"==h[c]?"right":"L"==h[c]?"left":null})}if(pa){var d=lucid.plugin.getAllProperties(b);if(d){var e=[],f=[],g=[],h=[],k=[],l=[],m=[],n=0,r=[],p=[],q=[],u=d.Data;if(u){u=u.replace(/^\s+|\s+$/g,"");u=u.replace(/\\,/g,"___COMMA___").replace(/,/g,"\t").replace(/___COMMA___/g,",");u=u.replace(/\n/g,"___NEWLINE___").replace(/\\n/g,"\n");u=u.split("___NEWLINE___");var v=[],A=[];lucid.array.forEach(u,function(a,b){a=a.replace(/^\s+|\s+$/g,"");b==u.length-1&&(A=a.match(/^\{([^\}]+?)\}$/))?
(A=A[1].split("\t"),lucid.array.forEach(A,function(a,b){A[b]=a.replace(/^\s+|\s+$/g,"")}),q=A):(a=a.split("\t"),lucid.array.forEach(a,function(b,c){a[c]=b.replace(/^\s+|\s+$/g,"")}),v.push(a),q=[])});var S=d.Font,H=null,Q=lucid.plugin.getBlockTextAreas(b),w="",D="",L=0,G={x:0,y:0,w:1E4,h:1E4},E=0,ba=0,ca=0,da=0;e=[];f=[];g=[];h=[];k=[];l=[];m=[];n=0;r=[];p=[];for(var ea={},V=0;V<Q.length;V++)ea[Q[V]]=!0;lucid.array.forEach(v,function(k,l){lucid.array.forEach(k,function(k,m){w="Cell_"+l+"_"+m;H||(H=
lucid.text.getStyleFromContent(d[w]));D="<span>"+lucid.string.htmlEscape(k)+"</span>";H&&(delete H.align,D=lucid.text.restyle(D,H));if(null==g[m]&&q[m]&&parseInt(q[m],10)){var n=parseInt(q[m],10);g[m]=n;L+=n}null==h[m]&&q[m]&&(h[m]=q[m].replace(/[0-9]/g,"").toUpperCase());e[m]||(e[m]=0);f[l]||(f[l]=36);switch(k){case "[x]":case "[]":case "[ ]":case "(o)":case "()":case "( )":e[m]=Math.max(e[m],36);f[l]=Math.max(f[l],36);r[l]||(r[l]=[]);r[l][m]=k;break;default:k=lucid.text.measure(D,G,S),e[m]=Math.max(e[m],
k.w+12),f[l]=Math.max(f[l],k.h+12),p[l]||(p[l]=[]),p[l][m]=!0}if(ea[w])c||lucid.object.areEqual(d[w],D)||lucid.plugin.setProperty(b,w,D),h[m]?lucid.plugin.updateBlockTextArea(b,w,{align:"C"==h[m]?"center":"R"==h[m]?"right":"left"}):lucid.plugin.updateBlockTextArea(b,w,{align:null});else if(c||null!=d[w])a(l,m,w);else{var u=w,v=lucid.plugin.hookPropertyPostSave(b,w,function(){lucid.plugin.unHookPropertyPostSave(b,u,v);a(l,m,u)});lucid.plugin.setProperty(b,w,D)}})});lucid.array.forEach(e,function(a,
b){da+=a;g[b]||(n+=a)});0==g.length?(lucid.array.forEach(e,function(a,b){g[b]=a/da}),n=0):lucid.array.forEach(g,function(a,b){g[b]=a/L});lucid.array.forEach(v,function(a,b){l[b]=ba;lucid.array.forEach(a,function(a,b){null==k[b]&&null==m[b]&&(k[b]=E,m[b]=ca,g[b]?ca+=g[b]:E+=e[b])});ba+=f[b]})}lucid.plugin.setProperty(b,"LayoutData",{visibleText:p,fixedWidths:e,fixedHeights:f,icons:r,totalFixedWidth:n,fixedXs:k,fixedYs:l,dynamicXs:m,dynamicWidths:g,columnAlignment:h},!0);lucid.plugin.refreshBlockView(b)}}}
function y(b){function c(b){var c=null;if(c=b.match(/\{\{([^\}]+?)\}\}/))c=c[1].split(","),lucid.array.forEach(c,function(b){b=b.split(":");a(b[0],b[1])});return b.replace(/\{\{([^\}]+?)\}\}/,"")}function a(a,c){if(c&&a&&(a=a.replace(/^\s+|\s+$/g,""),c=c.replace(/^\s+|\s+$/g,""),e[a])){var d=function(a,c){lucid.plugin.getProperty(b,a)!=c&&lucid.plugin.setProperty(b,a,c)},f;for(f in e[a].args)if("color"==e[a].args[f]){c.match(/^#([0-9a-fA-F]){3}$|#([0-9a-fA-F]){6}$|#([0-9a-fA-F]){8}$/)&&d(e[a].prop,
c);break}else c==e[a].args[f]&&d(e[a].prop,c)}}var d=lucid.plugin.getProperty(b,"Data"),e={color:{prop:"FillColor",args:["color"]},"alt-row":{prop:"AltRow",args:["default","none","color"]},header:{prop:"Header",args:["default","none","color"]},grid:{prop:"GridLines",args:["default","none","row","column","full"]}};lucid.dialog.textAreaPrompt("<div>"+i18n.get("plugin-ui2-edit-table")+"<br/><br/>"+i18n.get("plugin-ui2-style-options")+"<br/><b>header:</b> default | none | #[hex color]<br/><b>alt-row:</b> default | none | #[hex color]<br/><b>grid:</b> default | none | row | column | full</div>",
function(a){var c=lucid.plugin.getProperty(b,"Header"),d=lucid.plugin.getProperty(b,"GridLines"),e=lucid.plugin.getProperty(b,"AltRow"),f=lucid.plugin.getProperty(b,"FillColor");a=a.replace(/^\s+|\s+$/g,"");a=a+"\n\n{{"+("\ncolor: "+("string"===typeof f?f:"gradient"))+(",\nheader: "+(c?c:"default"))+(",\nalt-row: "+(e?e:"default"));a+=",\ngrid: "+(d?d:"default");return a+="\n}}"}(d),function(a){var d=c(a);lucid.plugin.getProperty(b,"Data")!=d&&lucid.plugin.setProperty(b,"Data",c(a))},null,{"font-family":"courier, monospace"})}
lucid.plugin.initBlockClass({className:"UI2TableBlock",name:i18n.get("plugin-ui2-shape-table-grid"),searchKeywords:i18n.get("plugin-ui2-shape-table-grid-keywords"),disabledPropertyControls:["FlipX","FlipY"],defaultSize:{w:420,h:280},snapSpacing:4,onInit:function(b){function c(c){a||(a=!0,setTimeout(function(){a&&(Z(b,c),a=!1)},0))}var a=!1;lucid.plugin.registerProperty(b,"Data",[i18n.get("plugin-ui2-table-label-name"),", ",i18n.get("plugin-ui2-table-label-age"),", ",i18n.get("plugin-ui2-table-label-full-time"),
", ",i18n.get("plugin-ui2-table-label-manager"),"\nJames, 57, [x],(o)\nMaria, 27, [],()\nSaul, 25, [x],()\n{3L, 1, 0,0}"].join(""));lucid.plugin.hookPropertyPostSave(b,null,function(a,b,f,g){"BoundingBox"==f?a.w==b.w&&a.h==b.h||c(g):c(g)});Z(b)},onDblClick:y,getRenderDataKey:function(){return"FillColor LineColor LineWidth LayoutData Header AltRow GridLines TextAlign TextVAlign".split(" ")},getRenderData:function(b,c){var a=24,d=6,e=a+2*d,f=b.BoundingBox;if(!b.LayoutData)return setTimeout(function(){Z(b.id)},
50),[{FillColor:"#ffffff",Actions:[{Action:"move",x:f.x,y:f.y},{Action:"line",x:f.x+f.w,y:f.y},{Action:"line",x:f.x+f.w,y:f.y+f.h},{Action:"line",x:f.x,y:f.y+f.h},{Action:"close"}]}];var g=b.FillColor,h=b.LineColor,k=b.LineWidth,l=b.Header||"default",m=b.AltRow||"default",n=b.GridLines||"default",r=3,p=f.w-b.LayoutData.totalFixedWidth,q=0,u=0,v=k,A="C",S=b.TextVAlign,H="none"!==m,Q="none"!==l,w="default"===l?lucid.color.darken(g,.2):l,D="default"===m?lucid.color.darken(g,.06):m,L="row"===n||"full"===
n;l="default"===n||"column"===n||"full"===n;"sample"==c&&(v=1,e=6,a=7,d=r=1,b.LayoutData.fixedHeights=[e],b.LayoutData.fixedWidths=[.5*f.w,.5*f.w],b.LayoutData.fixedXs=[0,.5*f.w],b.LayoutData.dynamicXs=[0,0]);var G=[{FillColor:g,Actions:[{Action:"move",x:f.x,y:f.y},{Action:"line",x:f.x+f.w,y:f.y},{Action:"line",x:f.x+f.w,y:f.y+f.h},{Action:"line",x:f.x,y:f.y+f.h},{Action:"close"}]}];switch(b.TextAlign){case "left":A="L";break;case "center":A="C";break;case "right":A="R"}lucid.array.forEach(b.LayoutData.fixedHeights,
function(a,c){u=c;var d=g;0==c&&Q?d=w:H&&(d=D);a&&0==c%2&&q<f.h&&G.push({FillColor:d,StrokeColor:L?h:null,LineWidth:L?v:null,NoRounding:!0,Actions:[{Action:"move",x:f.x,y:f.y+b.LayoutData.fixedYs[c]},{Action:"line",x:f.x+f.w,y:f.y+b.LayoutData.fixedYs[c]},{Action:"line",x:f.x+f.w,y:f.y+Math.min(f.h,b.LayoutData.fixedYs[c]+a)},{Action:"line",x:f.x,y:f.y+Math.min(f.h,b.LayoutData.fixedYs[c]+a)},{Action:"close"}]});q+=a});for(c=b.LayoutData.fixedHeights[b.LayoutData.fixedHeights.length-1]||e;q<f.h;)u++,
0==u%2&&G.push({FillColor:H?D:null,StrokeColor:L?h:null,LineWidth:L?v:null,NoRounding:!0,Actions:[{Action:"move",x:f.x,y:f.y+q},{Action:"line",x:f.x+f.w,y:f.y+q},{Action:"line",x:f.x+f.w,y:f.y+Math.min(f.h,q+c)},{Action:"line",x:f.x,y:f.y+Math.min(f.h,q+c)},{Action:"close"}]}),q+=c;l&&lucid.array.forEach(b.LayoutData.fixedWidths,function(a,c){a&&0<c&&(a=f.x+b.LayoutData.fixedXs[c]+b.LayoutData.dynamicXs[c]*p,G.push({StrokeColor:h,LineWidth:v,NoRounding:!0,Actions:[{Action:"move",x:a,y:f.y},{Action:"line",
x:a,y:f.y+f.h}]}))});var E=[];lucid.array.forEach(b.LayoutData.icons||[],function(c,e){c&&lucid.array.forEach(c,function(c,k){if(c&&b.LayoutData.fixedYs[e]+a+2*d<f.h){if(!E[k]){var l=f.x+b.LayoutData.fixedXs[k]+b.LayoutData.dynamicXs[k]*p+d,m=l+(b.LayoutData.dynamicWidths[k]?b.LayoutData.dynamicWidths[k]*p:b.LayoutData.fixedWidths[k])-2*d,n=b.LayoutData.columnAlignment[k]||A;E[k]={x:"C"==n?.5*(l+m-(a-2*r)):"R"==n?m-(a+r):l+r,y:0,w:a-2*r,h:a-2*r}}l=b.LayoutData.fixedHeights[e];switch(S){case "top":E[k].y=
f.y+b.LayoutData.fixedYs[e]+d+r;break;case "bottom":E[k].y=f.y+b.LayoutData.fixedYs[e]+l+r-(a+d);break;default:E[k].y=f.y+b.LayoutData.fixedYs[e]+.5*(l-(a-2*r))}n=m=l=null;switch(c){case "[x]":l=K;m=I;n={t:.2,r:.2,b:.2,l:.2};break;case "[ ]":case "[]":l=K;break;case "(o)":l=J;m=ia;n={t:.2,r:.2,b:.2,l:.2};break;case "()":case "( )":l=J}l&&(m&&n?F(G,l(E[k],g,h,v,m,n)):F(G,l(E[k],g,h,v)))}})});G.push({StrokeColor:h,LineWidth:k,Actions:[{Action:"move",x:f.x,y:f.y},{Action:"line",x:f.x+f.w,y:f.y},{Action:"line",
x:f.x+f.w,y:f.y+f.h},{Action:"line",x:f.x,y:f.y+f.h},{Action:"close"}]});return G}});
C("UI Menus",i18n.get("plugin-ui2-formatting-tool-bar"),i18n.get("plugin-ui2-formatting-tool-bar-keywords"),lucid.config.assets_base_url+"/app/webroot/img/lucidui/formatting_toolbar.png",lucid.config.assets_base_url+"/app/webroot/img/lucidui/formatting_toolbar_tn.png",341,20,function(b,c,a,d,e,f){a.x=f.x;a.y=f.y+(f.h-e)/2;a.w=d;a.h=e;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:f.x,y:f.y},{Action:"line",x:f.x+f.w,y:f.y},{Action:"line",x:f.x+
f.w,y:f.y+f.h},{Action:"line",x:f.x,y:f.y+f.h},{Action:"close"}]},{FillColor:{url:c,pos:a},Actions:lucid.math.Box.toRenderActions(a)}]});
C("UI Widgets",i18n.get("plugin-ui2-text-editor"),i18n.get("plugin-ui2-text-editor-keywords"),lucid.config.assets_base_url+"/app/webroot/img/lucidui/formatting_toolbar2.png",lucid.config.assets_base_url+"/app/webroot/img/lucidui/formatting_toolbar2_tn.png",400,300,function(b,c,a,d,e,f){a.x=f.x;a.y=f.y+5;a.w=341;a.h=20;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:f.x,y:f.y},{Action:"line",x:f.x+f.w,y:f.y},{Action:"line",x:f.x+f.w,y:f.y+f.h},
{Action:"line",x:f.x,y:f.y+f.h},{Action:"close"}]},{FillColor:{url:c,pos:a},Actions:lucid.math.Box.toRenderActions(a)},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:f.x,y:f.y+30},{Action:"line",x:f.x+f.w,y:f.y+30}]}]});
lucid.plugin.createToolGroups({"UI Containers":{displayName:i18n.get("plugin-ui2-ui-containers"),items:"UI2BrowserBlock UI2WindowBlock UI2DialogBlock UI2AreaBlock UI2ElementBlock UI2AccordionBlock UI2TabBarContainerBlock UI2TabBar2ContainerBlock UI2VTabBarContainerBlock UI2VScrollBlock UI2HScrollBlock UI2VerticalSplitterBlock UI2HorizontalSplitterBlock".split(" ")},"UI Widgets":{displayName:i18n.get("plugin-ui2-ui-widgets"),items:"UI2ImageBlock UI2VideoBlock UI2AudioBlock UI2MapBlock UI2CalendarBlock UI2BarChartBlock UI2ColumnChartBlock UI2LineChartBlock UI2PieChartBlock UI2WebcamBlock UI2CaptchaBlock Image_ui_formatting_toolbar2".split(" ")},
"UI Input":{displayName:i18n.get("plugin-ui2-ui-input"),items:"UI2ButtonBlock UI2CheckBoxBlock UI2HorizontalCheckBoxBlock UI2RadioBlock UI2HorizontalRadioBlock UI2ColorPickerBlock UI2TextInputBlock UI2SelectBlock UI2VSliderBlock UI2HSliderBlock UI2DatePickerBlock UI2SearchBlock UI2NumericStepperBlock UI2TableBlock".split(" ")},"UI Menus":{displayName:i18n.get("plugin-ui2-ui-menus"),items:"UI2ButtonBarBlock UI2VerticalButtonBarBlock UI2LinkBarBlock UI2BreadCrumbsBlock UI2MenuBarBlock UI2AtoZBlock UI2PaginationBlock UI2ContextMenuBlock UI2TreePaneBlock UI2PlaybackControlsBlock Image_ui_formatting_toolbar".split(" ")},
"UI Misc":{displayName:i18n.get("plugin-ui2-ui-misc"),items:["UI2ProgressBarBlock","UI2HelpIconBlock",{className:"UI2BraceNoteBlock",name:i18n.get("plugin-ui2-shape-curly-left")},{className:"UI2BraceNoteBlock",variant:"Right",name:i18n.get("plugin-ui2-shape-curly-right")},"UI2TooltipSquareBlock","UI2CalloutBlock","UI2AlertBlock"]}});
//# sourceMappingURL=/js/plugins/v2/source-maps/ui2.js.map

};
