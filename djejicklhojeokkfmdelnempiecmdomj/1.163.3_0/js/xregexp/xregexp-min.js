/*!
 * XRegExp 3.2.0
 * <xregexp.com>
 * Steven Levithan (c) 2007-2017 MIT License
 */
// clang-format off
// NOTE: This library has been modified to avoid strict mode violations, see git history
function hasNativeFlag(e){var t=!0;try{RegExp("",e)}catch(a){t=!1}return t}function augment(e,t,a,n,r){var i;if(e[REGEX_DATA]={captureNames:t},r)return e;if(e.__proto__)e.__proto__=XRegExp.prototype;else for(i in XRegExp.prototype)e[i]=XRegExp.prototype[i];return e[REGEX_DATA].source=a,e[REGEX_DATA].flags=n?n.split("").sort().join(""):n,e}function clipDuplicates(e){return nativ.replace.call(e,/([\s\S])(?=[\s\S]*\1)/g,"")}function copyRegex(e,t){if(!XRegExp.isRegExp(e))throw new TypeError("Type RegExp expected");var a=e[REGEX_DATA]||{},n=getNativeFlags(e),r="",i="",l=null,o=null;return t=t||{},t.removeG&&(i+="g"),t.removeY&&(i+="y"),i&&(n=nativ.replace.call(n,RegExp("["+i+"]+","g"),"")),t.addG&&(r+="g"),t.addY&&(r+="y"),r&&(n=clipDuplicates(n+r)),t.isInternalOnly||(void 0!==a.source&&(l=a.source),null!=a.flags&&(o=r?clipDuplicates(a.flags+r):a.flags)),e=augment(RegExp(t.source||e.source,n),hasNamedCapture(e)?a.captureNames.slice(0):null,l,o,t.isInternalOnly)}function dec(e){return parseInt(e,16)}function getContextualTokenSeparator(e,t,a){return"("===e.input.charAt(e.index-1)||")"===e.input.charAt(e.index+e[0].length)||isPatternNext(e.input,e.index+e[0].length,a,"[?*+]|{\\d+(?:,\\d*)?}")?"":"(?:)"}function getNativeFlags(e){return hasFlagsProp?e.flags:nativ.exec.call(/\/([a-z]*)$/i,RegExp.prototype.toString.call(e))[1]}function hasNamedCapture(e){return!(!e[REGEX_DATA]||!e[REGEX_DATA].captureNames)}function hex(e){return parseInt(e,10).toString(16)}function indexOf(e,t){var a,n=e.length;for(a=0;n>a;++a)if(e[a]===t)return a;return-1}function isPatternNext(e,t,a,n){var r="\\(\\?#[^)]*\\)",i="#[^#\\n]*",l=a.indexOf("x")>-1?["\\s",i,r]:[r];return nativ.test.call(RegExp("^(?:"+l.join("|")+")*(?:"+n+")"),e.slice(t))}function isType(e,t){return toString.call(e)==="[object "+t+"]"}function pad4(e){for(;e.length<4;)e="0"+e;return e}function prepareFlags(e,t){var a;if(clipDuplicates(t)!==t)throw new SyntaxError("Invalid duplicate regex flag "+t);for(e=nativ.replace.call(e,/^\(\?([\w$]+)\)/,function(e,a){if(nativ.test.call(/[gy]/,a))throw new SyntaxError("Cannot use flag g or y in mode modifier "+e);return t=clipDuplicates(t+a),""}),a=0;a<t.length;++a)if(!registeredFlags[t.charAt(a)])throw new SyntaxError("Unknown regex flag "+t.charAt(a));return{pattern:e,flags:t}}function prepareOptions(e){var t={};return isType(e,"String")?(XRegExp.forEach(e,/[^\s,]+/,function(e){t[e]=!0}),t):e}function registerFlag(e){if(!/^[\w$]$/.test(e))throw Error("Flag must be a single character A-Za-z0-9_$");registeredFlags[e]=!0}function runTokens(e,t,a,n,r){for(var i,l,o=tokens.length,p=e.charAt(a),s=null;o--;)if(l=tokens[o],!(l.leadChar&&l.leadChar!==p||l.scope!==n&&"all"!==l.scope||l.flag&&-1===t.indexOf(l.flag))&&(i=XRegExp.exec(e,l.regex,a,"sticky"))){s={matchLength:i[0].length,output:l.handler.call(r,i,n,t),reparse:l.reparse};break}return s}function setAstral(e){features.astral=e}function setNatives(e){RegExp.prototype.exec=(e?fixed:nativ).exec,RegExp.prototype.test=(e?fixed:nativ).test,String.prototype.match=(e?fixed:nativ).match,String.prototype.replace=(e?fixed:nativ).replace,String.prototype.split=(e?fixed:nativ).split,features.natives=e}function toObject(e){if(null==e)throw new TypeError("Cannot convert null or undefined to object");return e}function XRegExp(e,t){if(XRegExp.isRegExp(e)){if(void 0!==t)throw new TypeError("Cannot supply flags when copying a RegExp");return copyRegex(e)}if(e=void 0===e?"":e+"",t=void 0===t?"":t+"",XRegExp.isInstalled("astral")&&-1===t.indexOf("A")&&(t+="A"),patternCache[e]||(patternCache[e]={}),!patternCache[e][t]){for(var a,n={hasNamedCapture:!1,captureNames:[]},r=defaultScope,i="",l=0,o=prepareFlags(e,t),p=o.pattern,s=o.flags;l<p.length;){do a=runTokens(p,s,l,r,n),a&&a.reparse&&(p=p.slice(0,l)+a.output+p.slice(l+a.matchLength));while(a&&a.reparse);if(a)i+=a.output,l+=a.matchLength||1;else{var c=XRegExp.exec(p,nativeTokens[r],l,"sticky")[0];i+=c,l+=c.length,"["===c&&r===defaultScope?r=classScope:"]"===c&&r===classScope&&(r=defaultScope)}}patternCache[e][t]={pattern:nativ.replace.call(i,/(?:\(\?:\))+/g,"(?:)"),flags:nativ.replace.call(s,/[^gimuy]+/g,""),captures:n.hasNamedCapture?n.captureNames:null}}var g=patternCache[e][t];return augment(RegExp(g.pattern,g.flags),g.captures,e,t)}var REGEX_DATA="xregexp",features={astral:!1,natives:!1},nativ={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},fixed={},regexCache={},patternCache={},tokens=[],defaultScope="default",classScope="class",nativeTokens={"default":/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,"class":/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},replacementToken=/\$(?:{([\w$]+)}|(\d\d?|[\s\S]))/g,correctExecNpcg=void 0===nativ.exec.call(/()??/,"")[1],hasFlagsProp=void 0!==/x/.flags,toString={}.toString,hasNativeU=hasNativeFlag("u"),hasNativeY=hasNativeFlag("y"),registeredFlags={g:!0,i:!0,m:!0,u:hasNativeU,y:hasNativeY};XRegExp.prototype=RegExp(),XRegExp.version="3.2.0",XRegExp._clipDuplicates=clipDuplicates,XRegExp._hasNativeFlag=hasNativeFlag,XRegExp._dec=dec,XRegExp._hex=hex,XRegExp._pad4=pad4,XRegExp.addToken=function(e,t,a){a=a||{};var n,r=a.optionalFlags;if(a.flag&&registerFlag(a.flag),r)for(r=nativ.split.call(r,""),n=0;n<r.length;++n)registerFlag(r[n]);tokens.push({regex:copyRegex(e,{addG:!0,addY:hasNativeY,isInternalOnly:!0}),handler:t,scope:a.scope||defaultScope,flag:a.flag,reparse:a.reparse,leadChar:a.leadChar}),XRegExp.cache.flush("patterns")},XRegExp.cache=function(e,t){return regexCache[e]||(regexCache[e]={}),regexCache[e][t]||(regexCache[e][t]=XRegExp(e,t))},XRegExp.cache.flush=function(e){"patterns"===e?patternCache={}:regexCache={}},XRegExp.escape=function(e){return nativ.replace.call(toObject(e),/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},XRegExp.exec=function(e,t,a,n){var r,i,l="g",o=!1,p=!1;return o=hasNativeY&&!!(n||t.sticky&&n!==!1),o?l+="y":n&&(p=!0,l+="FakeY"),t[REGEX_DATA]=t[REGEX_DATA]||{},i=t[REGEX_DATA][l]||(t[REGEX_DATA][l]=copyRegex(t,{addG:!0,addY:o,source:p?t.source+"|()":void 0,removeY:n===!1,isInternalOnly:!0})),a=a||0,i.lastIndex=a,r=fixed.exec.call(i,e),p&&r&&""===r.pop()&&(r=null),t.global&&(t.lastIndex=r?i.lastIndex:0),r},XRegExp.forEach=function(e,t,a){for(var n,r=0,i=-1;n=XRegExp.exec(e,t,r);)a(n,++i,e,t),r=n.index+(n[0].length||1)},XRegExp.globalize=function(e){return copyRegex(e,{addG:!0})},XRegExp.install=function(e){e=prepareOptions(e),!features.astral&&e.astral&&setAstral(!0),!features.natives&&e.natives&&setNatives(!0)},XRegExp.isInstalled=function(e){return!!features[e]},XRegExp.isRegExp=function(e){return"[object RegExp]"===toString.call(e)},XRegExp.match=function(e,t,a){var n,r,i=t.global&&"one"!==a||"all"===a,l=(i?"g":"")+(t.sticky?"y":"")||"noGY";return t[REGEX_DATA]=t[REGEX_DATA]||{},r=t[REGEX_DATA][l]||(t[REGEX_DATA][l]=copyRegex(t,{addG:!!i,removeG:"one"===a,isInternalOnly:!0})),n=nativ.match.call(toObject(e),r),t.global&&(t.lastIndex="one"===a&&n?n.index+n[0].length:0),i?n||[]:n&&n[0]},XRegExp.matchChain=function(e,t){return function a(e,n){function r(e){if(i.backref){if(!e.hasOwnProperty(i.backref)&&+i.backref>=e.length)throw new ReferenceError("Backreference to undefined group: "+i.backref);l.push(e[i.backref]||"")}else l.push(e[0])}for(var i=t[n].regex?t[n]:{regex:t[n]},l=[],o=0;o<e.length;++o)XRegExp.forEach(e[o],i.regex,r);return n!==t.length-1&&l.length?a(l,n+1):l}([e],0)},XRegExp.replace=function(e,t,a,n){var r,i=XRegExp.isRegExp(t),l=t.global&&"one"!==n||"all"===n,o=(l?"g":"")+(t.sticky?"y":"")||"noGY",p=t;return i?(t[REGEX_DATA]=t[REGEX_DATA]||{},p=t[REGEX_DATA][o]||(t[REGEX_DATA][o]=copyRegex(t,{addG:!!l,removeG:"one"===n,isInternalOnly:!0}))):l&&(p=RegExp(XRegExp.escape(t+""),"g")),r=fixed.replace.call(toObject(e),p,a),i&&t.global&&(t.lastIndex=0),r},XRegExp.replaceEach=function(e,t){var a,n;for(a=0;a<t.length;++a)n=t[a],e=XRegExp.replace(e,n[0],n[1],n[2]);return e},XRegExp.split=function(e,t,a){return fixed.split.call(toObject(e),t,a)},XRegExp.test=function(e,t,a,n){return!!XRegExp.exec(e,t,a,n)},XRegExp.uninstall=function(e){e=prepareOptions(e),features.astral&&e.astral&&setAstral(!1),features.natives&&e.natives&&setNatives(!1)},XRegExp.union=function(e,t,a){function n(e,t,a){var n=i[o-r];if(t){if(++o,n)return"(?<"+n+">"}else if(a)return"\\"+(+a+r);return e}a=a||{};var r,i,l=a.conjunction||"or",o=0;if(!isType(e,"Array")||!e.length)throw new TypeError("Must provide a nonempty array of patterns to merge");for(var p,s=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,c=[],g=0;g<e.length;++g)p=e[g],XRegExp.isRegExp(p)?(r=o,i=p[REGEX_DATA]&&p[REGEX_DATA].captureNames||[],c.push(nativ.replace.call(XRegExp(p.source).source,s,n))):c.push(XRegExp.escape(p));var u="none"===l?"":"|";return XRegExp(c.join(u),t)},fixed.exec=function(e){var t,a,n,r=this.lastIndex,i=nativ.exec.apply(this,arguments);if(i){if(!correctExecNpcg&&i.length>1&&indexOf(i,"")>-1&&(a=copyRegex(this,{removeG:!0,isInternalOnly:!0}),nativ.replace.call((e+"").slice(i.index),a,function(){var e,t=arguments.length;for(e=1;t-2>e;++e)void 0===arguments[e]&&(i[e]=void 0)})),this[REGEX_DATA]&&this[REGEX_DATA].captureNames)for(n=1;n<i.length;++n)t=this[REGEX_DATA].captureNames[n-1],t&&(i[t]=i[n]);this.global&&!i[0].length&&this.lastIndex>i.index&&(this.lastIndex=i.index)}return this.global||(this.lastIndex=r),i},fixed.test=function(e){return!!fixed.exec.call(this,e)},fixed.match=function(e){var t;if(XRegExp.isRegExp(e)){if(e.global)return t=nativ.match.apply(this,arguments),e.lastIndex=0,t}else e=RegExp(e);return fixed.exec.call(e,toObject(this))},fixed.replace=function(e,t){var a,n,r,i=XRegExp.isRegExp(e);return i?(e[REGEX_DATA]&&(n=e[REGEX_DATA].captureNames),a=e.lastIndex):e+="",r=isType(t,"Function")?nativ.replace.call(this+"",e,function(){var a,r=arguments;if(n)for(r[0]=new String(r[0]),a=0;a<n.length;++a)n[a]&&(r[0][n[a]]=r[a+1]);return i&&e.global&&(e.lastIndex=r[r.length-2]+r[0].length),t.apply(void 0,r)}):nativ.replace.call(null==this?this:this+"",e,function(){var e=arguments;return nativ.replace.call(t+"",replacementToken,function(t,a,r){var i;if(a){if(i=+a,i<=e.length-3)return e[i]||"";if(i=n?indexOf(n,a):-1,0>i)throw new SyntaxError("Backreference to undefined group "+t);return e[i+1]||""}if("$"===r)return"$";if("&"===r||0===+r)return e[0];if("`"===r)return e[e.length-1].slice(0,e[e.length-2]);if("'"===r)return e[e.length-1].slice(e[e.length-2]+e[0].length);if(r=+r,!isNaN(r)){if(r>e.length-3)throw new SyntaxError("Backreference to undefined group "+t);return e[r]||""}throw new SyntaxError("Invalid token "+t)})}),i&&(e.lastIndex=e.global?0:a),r},fixed.split=function(e,t){if(!XRegExp.isRegExp(e))return nativ.split.apply(this,arguments);var a,n=this+"",r=[],i=e.lastIndex,l=0;return t=(void 0===t?-1:t)>>>0,XRegExp.forEach(n,e,function(e){e.index+e[0].length>l&&(r.push(n.slice(l,e.index)),e.length>1&&e.index<n.length&&Array.prototype.push.apply(r,e.slice(1)),a=e[0].length,l=e.index+a)}),l===n.length?(!nativ.test.call(e,"")||a)&&r.push(""):r.push(n.slice(l)),e.lastIndex=i,r.length>t?r.slice(0,t):r},XRegExp.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,function(e,t){if("B"===e[1]&&t===defaultScope)return e[0];throw new SyntaxError("Invalid escape "+e[0])},{scope:"all",leadChar:"\\"}),XRegExp.addToken(/\\u{([\dA-Fa-f]+)}/,function(e,t,a){var n=dec(e[1]);if(n>1114111)throw new SyntaxError("Invalid Unicode code point "+e[0]);if(65535>=n)return"\\u"+pad4(hex(n));if(hasNativeU&&a.indexOf("u")>-1)return e[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")},{scope:"all",leadChar:"\\"}),XRegExp.addToken(/\[(\^?)\]/,function(e){return e[1]?"[\\s\\S]":"\\b\\B"},{leadChar:"["}),XRegExp.addToken(/\(\?#[^)]*\)/,getContextualTokenSeparator,{leadChar:"("}),XRegExp.addToken(/\s+|#[^\n]*\n?/,getContextualTokenSeparator,{flag:"x"}),XRegExp.addToken(/\./,function(){return"[\\s\\S]"},{flag:"s",leadChar:"."}),XRegExp.addToken(/\\k<([\w$]+)>/,function(e){var t=isNaN(e[1])?indexOf(this.captureNames,e[1])+1:+e[1],a=e.index+e[0].length;if(!t||t>this.captureNames.length)throw new SyntaxError("Backreference to undefined group "+e[0]);return"\\"+t+(a===e.input.length||isNaN(e.input.charAt(a))?"":"(?:)")},{leadChar:"\\"}),XRegExp.addToken(/\\(\d+)/,function(e,t){if((t!==defaultScope||!/^[1-9]/.test(e[1])||+e[1]>this.captureNames.length)&&"0"!==e[1])throw new SyntaxError("Cannot use octal escape or backreference to undefined group "+e[0]);return e[0]},{scope:"all",leadChar:"\\"}),XRegExp.addToken(/\(\?P?<([\w$]+)>/,function(e){if(!isNaN(e[1]))throw new SyntaxError("Cannot use integer as capture name "+e[0]);if("length"===e[1]||"__proto__"===e[1])throw new SyntaxError("Cannot use reserved word as capture name "+e[0]);if(indexOf(this.captureNames,e[1])>-1)throw new SyntaxError("Cannot use same name for multiple groups "+e[0]);return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("},{leadChar:"("}),XRegExp.addToken(/\((?!\?)/,function(e,t,a){return a.indexOf("n")>-1?"(?:":(this.captureNames.push(null),"(")},{optionalFlags:"n",leadChar:"("});
// clang-format on
