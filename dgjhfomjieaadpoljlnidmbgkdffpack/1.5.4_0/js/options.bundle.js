!function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=477)}({477:function(e,n,t){"use strict";function r(){return document.getElementById("sg-url")}function o(){return document.getElementById("sg-url-form")}function c(){return o().querySelector('input[type="submit"]')}function i(){return document.getElementById("sg-enable-event-tracking")}function s(){return document.getElementById("sg-event-tracking-container")}function a(){return document.getElementById("sg-repository-search")}function u(){return document.getElementById("sg-file-tree-navigation")}function d(){return document.getElementById("sg-editor-container")}function p(){return document.getElementById("sg-open-in-editor")}function l(){chrome.storage.sync.get(function(e){r().value=e.sourcegraphURL,i().checked=e.eventTrackingEnabled,a().checked=e.repositorySearchEnabled,u().checked=e.repositoryFileTreeEnabled,p().checked=e.openInEditorEnabled})}var g=t(9);r().focus(),chrome.storage.onChanged.addListener(l),chrome.storage.sync.get(function(e){!(0,g.isFirefoxExtension)()&&s()&&(s().style.display="none"),d().style.display="none",void 0===e.sourcegraphURL?chrome.storage.sync.set({sourcegraphURL:"https://sourcegraph.com"}):r().value=e.sourcegraphURL,void 0===e.eventTrackingEnabled?chrome.storage.sync.set({eventTrackingEnabled:!(0,g.isFirefoxExtension)()}):(0,g.isFirefoxExtension)()&&(i().checked=e.eventTrackingEnabled),void 0===e.repositorySearchEnabled?chrome.storage.sync.set({repositorySearchEnabled:!0}):a().checked=e.repositorySearchEnabled,void 0===e.repositoryFileTreeEnabled?chrome.storage.sync.set({repositoryFileTreeEnabled:!0}):u().checked=e.repositoryFileTreeEnabled,void 0===e.openInEditorEnabled?chrome.storage.sync.set({openInEditorEnabled:!1}):p().checked=e.openInEditorEnabled}),o().addEventListener("submit",function(e){e.preventDefault();var n=r().value;n.endsWith("/")&&(n=n.substr(n.length-1)),chrome.permissions.request({origins:[n+"/*"]},function(e){e?chrome.storage.sync.set({sourcegraphURL:n}):l()})}),r().addEventListener("keydown",function(e){13===e.keyCode&&(e.preventDefault(),c().click())}),i().addEventListener("click",function(){chrome.storage.sync.set({eventTrackingEnabled:i().checked})}),a().addEventListener("click",function(){chrome.storage.sync.set({repositorySearchEnabled:a().checked})}),u().addEventListener("click",function(){chrome.storage.sync.set({repositoryFileTreeEnabled:u().checked})}),p().addEventListener("click",function(){chrome.storage.sync.set({openInEditorEnabled:p().checked})})},9:function(e,n,t){"use strict";function r(e){v&&console.error("event logger is being set twice, currently is "+v+" and being set to "+e),n.eventLogger=v=e}function o(e){n.sourcegraphUrl=m=e}function c(){return window.SOURCEGRAPH_PHABRICATOR_EXTENSION||!1}function i(e){n.sourcegraphRepoSearchToggled=k=e}function s(e){n.eventTrackingEnabled=b=e}function a(e){n.repositorySearchEnabled=x=e}function u(e){n.repositoryFileTreeEnabled=R=e}function d(e){n.openInEditorEnabled=T=e}function p(e){switch(e){case"go":return"go";case"ts":case"tsx":return"typescript";case"js":case"jsx":return"javascript";case"java":return"java";case"py":case"pyc":case"pyd":case"pyo":case"pyw":case"pyz":return"python";case"php":case"phtml":case"php3":case"php4":case"php5":case"php6":case"php7":case"phps":return"php";default:return"unknown"}}function l(e){var n=e.split(".");return 1===n.length?"":2===n.length&&""===n[0]?"":n[n.length-1].toLowerCase()}function g(){return window.SOURCEGRAPH_PHABRICATOR_EXTENSION?"phabricator-integration":E()?"firefox-extension":"chrome-extension"}function h(){var e=chrome;if(e&&e.app&&e.app.getDetails){var n=e.app.getDetails();if(n&&n.version)return n.version}if(e&&e.runtime&&e.runtime.getManifest){var t=e.runtime.getManifest();if(t&&t.version)return t.version}return"NO_VERSION"}function E(){return-1!==window.navigator.userAgent.indexOf("Firefox")}function f(){return!1}function y(e,n){return e+":"+n}Object.defineProperty(n,"__esModule",{value:!0}),n.setEventLogger=r,n.setSourcegraphUrl=o,n.isBrowserExtension=c,n.setSourcegraphRepoSearchToggled=i,n.setEventTrackingEnabled=s,n.setRepositorySearchEnabled=a,n.setRepositoryFileTreeEnabled=u,n.setOpenInEditorEnabled=d,n.getModeFromExtension=p,n.getPathExtension=l,n.getPlatformName=g,n.getExtensionVersion=h,n.isFirefoxExtension=E,n.isE2ETest=f,n.getDomainUsername=y;var v=n.eventLogger=void 0,m=n.sourcegraphUrl=window.localStorage.SOURCEGRAPH_URL||window.SOURCEGRAPH_URL||"https://sourcegraph.com",b=n.eventTrackingEnabled=!1,k=n.sourcegraphRepoSearchToggled=!1,x=n.repositorySearchEnabled=!1,R=n.repositoryFileTreeEnabled=!1,T=n.openInEditorEnabled=!1;n.supportedExtensions=new Set(["go","ts","tsx","js","jsx","java","py","php"])}});