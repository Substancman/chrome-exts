pluginFn['/js/plugins/v2/orgchart.js'] = function(lucid, window) {
	lucid.plugin.initBlockClass({className:"PersonBlock",name:"Person (Name)",searchKeywords:["organization","chart","person","name"],defaultSize:{w:160,h:60},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Name",value:"Name",getBoundingBox:function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}}});lucid.plugin.registerProperty(b,"Role",'<span style="font-size:18px;font-weight:bold;">Role</span>')},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderData:function(b){var a=
b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}]}});
function g(b,a,d){lucid.plugin.addContextMenuItems([{external:!0,label:b,logAction:"chart.viewport.context.orgchart."+b,action:function(a,b){function e(a,e,d){b[0]==e.Block&&lucid.plugin.setProperty(a,"Endpoint"+d,{Block:h,x:c.BoundingBox.x+c.BoundingBox.w*e.LinkX,y:c.BoundingBox.y+c.BoundingBox.h*e.LinkY})}var c=lucid.plugin.getAllProperties(b[0]);c.BoundingBox.h="PersonBlock"==d||"RoleBlock"==d?c.BoundingBox.h/2:2*c.BoundingBox.h;if(a=lucid.plugin.getItemPageId(b[0])){c.className=d;var h=lucid.plugin.addBlock(a,
c);if(h){a=lucid.plugin.getConnectedLines(b[0]);for(var f=0;f<a.length;f++)e(a[f],lucid.plugin.getProperty(a[f],"Endpoint1"),1),e(a[f],lucid.plugin.getProperty(a[f],"Endpoint2"),2);lucid.plugin.deleteItem(b[0])}}},visible:function(b){return b&&1!=b.length?!1:(b=lucid.plugin.getBlockClassName(b[0]))&&b==a}}])}g("Show Role or Title","PersonBlock","PersonRoleBlock");
lucid.plugin.initBlockClass({className:"RoleBlock",name:"Role or Title",unthemed:!0,searchKeywords:["organization","chart","role","position","title"],defaultSize:{w:160,h:60},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Role",value:'<span style="font-size:18px;font-weight:bold;">Role</span>',getBoundingBox:function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}}});lucid.plugin.registerProperty(b,"Name","Name")},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderData:function(b){var a=
b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}]}});g("Show Name","RoleBlock","PersonRoleBlock");
lucid.plugin.initBlockClass({className:"PersonRoleBlock",name:"Person (Name) With Role or Title",unthemed:!0,searchKeywords:"organization chart person name role position title".split(" "),defaultSize:{w:160,h:120},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Role",value:'<span style="font-size:18px;font-weight:bold;">Role</span>',getBoundingBox:function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h/2}}});lucid.plugin.addBlockTextArea(b,{id:"Name",value:"Name",getBoundingBox:function(a){return{x:a.x+
20,y:a.y+a.h/2,w:a.w-40,h:a.h/2}}})},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderData:function(b){var a=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y+a.h/2},{Action:"line",x:a.x+
a.w,y:a.y+a.h/2}]}]}});g("Hide Role or Title","PersonRoleBlock","PersonBlock");g("Hide Name","PersonRoleBlock","RoleBlock");
lucid.plugin.initBlockClass({className:"OrgChartTitleBlock",name:"Page Title",unthemed:!0,searchKeywords:["organization","chart","title","header"],defaultSize:{w:160,h:40},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Title",value:"My Organization",getBoundingBox:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h}}})},onAddToPage:function(b,a){function d(b){if(a){var c=lucid.plugin.getProperty(a,"Margin")*lucid.plugin.getProperty(a,"DPI"),e=lucid.plugin.getPageSize(a);b.x=c;b.y=c;b.w=e.w-2*c;b.h=
80}return b}lucid.plugin.setProperty(b,"BoundingBox",d(lucid.plugin.getProperty(b,"BoundingBox")));lucid.plugin.hookPropertyPreSave(b,"BoundingBox",function(a){return d(a)});var h=lucid.plugin.hookPropertyPostSave(a,"Size",function(a,c){a!=c&&lucid.plugin.setProperty(b,"BoundingBox",{})}),k=lucid.plugin.hookPropertyPostSave(a,"Margin",function(a,c){a!=c&&lucid.plugin.setProperty(b,"BoundingBox",{})});lucid.plugin.setProperty(b,"marginHook",k,!0);lucid.plugin.setProperty(b,"sizeHook",h,!0)},onDelete:function(b){var a=
lucid.plugin.getItemPageId(b);if(a){var d=lucid.plugin.getProperty(b,"marginHook",!0);b=lucid.plugin.getProperty(b,"sizeHook",!0);lucid.plugin.unHookPropertyPostSave(a,"Margin",d);lucid.plugin.unHookPropertyPostSave(a,"Size",b)}},getLinkPoints:function(){return[{x:.5,y:1}]},getRenderData:function(b){var a=b.BoundingBox;return[{FillColor:b.FillColor,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}]}});
lucid.plugin.createNextBlockGroup(["PersonBlock","RoleBlock","PersonRoleBlock"]);lucid.plugin.createToolGroups({"Org Chart":["PersonBlock","RoleBlock","PersonRoleBlock","OrgChartTitleBlock"]});
//# sourceMappingURL=/js/plugins/v2/source-maps/orgchart.js.map

};
